function J_(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Z_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xm={exports:{}},ml={},Vm={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ds=Symbol.for("react.element"),e0=Symbol.for("react.portal"),t0=Symbol.for("react.fragment"),n0=Symbol.for("react.strict_mode"),r0=Symbol.for("react.profiler"),i0=Symbol.for("react.provider"),o0=Symbol.for("react.context"),s0=Symbol.for("react.forward_ref"),a0=Symbol.for("react.suspense"),l0=Symbol.for("react.memo"),u0=Symbol.for("react.lazy"),Id=Symbol.iterator;function c0(t){return t===null||typeof t!="object"?null:(t=Id&&t[Id]||t["@@iterator"],typeof t=="function"?t:null)}var Dm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Nm=Object.assign,Om={};function Ui(t,e,n){this.props=t,this.context=e,this.refs=Om,this.updater=n||Dm}Ui.prototype.isReactComponent={};Ui.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ui.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Mm(){}Mm.prototype=Ui.prototype;function oh(t,e,n){this.props=t,this.context=e,this.refs=Om,this.updater=n||Dm}var sh=oh.prototype=new Mm;sh.constructor=oh;Nm(sh,Ui.prototype);sh.isPureReactComponent=!0;var Sd=Array.isArray,Lm=Object.prototype.hasOwnProperty,ah={current:null},bm={key:!0,ref:!0,__self:!0,__source:!0};function Fm(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)Lm.call(e,r)&&!bm.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),h=0;h<l;h++)u[h]=arguments[h+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:ds,type:t,key:o,ref:a,props:i,_owner:ah.current}}function h0(t,e){return{$$typeof:ds,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function lh(t){return typeof t=="object"&&t!==null&&t.$$typeof===ds}function f0(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ad=/\/+/g;function lu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?f0(""+t.key):e.toString(36)}function pa(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case ds:case e0:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+lu(a,0):r,Sd(i)?(n="",t!=null&&(n=t.replace(Ad,"$&/")+"/"),pa(i,e,n,"",function(h){return h})):i!=null&&(lh(i)&&(i=h0(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Ad,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",Sd(t))for(var l=0;l<t.length;l++){o=t[l];var u=r+lu(o,l);a+=pa(o,e,n,u,i)}else if(u=c0(t),typeof u=="function")for(t=u.call(t),l=0;!(o=t.next()).done;)o=o.value,u=r+lu(o,l++),a+=pa(o,e,n,u,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Qs(t,e,n){if(t==null)return t;var r=[],i=0;return pa(t,r,"","",function(o){return e.call(n,o,i++)}),r}function d0(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var yt={current:null},ma={transition:null},p0={ReactCurrentDispatcher:yt,ReactCurrentBatchConfig:ma,ReactCurrentOwner:ah};function Um(){throw Error("act(...) is not supported in production builds of React.")}le.Children={map:Qs,forEach:function(t,e,n){Qs(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Qs(t,function(){e++}),e},toArray:function(t){return Qs(t,function(e){return e})||[]},only:function(t){if(!lh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};le.Component=Ui;le.Fragment=t0;le.Profiler=r0;le.PureComponent=oh;le.StrictMode=n0;le.Suspense=a0;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=p0;le.act=Um;le.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Nm({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=ah.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)Lm.call(e,u)&&!bm.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var h=0;h<u;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:ds,type:t.type,key:i,ref:o,props:r,_owner:a}};le.createContext=function(t){return t={$$typeof:o0,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:i0,_context:t},t.Consumer=t};le.createElement=Fm;le.createFactory=function(t){var e=Fm.bind(null,t);return e.type=t,e};le.createRef=function(){return{current:null}};le.forwardRef=function(t){return{$$typeof:s0,render:t}};le.isValidElement=lh;le.lazy=function(t){return{$$typeof:u0,_payload:{_status:-1,_result:t},_init:d0}};le.memo=function(t,e){return{$$typeof:l0,type:t,compare:e===void 0?null:e}};le.startTransition=function(t){var e=ma.transition;ma.transition={};try{t()}finally{ma.transition=e}};le.unstable_act=Um;le.useCallback=function(t,e){return yt.current.useCallback(t,e)};le.useContext=function(t){return yt.current.useContext(t)};le.useDebugValue=function(){};le.useDeferredValue=function(t){return yt.current.useDeferredValue(t)};le.useEffect=function(t,e){return yt.current.useEffect(t,e)};le.useId=function(){return yt.current.useId()};le.useImperativeHandle=function(t,e,n){return yt.current.useImperativeHandle(t,e,n)};le.useInsertionEffect=function(t,e){return yt.current.useInsertionEffect(t,e)};le.useLayoutEffect=function(t,e){return yt.current.useLayoutEffect(t,e)};le.useMemo=function(t,e){return yt.current.useMemo(t,e)};le.useReducer=function(t,e,n){return yt.current.useReducer(t,e,n)};le.useRef=function(t){return yt.current.useRef(t)};le.useState=function(t){return yt.current.useState(t)};le.useSyncExternalStore=function(t,e,n){return yt.current.useSyncExternalStore(t,e,n)};le.useTransition=function(){return yt.current.useTransition()};le.version="18.3.1";Vm.exports=le;var q=Vm.exports;const jm=Z_(q),m0=J_({__proto__:null,default:jm},[q]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g0=q,y0=Symbol.for("react.element"),v0=Symbol.for("react.fragment"),_0=Object.prototype.hasOwnProperty,E0=g0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,w0={key:!0,ref:!0,__self:!0,__source:!0};function Bm(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)_0.call(e,r)&&!w0.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:y0,type:t,key:o,ref:a,props:i,_owner:E0.current}}ml.Fragment=v0;ml.jsx=Bm;ml.jsxs=Bm;xm.exports=ml;var K=xm.exports,$u={},zm={exports:{}},Ot={},$m={exports:{}},Wm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(W,J){var re=W.length;W.push(J);e:for(;0<re;){var we=re-1>>>1,me=W[we];if(0<i(me,J))W[we]=J,W[re]=me,re=we;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var J=W[0],re=W.pop();if(re!==J){W[0]=re;e:for(var we=0,me=W.length,Te=me>>>1;we<Te;){var Lt=2*(we+1)-1,_t=W[Lt],bt=Lt+1,Qt=W[bt];if(0>i(_t,re))bt<me&&0>i(Qt,_t)?(W[we]=Qt,W[bt]=re,we=bt):(W[we]=_t,W[Lt]=re,we=Lt);else if(bt<me&&0>i(Qt,re))W[we]=Qt,W[bt]=re,we=bt;else break e}}return J}function i(W,J){var re=W.sortIndex-J.sortIndex;return re!==0?re:W.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],h=[],d=1,p=null,v=3,P=!1,x=!1,O=!1,M=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(W){for(var J=n(h);J!==null;){if(J.callback===null)r(h);else if(J.startTime<=W)r(h),J.sortIndex=J.expirationTime,e(u,J);else break;J=n(h)}}function D(W){if(O=!1,_(W),!x)if(n(u)!==null)x=!0,yn(b);else{var J=n(h);J!==null&&Ht(D,J.startTime-W)}}function b(W,J){x=!1,O&&(O=!1,S(y),y=-1),P=!0;var re=v;try{for(_(J),p=n(u);p!==null&&(!(p.expirationTime>J)||W&&!R());){var we=p.callback;if(typeof we=="function"){p.callback=null,v=p.priorityLevel;var me=we(p.expirationTime<=J);J=t.unstable_now(),typeof me=="function"?p.callback=me:p===n(u)&&r(u),_(J)}else r(u);p=n(u)}if(p!==null)var Te=!0;else{var Lt=n(h);Lt!==null&&Ht(D,Lt.startTime-J),Te=!1}return Te}finally{p=null,v=re,P=!1}}var z=!1,E=null,y=-1,w=5,T=-1;function R(){return!(t.unstable_now()-T<w)}function k(){if(E!==null){var W=t.unstable_now();T=W;var J=!0;try{J=E(!0,W)}finally{J?I():(z=!1,E=null)}}else z=!1}var I;if(typeof g=="function")I=function(){g(k)};else if(typeof MessageChannel<"u"){var pt=new MessageChannel,qt=pt.port2;pt.port1.onmessage=k,I=function(){qt.postMessage(null)}}else I=function(){M(k,0)};function yn(W){E=W,z||(z=!0,I())}function Ht(W,J){y=M(function(){W(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){x||P||(x=!0,yn(b))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(W){switch(v){case 1:case 2:case 3:var J=3;break;default:J=v}var re=v;v=J;try{return W()}finally{v=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,J){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var re=v;v=W;try{return J()}finally{v=re}},t.unstable_scheduleCallback=function(W,J,re){var we=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?we+re:we):re=we,W){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=re+me,W={id:d++,callback:J,priorityLevel:W,startTime:re,expirationTime:me,sortIndex:-1},re>we?(W.sortIndex=re,e(h,W),n(u)===null&&W===n(h)&&(O?(S(y),y=-1):O=!0,Ht(D,re-we))):(W.sortIndex=me,e(u,W),x||P||(x=!0,yn(b))),W},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(W){var J=v;return function(){var re=v;v=J;try{return W.apply(this,arguments)}finally{v=re}}}})(Wm);$m.exports=Wm;var T0=$m.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I0=q,Nt=T0;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qm=new Set,Uo={};function qr(t,e){Ai(t,e),Ai(t+"Capture",e)}function Ai(t,e){for(Uo[t]=e,t=0;t<e.length;t++)qm.add(e[t])}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wu=Object.prototype.hasOwnProperty,S0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Pd={},Cd={};function A0(t){return Wu.call(Cd,t)?!0:Wu.call(Pd,t)?!1:S0.test(t)?Cd[t]=!0:(Pd[t]=!0,!1)}function P0(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function C0(t,e,n,r){if(e===null||typeof e>"u"||P0(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function vt(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){rt[t]=new vt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];rt[e]=new vt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){rt[t]=new vt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){rt[t]=new vt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){rt[t]=new vt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){rt[t]=new vt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){rt[t]=new vt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){rt[t]=new vt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){rt[t]=new vt(t,5,!1,t.toLowerCase(),null,!1,!1)});var uh=/[\-:]([a-z])/g;function ch(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(uh,ch);rt[e]=new vt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(uh,ch);rt[e]=new vt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(uh,ch);rt[e]=new vt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){rt[t]=new vt(t,1,!1,t.toLowerCase(),null,!1,!1)});rt.xlinkHref=new vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){rt[t]=new vt(t,1,!1,t.toLowerCase(),null,!0,!0)});function hh(t,e,n,r){var i=rt.hasOwnProperty(e)?rt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(C0(e,n,i,r)&&(n=null),r||i===null?A0(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Nn=I0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ks=Symbol.for("react.element"),ii=Symbol.for("react.portal"),oi=Symbol.for("react.fragment"),fh=Symbol.for("react.strict_mode"),qu=Symbol.for("react.profiler"),Hm=Symbol.for("react.provider"),Qm=Symbol.for("react.context"),dh=Symbol.for("react.forward_ref"),Hu=Symbol.for("react.suspense"),Qu=Symbol.for("react.suspense_list"),ph=Symbol.for("react.memo"),Bn=Symbol.for("react.lazy"),Km=Symbol.for("react.offscreen"),Rd=Symbol.iterator;function uo(t){return t===null||typeof t!="object"?null:(t=Rd&&t[Rd]||t["@@iterator"],typeof t=="function"?t:null)}var Ve=Object.assign,uu;function _o(t){if(uu===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);uu=e&&e[1]||""}return`
`+uu+t}var cu=!1;function hu(t,e){if(!t||cu)return"";cu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,l=o.length-1;1<=a&&0<=l&&i[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==o[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==o[l]){var u=`
`+i[a].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=a&&0<=l);break}}}finally{cu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?_o(t):""}function R0(t){switch(t.tag){case 5:return _o(t.type);case 16:return _o("Lazy");case 13:return _o("Suspense");case 19:return _o("SuspenseList");case 0:case 2:case 15:return t=hu(t.type,!1),t;case 11:return t=hu(t.type.render,!1),t;case 1:return t=hu(t.type,!0),t;default:return""}}function Ku(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case oi:return"Fragment";case ii:return"Portal";case qu:return"Profiler";case fh:return"StrictMode";case Hu:return"Suspense";case Qu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Qm:return(t.displayName||"Context")+".Consumer";case Hm:return(t._context.displayName||"Context")+".Provider";case dh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ph:return e=t.displayName||null,e!==null?e:Ku(t.type)||"Memo";case Bn:e=t._payload,t=t._init;try{return Ku(t(e))}catch{}}return null}function k0(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ku(e);case 8:return e===fh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ar(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Gm(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function x0(t){var e=Gm(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Gs(t){t._valueTracker||(t._valueTracker=x0(t))}function Xm(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Gm(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function xa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Gu(t,e){var n=e.checked;return Ve({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function kd(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ar(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Ym(t,e){e=e.checked,e!=null&&hh(t,"checked",e,!1)}function Xu(t,e){Ym(t,e);var n=ar(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Yu(t,e.type,n):e.hasOwnProperty("defaultValue")&&Yu(t,e.type,ar(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function xd(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Yu(t,e,n){(e!=="number"||xa(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Eo=Array.isArray;function gi(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ar(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ju(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return Ve({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Vd(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(Eo(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ar(n)}}function Jm(t,e){var n=ar(e.value),r=ar(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Dd(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Zm(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Zm(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Xs,eg=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Xs=Xs||document.createElement("div"),Xs.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Xs.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function jo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Po={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},V0=["Webkit","ms","Moz","O"];Object.keys(Po).forEach(function(t){V0.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Po[e]=Po[t]})});function tg(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Po.hasOwnProperty(t)&&Po[t]?(""+e).trim():e+"px"}function ng(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=tg(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var D0=Ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ec(t,e){if(e){if(D0[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function tc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nc=null;function mh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var rc=null,yi=null,vi=null;function Nd(t){if(t=gs(t)){if(typeof rc!="function")throw Error(B(280));var e=t.stateNode;e&&(e=El(e),rc(t.stateNode,t.type,e))}}function rg(t){yi?vi?vi.push(t):vi=[t]:yi=t}function ig(){if(yi){var t=yi,e=vi;if(vi=yi=null,Nd(t),e)for(t=0;t<e.length;t++)Nd(e[t])}}function og(t,e){return t(e)}function sg(){}var fu=!1;function ag(t,e,n){if(fu)return t(e,n);fu=!0;try{return og(t,e,n)}finally{fu=!1,(yi!==null||vi!==null)&&(sg(),ig())}}function Bo(t,e){var n=t.stateNode;if(n===null)return null;var r=El(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var ic=!1;if(Cn)try{var co={};Object.defineProperty(co,"passive",{get:function(){ic=!0}}),window.addEventListener("test",co,co),window.removeEventListener("test",co,co)}catch{ic=!1}function N0(t,e,n,r,i,o,a,l,u){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(d){this.onError(d)}}var Co=!1,Va=null,Da=!1,oc=null,O0={onError:function(t){Co=!0,Va=t}};function M0(t,e,n,r,i,o,a,l,u){Co=!1,Va=null,N0.apply(O0,arguments)}function L0(t,e,n,r,i,o,a,l,u){if(M0.apply(this,arguments),Co){if(Co){var h=Va;Co=!1,Va=null}else throw Error(B(198));Da||(Da=!0,oc=h)}}function Hr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function lg(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Od(t){if(Hr(t)!==t)throw Error(B(188))}function b0(t){var e=t.alternate;if(!e){if(e=Hr(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Od(i),t;if(o===r)return Od(i),e;o=o.sibling}throw Error(B(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function ug(t){return t=b0(t),t!==null?cg(t):null}function cg(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=cg(t);if(e!==null)return e;t=t.sibling}return null}var hg=Nt.unstable_scheduleCallback,Md=Nt.unstable_cancelCallback,F0=Nt.unstable_shouldYield,U0=Nt.unstable_requestPaint,Le=Nt.unstable_now,j0=Nt.unstable_getCurrentPriorityLevel,gh=Nt.unstable_ImmediatePriority,fg=Nt.unstable_UserBlockingPriority,Na=Nt.unstable_NormalPriority,B0=Nt.unstable_LowPriority,dg=Nt.unstable_IdlePriority,gl=null,cn=null;function z0(t){if(cn&&typeof cn.onCommitFiberRoot=="function")try{cn.onCommitFiberRoot(gl,t,void 0,(t.current.flags&128)===128)}catch{}}var tn=Math.clz32?Math.clz32:q0,$0=Math.log,W0=Math.LN2;function q0(t){return t>>>=0,t===0?32:31-($0(t)/W0|0)|0}var Ys=64,Js=4194304;function wo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Oa(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~i;l!==0?r=wo(l):(o&=a,o!==0&&(r=wo(o)))}else a=n&~i,a!==0?r=wo(a):o!==0&&(r=wo(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-tn(e),i=1<<n,r|=t[n],e&=~i;return r}function H0(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Q0(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-tn(o),l=1<<a,u=i[a];u===-1?(!(l&n)||l&r)&&(i[a]=H0(l,e)):u<=e&&(t.expiredLanes|=l),o&=~l}}function sc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function pg(){var t=Ys;return Ys<<=1,!(Ys&4194240)&&(Ys=64),t}function du(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ps(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-tn(e),t[e]=n}function K0(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-tn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function yh(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-tn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ge=0;function mg(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var gg,vh,yg,vg,_g,ac=!1,Zs=[],Gn=null,Xn=null,Yn=null,zo=new Map,$o=new Map,$n=[],G0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ld(t,e){switch(t){case"focusin":case"focusout":Gn=null;break;case"dragenter":case"dragleave":Xn=null;break;case"mouseover":case"mouseout":Yn=null;break;case"pointerover":case"pointerout":zo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":$o.delete(e.pointerId)}}function ho(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=gs(e),e!==null&&vh(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function X0(t,e,n,r,i){switch(e){case"focusin":return Gn=ho(Gn,t,e,n,r,i),!0;case"dragenter":return Xn=ho(Xn,t,e,n,r,i),!0;case"mouseover":return Yn=ho(Yn,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return zo.set(o,ho(zo.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,$o.set(o,ho($o.get(o)||null,t,e,n,r,i)),!0}return!1}function Eg(t){var e=Cr(t.target);if(e!==null){var n=Hr(e);if(n!==null){if(e=n.tag,e===13){if(e=lg(n),e!==null){t.blockedOn=e,_g(t.priority,function(){yg(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ga(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=lc(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);nc=r,n.target.dispatchEvent(r),nc=null}else return e=gs(n),e!==null&&vh(e),t.blockedOn=n,!1;e.shift()}return!0}function bd(t,e,n){ga(t)&&n.delete(e)}function Y0(){ac=!1,Gn!==null&&ga(Gn)&&(Gn=null),Xn!==null&&ga(Xn)&&(Xn=null),Yn!==null&&ga(Yn)&&(Yn=null),zo.forEach(bd),$o.forEach(bd)}function fo(t,e){t.blockedOn===e&&(t.blockedOn=null,ac||(ac=!0,Nt.unstable_scheduleCallback(Nt.unstable_NormalPriority,Y0)))}function Wo(t){function e(i){return fo(i,t)}if(0<Zs.length){fo(Zs[0],t);for(var n=1;n<Zs.length;n++){var r=Zs[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Gn!==null&&fo(Gn,t),Xn!==null&&fo(Xn,t),Yn!==null&&fo(Yn,t),zo.forEach(e),$o.forEach(e),n=0;n<$n.length;n++)r=$n[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<$n.length&&(n=$n[0],n.blockedOn===null);)Eg(n),n.blockedOn===null&&$n.shift()}var _i=Nn.ReactCurrentBatchConfig,Ma=!0;function J0(t,e,n,r){var i=ge,o=_i.transition;_i.transition=null;try{ge=1,_h(t,e,n,r)}finally{ge=i,_i.transition=o}}function Z0(t,e,n,r){var i=ge,o=_i.transition;_i.transition=null;try{ge=4,_h(t,e,n,r)}finally{ge=i,_i.transition=o}}function _h(t,e,n,r){if(Ma){var i=lc(t,e,n,r);if(i===null)Iu(t,e,r,La,n),Ld(t,r);else if(X0(i,t,e,n,r))r.stopPropagation();else if(Ld(t,r),e&4&&-1<G0.indexOf(t)){for(;i!==null;){var o=gs(i);if(o!==null&&gg(o),o=lc(t,e,n,r),o===null&&Iu(t,e,r,La,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Iu(t,e,r,null,n)}}var La=null;function lc(t,e,n,r){if(La=null,t=mh(r),t=Cr(t),t!==null)if(e=Hr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=lg(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return La=t,null}function wg(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(j0()){case gh:return 1;case fg:return 4;case Na:case B0:return 16;case dg:return 536870912;default:return 16}default:return 16}}var qn=null,Eh=null,ya=null;function Tg(){if(ya)return ya;var t,e=Eh,n=e.length,r,i="value"in qn?qn.value:qn.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return ya=i.slice(t,1<r?1-r:void 0)}function va(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ea(){return!0}function Fd(){return!1}function Mt(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ea:Fd,this.isPropagationStopped=Fd,this}return Ve(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ea)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ea)},persist:function(){},isPersistent:ea}),e}var ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wh=Mt(ji),ms=Ve({},ji,{view:0,detail:0}),eE=Mt(ms),pu,mu,po,yl=Ve({},ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Th,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==po&&(po&&t.type==="mousemove"?(pu=t.screenX-po.screenX,mu=t.screenY-po.screenY):mu=pu=0,po=t),pu)},movementY:function(t){return"movementY"in t?t.movementY:mu}}),Ud=Mt(yl),tE=Ve({},yl,{dataTransfer:0}),nE=Mt(tE),rE=Ve({},ms,{relatedTarget:0}),gu=Mt(rE),iE=Ve({},ji,{animationName:0,elapsedTime:0,pseudoElement:0}),oE=Mt(iE),sE=Ve({},ji,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),aE=Mt(sE),lE=Ve({},ji,{data:0}),jd=Mt(lE),uE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fE(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=hE[t])?!!e[t]:!1}function Th(){return fE}var dE=Ve({},ms,{key:function(t){if(t.key){var e=uE[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=va(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?cE[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Th,charCode:function(t){return t.type==="keypress"?va(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?va(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),pE=Mt(dE),mE=Ve({},yl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bd=Mt(mE),gE=Ve({},ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Th}),yE=Mt(gE),vE=Ve({},ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),_E=Mt(vE),EE=Ve({},yl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),wE=Mt(EE),TE=[9,13,27,32],Ih=Cn&&"CompositionEvent"in window,Ro=null;Cn&&"documentMode"in document&&(Ro=document.documentMode);var IE=Cn&&"TextEvent"in window&&!Ro,Ig=Cn&&(!Ih||Ro&&8<Ro&&11>=Ro),zd=" ",$d=!1;function Sg(t,e){switch(t){case"keyup":return TE.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ag(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var si=!1;function SE(t,e){switch(t){case"compositionend":return Ag(e);case"keypress":return e.which!==32?null:($d=!0,zd);case"textInput":return t=e.data,t===zd&&$d?null:t;default:return null}}function AE(t,e){if(si)return t==="compositionend"||!Ih&&Sg(t,e)?(t=Tg(),ya=Eh=qn=null,si=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ig&&e.locale!=="ko"?null:e.data;default:return null}}var PE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!PE[t.type]:e==="textarea"}function Pg(t,e,n,r){rg(r),e=ba(e,"onChange"),0<e.length&&(n=new wh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ko=null,qo=null;function CE(t){bg(t,0)}function vl(t){var e=ui(t);if(Xm(e))return t}function RE(t,e){if(t==="change")return e}var Cg=!1;if(Cn){var yu;if(Cn){var vu="oninput"in document;if(!vu){var qd=document.createElement("div");qd.setAttribute("oninput","return;"),vu=typeof qd.oninput=="function"}yu=vu}else yu=!1;Cg=yu&&(!document.documentMode||9<document.documentMode)}function Hd(){ko&&(ko.detachEvent("onpropertychange",Rg),qo=ko=null)}function Rg(t){if(t.propertyName==="value"&&vl(qo)){var e=[];Pg(e,qo,t,mh(t)),ag(CE,e)}}function kE(t,e,n){t==="focusin"?(Hd(),ko=e,qo=n,ko.attachEvent("onpropertychange",Rg)):t==="focusout"&&Hd()}function xE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return vl(qo)}function VE(t,e){if(t==="click")return vl(e)}function DE(t,e){if(t==="input"||t==="change")return vl(e)}function NE(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var rn=typeof Object.is=="function"?Object.is:NE;function Ho(t,e){if(rn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Wu.call(e,i)||!rn(t[i],e[i]))return!1}return!0}function Qd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Kd(t,e){var n=Qd(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Qd(n)}}function kg(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?kg(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function xg(){for(var t=window,e=xa();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=xa(t.document)}return e}function Sh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function OE(t){var e=xg(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&kg(n.ownerDocument.documentElement,n)){if(r!==null&&Sh(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Kd(n,o);var a=Kd(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ME=Cn&&"documentMode"in document&&11>=document.documentMode,ai=null,uc=null,xo=null,cc=!1;function Gd(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;cc||ai==null||ai!==xa(r)||(r=ai,"selectionStart"in r&&Sh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),xo&&Ho(xo,r)||(xo=r,r=ba(uc,"onSelect"),0<r.length&&(e=new wh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ai)))}function ta(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var li={animationend:ta("Animation","AnimationEnd"),animationiteration:ta("Animation","AnimationIteration"),animationstart:ta("Animation","AnimationStart"),transitionend:ta("Transition","TransitionEnd")},_u={},Vg={};Cn&&(Vg=document.createElement("div").style,"AnimationEvent"in window||(delete li.animationend.animation,delete li.animationiteration.animation,delete li.animationstart.animation),"TransitionEvent"in window||delete li.transitionend.transition);function _l(t){if(_u[t])return _u[t];if(!li[t])return t;var e=li[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Vg)return _u[t]=e[n];return t}var Dg=_l("animationend"),Ng=_l("animationiteration"),Og=_l("animationstart"),Mg=_l("transitionend"),Lg=new Map,Xd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fr(t,e){Lg.set(t,e),qr(e,[t])}for(var Eu=0;Eu<Xd.length;Eu++){var wu=Xd[Eu],LE=wu.toLowerCase(),bE=wu[0].toUpperCase()+wu.slice(1);fr(LE,"on"+bE)}fr(Dg,"onAnimationEnd");fr(Ng,"onAnimationIteration");fr(Og,"onAnimationStart");fr("dblclick","onDoubleClick");fr("focusin","onFocus");fr("focusout","onBlur");fr(Mg,"onTransitionEnd");Ai("onMouseEnter",["mouseout","mouseover"]);Ai("onMouseLeave",["mouseout","mouseover"]);Ai("onPointerEnter",["pointerout","pointerover"]);Ai("onPointerLeave",["pointerout","pointerover"]);qr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qr("onBeforeInput",["compositionend","keypress","textInput","paste"]);qr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var To="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FE=new Set("cancel close invalid load scroll toggle".split(" ").concat(To));function Yd(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,L0(r,e,void 0,t),t.currentTarget=null}function bg(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],u=l.instance,h=l.currentTarget;if(l=l.listener,u!==o&&i.isPropagationStopped())break e;Yd(i,l,h),o=u}else for(a=0;a<r.length;a++){if(l=r[a],u=l.instance,h=l.currentTarget,l=l.listener,u!==o&&i.isPropagationStopped())break e;Yd(i,l,h),o=u}}}if(Da)throw t=oc,Da=!1,oc=null,t}function Se(t,e){var n=e[mc];n===void 0&&(n=e[mc]=new Set);var r=t+"__bubble";n.has(r)||(Fg(e,t,2,!1),n.add(r))}function Tu(t,e,n){var r=0;e&&(r|=4),Fg(n,t,r,e)}var na="_reactListening"+Math.random().toString(36).slice(2);function Qo(t){if(!t[na]){t[na]=!0,qm.forEach(function(n){n!=="selectionchange"&&(FE.has(n)||Tu(n,!1,t),Tu(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[na]||(e[na]=!0,Tu("selectionchange",!1,e))}}function Fg(t,e,n,r){switch(wg(e)){case 1:var i=J0;break;case 4:i=Z0;break;default:i=_h}n=i.bind(null,e,n,t),i=void 0,!ic||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Iu(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;a=a.return}for(;l!==null;){if(a=Cr(l),a===null)return;if(u=a.tag,u===5||u===6){r=o=a;continue e}l=l.parentNode}}r=r.return}ag(function(){var h=o,d=mh(n),p=[];e:{var v=Lg.get(t);if(v!==void 0){var P=wh,x=t;switch(t){case"keypress":if(va(n)===0)break e;case"keydown":case"keyup":P=pE;break;case"focusin":x="focus",P=gu;break;case"focusout":x="blur",P=gu;break;case"beforeblur":case"afterblur":P=gu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=Ud;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=nE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=yE;break;case Dg:case Ng:case Og:P=oE;break;case Mg:P=_E;break;case"scroll":P=eE;break;case"wheel":P=wE;break;case"copy":case"cut":case"paste":P=aE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=Bd}var O=(e&4)!==0,M=!O&&t==="scroll",S=O?v!==null?v+"Capture":null:v;O=[];for(var g=h,_;g!==null;){_=g;var D=_.stateNode;if(_.tag===5&&D!==null&&(_=D,S!==null&&(D=Bo(g,S),D!=null&&O.push(Ko(g,D,_)))),M)break;g=g.return}0<O.length&&(v=new P(v,x,null,n,d),p.push({event:v,listeners:O}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",P=t==="mouseout"||t==="pointerout",v&&n!==nc&&(x=n.relatedTarget||n.fromElement)&&(Cr(x)||x[Rn]))break e;if((P||v)&&(v=d.window===d?d:(v=d.ownerDocument)?v.defaultView||v.parentWindow:window,P?(x=n.relatedTarget||n.toElement,P=h,x=x?Cr(x):null,x!==null&&(M=Hr(x),x!==M||x.tag!==5&&x.tag!==6)&&(x=null)):(P=null,x=h),P!==x)){if(O=Ud,D="onMouseLeave",S="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(O=Bd,D="onPointerLeave",S="onPointerEnter",g="pointer"),M=P==null?v:ui(P),_=x==null?v:ui(x),v=new O(D,g+"leave",P,n,d),v.target=M,v.relatedTarget=_,D=null,Cr(d)===h&&(O=new O(S,g+"enter",x,n,d),O.target=_,O.relatedTarget=M,D=O),M=D,P&&x)t:{for(O=P,S=x,g=0,_=O;_;_=ei(_))g++;for(_=0,D=S;D;D=ei(D))_++;for(;0<g-_;)O=ei(O),g--;for(;0<_-g;)S=ei(S),_--;for(;g--;){if(O===S||S!==null&&O===S.alternate)break t;O=ei(O),S=ei(S)}O=null}else O=null;P!==null&&Jd(p,v,P,O,!1),x!==null&&M!==null&&Jd(p,M,x,O,!0)}}e:{if(v=h?ui(h):window,P=v.nodeName&&v.nodeName.toLowerCase(),P==="select"||P==="input"&&v.type==="file")var b=RE;else if(Wd(v))if(Cg)b=DE;else{b=xE;var z=kE}else(P=v.nodeName)&&P.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(b=VE);if(b&&(b=b(t,h))){Pg(p,b,n,d);break e}z&&z(t,v,h),t==="focusout"&&(z=v._wrapperState)&&z.controlled&&v.type==="number"&&Yu(v,"number",v.value)}switch(z=h?ui(h):window,t){case"focusin":(Wd(z)||z.contentEditable==="true")&&(ai=z,uc=h,xo=null);break;case"focusout":xo=uc=ai=null;break;case"mousedown":cc=!0;break;case"contextmenu":case"mouseup":case"dragend":cc=!1,Gd(p,n,d);break;case"selectionchange":if(ME)break;case"keydown":case"keyup":Gd(p,n,d)}var E;if(Ih)e:{switch(t){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else si?Sg(t,n)&&(y="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(Ig&&n.locale!=="ko"&&(si||y!=="onCompositionStart"?y==="onCompositionEnd"&&si&&(E=Tg()):(qn=d,Eh="value"in qn?qn.value:qn.textContent,si=!0)),z=ba(h,y),0<z.length&&(y=new jd(y,t,null,n,d),p.push({event:y,listeners:z}),E?y.data=E:(E=Ag(n),E!==null&&(y.data=E)))),(E=IE?SE(t,n):AE(t,n))&&(h=ba(h,"onBeforeInput"),0<h.length&&(d=new jd("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:h}),d.data=E))}bg(p,e)})}function Ko(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ba(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Bo(t,n),o!=null&&r.unshift(Ko(t,o,i)),o=Bo(t,e),o!=null&&r.push(Ko(t,o,i))),t=t.return}return r}function ei(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Jd(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var l=n,u=l.alternate,h=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&h!==null&&(l=h,i?(u=Bo(n,o),u!=null&&a.unshift(Ko(n,u,l))):i||(u=Bo(n,o),u!=null&&a.push(Ko(n,u,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var UE=/\r\n?/g,jE=/\u0000|\uFFFD/g;function Zd(t){return(typeof t=="string"?t:""+t).replace(UE,`
`).replace(jE,"")}function ra(t,e,n){if(e=Zd(e),Zd(t)!==e&&n)throw Error(B(425))}function Fa(){}var hc=null,fc=null;function dc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var pc=typeof setTimeout=="function"?setTimeout:void 0,BE=typeof clearTimeout=="function"?clearTimeout:void 0,ep=typeof Promise=="function"?Promise:void 0,zE=typeof queueMicrotask=="function"?queueMicrotask:typeof ep<"u"?function(t){return ep.resolve(null).then(t).catch($E)}:pc;function $E(t){setTimeout(function(){throw t})}function Su(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Wo(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Wo(e)}function Jn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function tp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Bi=Math.random().toString(36).slice(2),un="__reactFiber$"+Bi,Go="__reactProps$"+Bi,Rn="__reactContainer$"+Bi,mc="__reactEvents$"+Bi,WE="__reactListeners$"+Bi,qE="__reactHandles$"+Bi;function Cr(t){var e=t[un];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Rn]||n[un]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=tp(t);t!==null;){if(n=t[un])return n;t=tp(t)}return e}t=n,n=t.parentNode}return null}function gs(t){return t=t[un]||t[Rn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ui(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function El(t){return t[Go]||null}var gc=[],ci=-1;function dr(t){return{current:t}}function Ae(t){0>ci||(t.current=gc[ci],gc[ci]=null,ci--)}function _e(t,e){ci++,gc[ci]=t.current,t.current=e}var lr={},ft=dr(lr),St=dr(!1),Or=lr;function Pi(t,e){var n=t.type.contextTypes;if(!n)return lr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function At(t){return t=t.childContextTypes,t!=null}function Ua(){Ae(St),Ae(ft)}function np(t,e,n){if(ft.current!==lr)throw Error(B(168));_e(ft,e),_e(St,n)}function Ug(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(B(108,k0(t)||"Unknown",i));return Ve({},n,r)}function ja(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||lr,Or=ft.current,_e(ft,t),_e(St,St.current),!0}function rp(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=Ug(t,e,Or),r.__reactInternalMemoizedMergedChildContext=t,Ae(St),Ae(ft),_e(ft,t)):Ae(St),_e(St,n)}var In=null,wl=!1,Au=!1;function jg(t){In===null?In=[t]:In.push(t)}function HE(t){wl=!0,jg(t)}function pr(){if(!Au&&In!==null){Au=!0;var t=0,e=ge;try{var n=In;for(ge=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}In=null,wl=!1}catch(i){throw In!==null&&(In=In.slice(t+1)),hg(gh,pr),i}finally{ge=e,Au=!1}}return null}var hi=[],fi=0,Ba=null,za=0,Ut=[],jt=0,Mr=null,Sn=1,An="";function Ir(t,e){hi[fi++]=za,hi[fi++]=Ba,Ba=t,za=e}function Bg(t,e,n){Ut[jt++]=Sn,Ut[jt++]=An,Ut[jt++]=Mr,Mr=t;var r=Sn;t=An;var i=32-tn(r)-1;r&=~(1<<i),n+=1;var o=32-tn(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Sn=1<<32-tn(e)+i|n<<i|r,An=o+t}else Sn=1<<o|n<<i|r,An=t}function Ah(t){t.return!==null&&(Ir(t,1),Bg(t,1,0))}function Ph(t){for(;t===Ba;)Ba=hi[--fi],hi[fi]=null,za=hi[--fi],hi[fi]=null;for(;t===Mr;)Mr=Ut[--jt],Ut[jt]=null,An=Ut[--jt],Ut[jt]=null,Sn=Ut[--jt],Ut[jt]=null}var Vt=null,kt=null,Re=!1,en=null;function zg(t,e){var n=Bt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ip(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Vt=t,kt=Jn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Vt=t,kt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Mr!==null?{id:Sn,overflow:An}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Bt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Vt=t,kt=null,!0):!1;default:return!1}}function yc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function vc(t){if(Re){var e=kt;if(e){var n=e;if(!ip(t,e)){if(yc(t))throw Error(B(418));e=Jn(n.nextSibling);var r=Vt;e&&ip(t,e)?zg(r,n):(t.flags=t.flags&-4097|2,Re=!1,Vt=t)}}else{if(yc(t))throw Error(B(418));t.flags=t.flags&-4097|2,Re=!1,Vt=t}}}function op(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Vt=t}function ia(t){if(t!==Vt)return!1;if(!Re)return op(t),Re=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!dc(t.type,t.memoizedProps)),e&&(e=kt)){if(yc(t))throw $g(),Error(B(418));for(;e;)zg(t,e),e=Jn(e.nextSibling)}if(op(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){kt=Jn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}kt=null}}else kt=Vt?Jn(t.stateNode.nextSibling):null;return!0}function $g(){for(var t=kt;t;)t=Jn(t.nextSibling)}function Ci(){kt=Vt=null,Re=!1}function Ch(t){en===null?en=[t]:en.push(t)}var QE=Nn.ReactCurrentBatchConfig;function mo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var l=i.refs;a===null?delete l[o]:l[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function oa(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function sp(t){var e=t._init;return e(t._payload)}function Wg(t){function e(S,g){if(t){var _=S.deletions;_===null?(S.deletions=[g],S.flags|=16):_.push(g)}}function n(S,g){if(!t)return null;for(;g!==null;)e(S,g),g=g.sibling;return null}function r(S,g){for(S=new Map;g!==null;)g.key!==null?S.set(g.key,g):S.set(g.index,g),g=g.sibling;return S}function i(S,g){return S=nr(S,g),S.index=0,S.sibling=null,S}function o(S,g,_){return S.index=_,t?(_=S.alternate,_!==null?(_=_.index,_<g?(S.flags|=2,g):_):(S.flags|=2,g)):(S.flags|=1048576,g)}function a(S){return t&&S.alternate===null&&(S.flags|=2),S}function l(S,g,_,D){return g===null||g.tag!==6?(g=Du(_,S.mode,D),g.return=S,g):(g=i(g,_),g.return=S,g)}function u(S,g,_,D){var b=_.type;return b===oi?d(S,g,_.props.children,D,_.key):g!==null&&(g.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Bn&&sp(b)===g.type)?(D=i(g,_.props),D.ref=mo(S,g,_),D.return=S,D):(D=Aa(_.type,_.key,_.props,null,S.mode,D),D.ref=mo(S,g,_),D.return=S,D)}function h(S,g,_,D){return g===null||g.tag!==4||g.stateNode.containerInfo!==_.containerInfo||g.stateNode.implementation!==_.implementation?(g=Nu(_,S.mode,D),g.return=S,g):(g=i(g,_.children||[]),g.return=S,g)}function d(S,g,_,D,b){return g===null||g.tag!==7?(g=Dr(_,S.mode,D,b),g.return=S,g):(g=i(g,_),g.return=S,g)}function p(S,g,_){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Du(""+g,S.mode,_),g.return=S,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ks:return _=Aa(g.type,g.key,g.props,null,S.mode,_),_.ref=mo(S,null,g),_.return=S,_;case ii:return g=Nu(g,S.mode,_),g.return=S,g;case Bn:var D=g._init;return p(S,D(g._payload),_)}if(Eo(g)||uo(g))return g=Dr(g,S.mode,_,null),g.return=S,g;oa(S,g)}return null}function v(S,g,_,D){var b=g!==null?g.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return b!==null?null:l(S,g,""+_,D);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ks:return _.key===b?u(S,g,_,D):null;case ii:return _.key===b?h(S,g,_,D):null;case Bn:return b=_._init,v(S,g,b(_._payload),D)}if(Eo(_)||uo(_))return b!==null?null:d(S,g,_,D,null);oa(S,_)}return null}function P(S,g,_,D,b){if(typeof D=="string"&&D!==""||typeof D=="number")return S=S.get(_)||null,l(g,S,""+D,b);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Ks:return S=S.get(D.key===null?_:D.key)||null,u(g,S,D,b);case ii:return S=S.get(D.key===null?_:D.key)||null,h(g,S,D,b);case Bn:var z=D._init;return P(S,g,_,z(D._payload),b)}if(Eo(D)||uo(D))return S=S.get(_)||null,d(g,S,D,b,null);oa(g,D)}return null}function x(S,g,_,D){for(var b=null,z=null,E=g,y=g=0,w=null;E!==null&&y<_.length;y++){E.index>y?(w=E,E=null):w=E.sibling;var T=v(S,E,_[y],D);if(T===null){E===null&&(E=w);break}t&&E&&T.alternate===null&&e(S,E),g=o(T,g,y),z===null?b=T:z.sibling=T,z=T,E=w}if(y===_.length)return n(S,E),Re&&Ir(S,y),b;if(E===null){for(;y<_.length;y++)E=p(S,_[y],D),E!==null&&(g=o(E,g,y),z===null?b=E:z.sibling=E,z=E);return Re&&Ir(S,y),b}for(E=r(S,E);y<_.length;y++)w=P(E,S,y,_[y],D),w!==null&&(t&&w.alternate!==null&&E.delete(w.key===null?y:w.key),g=o(w,g,y),z===null?b=w:z.sibling=w,z=w);return t&&E.forEach(function(R){return e(S,R)}),Re&&Ir(S,y),b}function O(S,g,_,D){var b=uo(_);if(typeof b!="function")throw Error(B(150));if(_=b.call(_),_==null)throw Error(B(151));for(var z=b=null,E=g,y=g=0,w=null,T=_.next();E!==null&&!T.done;y++,T=_.next()){E.index>y?(w=E,E=null):w=E.sibling;var R=v(S,E,T.value,D);if(R===null){E===null&&(E=w);break}t&&E&&R.alternate===null&&e(S,E),g=o(R,g,y),z===null?b=R:z.sibling=R,z=R,E=w}if(T.done)return n(S,E),Re&&Ir(S,y),b;if(E===null){for(;!T.done;y++,T=_.next())T=p(S,T.value,D),T!==null&&(g=o(T,g,y),z===null?b=T:z.sibling=T,z=T);return Re&&Ir(S,y),b}for(E=r(S,E);!T.done;y++,T=_.next())T=P(E,S,y,T.value,D),T!==null&&(t&&T.alternate!==null&&E.delete(T.key===null?y:T.key),g=o(T,g,y),z===null?b=T:z.sibling=T,z=T);return t&&E.forEach(function(k){return e(S,k)}),Re&&Ir(S,y),b}function M(S,g,_,D){if(typeof _=="object"&&_!==null&&_.type===oi&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Ks:e:{for(var b=_.key,z=g;z!==null;){if(z.key===b){if(b=_.type,b===oi){if(z.tag===7){n(S,z.sibling),g=i(z,_.props.children),g.return=S,S=g;break e}}else if(z.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Bn&&sp(b)===z.type){n(S,z.sibling),g=i(z,_.props),g.ref=mo(S,z,_),g.return=S,S=g;break e}n(S,z);break}else e(S,z);z=z.sibling}_.type===oi?(g=Dr(_.props.children,S.mode,D,_.key),g.return=S,S=g):(D=Aa(_.type,_.key,_.props,null,S.mode,D),D.ref=mo(S,g,_),D.return=S,S=D)}return a(S);case ii:e:{for(z=_.key;g!==null;){if(g.key===z)if(g.tag===4&&g.stateNode.containerInfo===_.containerInfo&&g.stateNode.implementation===_.implementation){n(S,g.sibling),g=i(g,_.children||[]),g.return=S,S=g;break e}else{n(S,g);break}else e(S,g);g=g.sibling}g=Nu(_,S.mode,D),g.return=S,S=g}return a(S);case Bn:return z=_._init,M(S,g,z(_._payload),D)}if(Eo(_))return x(S,g,_,D);if(uo(_))return O(S,g,_,D);oa(S,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,g!==null&&g.tag===6?(n(S,g.sibling),g=i(g,_),g.return=S,S=g):(n(S,g),g=Du(_,S.mode,D),g.return=S,S=g),a(S)):n(S,g)}return M}var Ri=Wg(!0),qg=Wg(!1),$a=dr(null),Wa=null,di=null,Rh=null;function kh(){Rh=di=Wa=null}function xh(t){var e=$a.current;Ae($a),t._currentValue=e}function _c(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ei(t,e){Wa=t,Rh=di=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(It=!0),t.firstContext=null)}function $t(t){var e=t._currentValue;if(Rh!==t)if(t={context:t,memoizedValue:e,next:null},di===null){if(Wa===null)throw Error(B(308));di=t,Wa.dependencies={lanes:0,firstContext:t}}else di=di.next=t;return e}var Rr=null;function Vh(t){Rr===null?Rr=[t]:Rr.push(t)}function Hg(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Vh(e)):(n.next=i.next,i.next=n),e.interleaved=n,kn(t,r)}function kn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var zn=!1;function Dh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qg(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Pn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Zn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,fe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,kn(t,n)}return i=r.interleaved,i===null?(e.next=e,Vh(r)):(e.next=i.next,i.next=e),r.interleaved=e,kn(t,n)}function _a(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,yh(t,n)}}function ap(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function qa(t,e,n,r){var i=t.updateQueue;zn=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,h=u.next;u.next=null,a===null?o=h:a.next=h,a=u;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=h:l.next=h,d.lastBaseUpdate=u))}if(o!==null){var p=i.baseState;a=0,d=h=u=null,l=o;do{var v=l.lane,P=l.eventTime;if((r&v)===v){d!==null&&(d=d.next={eventTime:P,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=t,O=l;switch(v=e,P=n,O.tag){case 1:if(x=O.payload,typeof x=="function"){p=x.call(P,p,v);break e}p=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=O.payload,v=typeof x=="function"?x.call(P,p,v):x,v==null)break e;p=Ve({},p,v);break e;case 2:zn=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,v=i.effects,v===null?i.effects=[l]:v.push(l))}else P={eventTime:P,lane:v,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(h=d=P,u=p):d=d.next=P,a|=v;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;v=l,l=v.next,v.next=null,i.lastBaseUpdate=v,i.shared.pending=null}}while(!0);if(d===null&&(u=p),i.baseState=u,i.firstBaseUpdate=h,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);br|=a,t.lanes=a,t.memoizedState=p}}function lp(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(B(191,i));i.call(r)}}}var ys={},hn=dr(ys),Xo=dr(ys),Yo=dr(ys);function kr(t){if(t===ys)throw Error(B(174));return t}function Nh(t,e){switch(_e(Yo,e),_e(Xo,t),_e(hn,ys),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Zu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Zu(e,t)}Ae(hn),_e(hn,e)}function ki(){Ae(hn),Ae(Xo),Ae(Yo)}function Kg(t){kr(Yo.current);var e=kr(hn.current),n=Zu(e,t.type);e!==n&&(_e(Xo,t),_e(hn,n))}function Oh(t){Xo.current===t&&(Ae(hn),Ae(Xo))}var ke=dr(0);function Ha(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Pu=[];function Mh(){for(var t=0;t<Pu.length;t++)Pu[t]._workInProgressVersionPrimary=null;Pu.length=0}var Ea=Nn.ReactCurrentDispatcher,Cu=Nn.ReactCurrentBatchConfig,Lr=0,xe=null,ze=null,Ke=null,Qa=!1,Vo=!1,Jo=0,KE=0;function st(){throw Error(B(321))}function Lh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!rn(t[n],e[n]))return!1;return!0}function bh(t,e,n,r,i,o){if(Lr=o,xe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ea.current=t===null||t.memoizedState===null?JE:ZE,t=n(r,i),Vo){o=0;do{if(Vo=!1,Jo=0,25<=o)throw Error(B(301));o+=1,Ke=ze=null,e.updateQueue=null,Ea.current=ew,t=n(r,i)}while(Vo)}if(Ea.current=Ka,e=ze!==null&&ze.next!==null,Lr=0,Ke=ze=xe=null,Qa=!1,e)throw Error(B(300));return t}function Fh(){var t=Jo!==0;return Jo=0,t}function ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?xe.memoizedState=Ke=t:Ke=Ke.next=t,Ke}function Wt(){if(ze===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=ze.next;var e=Ke===null?xe.memoizedState:Ke.next;if(e!==null)Ke=e,ze=t;else{if(t===null)throw Error(B(310));ze=t,t={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},Ke===null?xe.memoizedState=Ke=t:Ke=Ke.next=t}return Ke}function Zo(t,e){return typeof e=="function"?e(t):e}function Ru(t){var e=Wt(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=ze,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=a=null,u=null,h=o;do{var d=h.lane;if((Lr&d)===d)u!==null&&(u=u.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var p={lane:d,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};u===null?(l=u=p,a=r):u=u.next=p,xe.lanes|=d,br|=d}h=h.next}while(h!==null&&h!==o);u===null?a=r:u.next=l,rn(r,e.memoizedState)||(It=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,xe.lanes|=o,br|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ku(t){var e=Wt(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);rn(o,e.memoizedState)||(It=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function Gg(){}function Xg(t,e){var n=xe,r=Wt(),i=e(),o=!rn(r.memoizedState,i);if(o&&(r.memoizedState=i,It=!0),r=r.queue,Uh(Zg.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Ke!==null&&Ke.memoizedState.tag&1){if(n.flags|=2048,es(9,Jg.bind(null,n,r,i,e),void 0,null),Ge===null)throw Error(B(349));Lr&30||Yg(n,e,i)}return i}function Yg(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=xe.updateQueue,e===null?(e={lastEffect:null,stores:null},xe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Jg(t,e,n,r){e.value=n,e.getSnapshot=r,ey(e)&&ty(t)}function Zg(t,e,n){return n(function(){ey(e)&&ty(t)})}function ey(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!rn(t,n)}catch{return!0}}function ty(t){var e=kn(t,1);e!==null&&nn(e,t,1,-1)}function up(t){var e=ln();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zo,lastRenderedState:t},e.queue=t,t=t.dispatch=YE.bind(null,xe,t),[e.memoizedState,t]}function es(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=xe.updateQueue,e===null?(e={lastEffect:null,stores:null},xe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ny(){return Wt().memoizedState}function wa(t,e,n,r){var i=ln();xe.flags|=t,i.memoizedState=es(1|e,n,void 0,r===void 0?null:r)}function Tl(t,e,n,r){var i=Wt();r=r===void 0?null:r;var o=void 0;if(ze!==null){var a=ze.memoizedState;if(o=a.destroy,r!==null&&Lh(r,a.deps)){i.memoizedState=es(e,n,o,r);return}}xe.flags|=t,i.memoizedState=es(1|e,n,o,r)}function cp(t,e){return wa(8390656,8,t,e)}function Uh(t,e){return Tl(2048,8,t,e)}function ry(t,e){return Tl(4,2,t,e)}function iy(t,e){return Tl(4,4,t,e)}function oy(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function sy(t,e,n){return n=n!=null?n.concat([t]):null,Tl(4,4,oy.bind(null,e,t),n)}function jh(){}function ay(t,e){var n=Wt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Lh(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ly(t,e){var n=Wt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Lh(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function uy(t,e,n){return Lr&21?(rn(n,e)||(n=pg(),xe.lanes|=n,br|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,It=!0),t.memoizedState=n)}function GE(t,e){var n=ge;ge=n!==0&&4>n?n:4,t(!0);var r=Cu.transition;Cu.transition={};try{t(!1),e()}finally{ge=n,Cu.transition=r}}function cy(){return Wt().memoizedState}function XE(t,e,n){var r=tr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},hy(t))fy(e,n);else if(n=Hg(t,e,n,r),n!==null){var i=gt();nn(n,t,r,i),dy(n,e,r)}}function YE(t,e,n){var r=tr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(hy(t))fy(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,l=o(a,n);if(i.hasEagerState=!0,i.eagerState=l,rn(l,a)){var u=e.interleaved;u===null?(i.next=i,Vh(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=Hg(t,e,i,r),n!==null&&(i=gt(),nn(n,t,r,i),dy(n,e,r))}}function hy(t){var e=t.alternate;return t===xe||e!==null&&e===xe}function fy(t,e){Vo=Qa=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function dy(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,yh(t,n)}}var Ka={readContext:$t,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useInsertionEffect:st,useLayoutEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useMutableSource:st,useSyncExternalStore:st,useId:st,unstable_isNewReconciler:!1},JE={readContext:$t,useCallback:function(t,e){return ln().memoizedState=[t,e===void 0?null:e],t},useContext:$t,useEffect:cp,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,wa(4194308,4,oy.bind(null,e,t),n)},useLayoutEffect:function(t,e){return wa(4194308,4,t,e)},useInsertionEffect:function(t,e){return wa(4,2,t,e)},useMemo:function(t,e){var n=ln();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ln();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=XE.bind(null,xe,t),[r.memoizedState,t]},useRef:function(t){var e=ln();return t={current:t},e.memoizedState=t},useState:up,useDebugValue:jh,useDeferredValue:function(t){return ln().memoizedState=t},useTransition:function(){var t=up(!1),e=t[0];return t=GE.bind(null,t[1]),ln().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=xe,i=ln();if(Re){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),Ge===null)throw Error(B(349));Lr&30||Yg(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,cp(Zg.bind(null,r,o,t),[t]),r.flags|=2048,es(9,Jg.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=ln(),e=Ge.identifierPrefix;if(Re){var n=An,r=Sn;n=(r&~(1<<32-tn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Jo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=KE++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ZE={readContext:$t,useCallback:ay,useContext:$t,useEffect:Uh,useImperativeHandle:sy,useInsertionEffect:ry,useLayoutEffect:iy,useMemo:ly,useReducer:Ru,useRef:ny,useState:function(){return Ru(Zo)},useDebugValue:jh,useDeferredValue:function(t){var e=Wt();return uy(e,ze.memoizedState,t)},useTransition:function(){var t=Ru(Zo)[0],e=Wt().memoizedState;return[t,e]},useMutableSource:Gg,useSyncExternalStore:Xg,useId:cy,unstable_isNewReconciler:!1},ew={readContext:$t,useCallback:ay,useContext:$t,useEffect:Uh,useImperativeHandle:sy,useInsertionEffect:ry,useLayoutEffect:iy,useMemo:ly,useReducer:ku,useRef:ny,useState:function(){return ku(Zo)},useDebugValue:jh,useDeferredValue:function(t){var e=Wt();return ze===null?e.memoizedState=t:uy(e,ze.memoizedState,t)},useTransition:function(){var t=ku(Zo)[0],e=Wt().memoizedState;return[t,e]},useMutableSource:Gg,useSyncExternalStore:Xg,useId:cy,unstable_isNewReconciler:!1};function Jt(t,e){if(t&&t.defaultProps){e=Ve({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ec(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ve({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Il={isMounted:function(t){return(t=t._reactInternals)?Hr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=gt(),i=tr(t),o=Pn(r,i);o.payload=e,n!=null&&(o.callback=n),e=Zn(t,o,i),e!==null&&(nn(e,t,i,r),_a(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=gt(),i=tr(t),o=Pn(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Zn(t,o,i),e!==null&&(nn(e,t,i,r),_a(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=gt(),r=tr(t),i=Pn(n,r);i.tag=2,e!=null&&(i.callback=e),e=Zn(t,i,r),e!==null&&(nn(e,t,r,n),_a(e,t,r))}};function hp(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!Ho(n,r)||!Ho(i,o):!0}function py(t,e,n){var r=!1,i=lr,o=e.contextType;return typeof o=="object"&&o!==null?o=$t(o):(i=At(e)?Or:ft.current,r=e.contextTypes,o=(r=r!=null)?Pi(t,i):lr),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Il,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function fp(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Il.enqueueReplaceState(e,e.state,null)}function wc(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Dh(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=$t(o):(o=At(e)?Or:ft.current,i.context=Pi(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Ec(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Il.enqueueReplaceState(i,i.state,null),qa(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function xi(t,e){try{var n="",r=e;do n+=R0(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function xu(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Tc(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var tw=typeof WeakMap=="function"?WeakMap:Map;function my(t,e,n){n=Pn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Xa||(Xa=!0,Dc=r),Tc(t,e)},n}function gy(t,e,n){n=Pn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Tc(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Tc(t,e),typeof r!="function"&&(er===null?er=new Set([this]):er.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function dp(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new tw;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=mw.bind(null,t,e,n),e.then(t,t))}function pp(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function mp(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Pn(-1,1),e.tag=2,Zn(n,e,1))),n.lanes|=1),t)}var nw=Nn.ReactCurrentOwner,It=!1;function mt(t,e,n,r){e.child=t===null?qg(e,null,n,r):Ri(e,t.child,n,r)}function gp(t,e,n,r,i){n=n.render;var o=e.ref;return Ei(e,i),r=bh(t,e,n,r,o,i),n=Fh(),t!==null&&!It?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,xn(t,e,i)):(Re&&n&&Ah(e),e.flags|=1,mt(t,e,r,i),e.child)}function yp(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Kh(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,yy(t,e,o,r,i)):(t=Aa(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ho,n(a,r)&&t.ref===e.ref)return xn(t,e,i)}return e.flags|=1,t=nr(o,r),t.ref=e.ref,t.return=e,e.child=t}function yy(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Ho(o,r)&&t.ref===e.ref)if(It=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(It=!0);else return e.lanes=t.lanes,xn(t,e,i)}return Ic(t,e,n,r,i)}function vy(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e(mi,Rt),Rt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,_e(mi,Rt),Rt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,_e(mi,Rt),Rt|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,_e(mi,Rt),Rt|=r;return mt(t,e,i,n),e.child}function _y(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ic(t,e,n,r,i){var o=At(n)?Or:ft.current;return o=Pi(e,o),Ei(e,i),n=bh(t,e,n,r,o,i),r=Fh(),t!==null&&!It?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,xn(t,e,i)):(Re&&r&&Ah(e),e.flags|=1,mt(t,e,n,i),e.child)}function vp(t,e,n,r,i){if(At(n)){var o=!0;ja(e)}else o=!1;if(Ei(e,i),e.stateNode===null)Ta(t,e),py(e,n,r),wc(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var u=a.context,h=n.contextType;typeof h=="object"&&h!==null?h=$t(h):(h=At(n)?Or:ft.current,h=Pi(e,h));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||u!==h)&&fp(e,a,r,h),zn=!1;var v=e.memoizedState;a.state=v,qa(e,r,a,i),u=e.memoizedState,l!==r||v!==u||St.current||zn?(typeof d=="function"&&(Ec(e,n,d,r),u=e.memoizedState),(l=zn||hp(e,n,l,r,v,u,h))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=h,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,Qg(t,e),l=e.memoizedProps,h=e.type===e.elementType?l:Jt(e.type,l),a.props=h,p=e.pendingProps,v=a.context,u=n.contextType,typeof u=="object"&&u!==null?u=$t(u):(u=At(n)?Or:ft.current,u=Pi(e,u));var P=n.getDerivedStateFromProps;(d=typeof P=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==p||v!==u)&&fp(e,a,r,u),zn=!1,v=e.memoizedState,a.state=v,qa(e,r,a,i);var x=e.memoizedState;l!==p||v!==x||St.current||zn?(typeof P=="function"&&(Ec(e,n,P,r),x=e.memoizedState),(h=zn||hp(e,n,h,r,v,x,u)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,x,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,x,u)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),a.props=r,a.state=x,a.context=u,r=h):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),r=!1)}return Sc(t,e,n,r,o,i)}function Sc(t,e,n,r,i,o){_y(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&rp(e,n,!1),xn(t,e,o);r=e.stateNode,nw.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Ri(e,t.child,null,o),e.child=Ri(e,null,l,o)):mt(t,e,l,o),e.memoizedState=r.state,i&&rp(e,n,!0),e.child}function Ey(t){var e=t.stateNode;e.pendingContext?np(t,e.pendingContext,e.pendingContext!==e.context):e.context&&np(t,e.context,!1),Nh(t,e.containerInfo)}function _p(t,e,n,r,i){return Ci(),Ch(i),e.flags|=256,mt(t,e,n,r),e.child}var Ac={dehydrated:null,treeContext:null,retryLane:0};function Pc(t){return{baseLanes:t,cachePool:null,transitions:null}}function wy(t,e,n){var r=e.pendingProps,i=ke.current,o=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),_e(ke,i&1),t===null)return vc(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Pl(a,r,0,null),t=Dr(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Pc(n),e.memoizedState=Ac,t):Bh(e,a));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return rw(t,e,a,r,l,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=nr(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=nr(l,o):(o=Dr(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?Pc(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=Ac,r}return o=t.child,t=o.sibling,r=nr(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Bh(t,e){return e=Pl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function sa(t,e,n,r){return r!==null&&Ch(r),Ri(e,t.child,null,n),t=Bh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function rw(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=xu(Error(B(422))),sa(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Pl({mode:"visible",children:r.children},i,0,null),o=Dr(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Ri(e,t.child,null,a),e.child.memoizedState=Pc(a),e.memoizedState=Ac,o);if(!(e.mode&1))return sa(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(B(419)),r=xu(o,r,void 0),sa(t,e,a,r)}if(l=(a&t.childLanes)!==0,It||l){if(r=Ge,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,kn(t,i),nn(r,t,i,-1))}return Qh(),r=xu(Error(B(421))),sa(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=gw.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,kt=Jn(i.nextSibling),Vt=e,Re=!0,en=null,t!==null&&(Ut[jt++]=Sn,Ut[jt++]=An,Ut[jt++]=Mr,Sn=t.id,An=t.overflow,Mr=e),e=Bh(e,r.children),e.flags|=4096,e)}function Ep(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),_c(t.return,e,n)}function Vu(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Ty(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(mt(t,e,r.children,n),r=ke.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ep(t,n,e);else if(t.tag===19)Ep(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(_e(ke,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ha(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Vu(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ha(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Vu(e,!0,n,null,o);break;case"together":Vu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ta(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function xn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),br|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=nr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=nr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function iw(t,e,n){switch(e.tag){case 3:Ey(e),Ci();break;case 5:Kg(e);break;case 1:At(e.type)&&ja(e);break;case 4:Nh(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;_e($a,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(_e(ke,ke.current&1),e.flags|=128,null):n&e.child.childLanes?wy(t,e,n):(_e(ke,ke.current&1),t=xn(t,e,n),t!==null?t.sibling:null);_e(ke,ke.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Ty(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),_e(ke,ke.current),r)break;return null;case 22:case 23:return e.lanes=0,vy(t,e,n)}return xn(t,e,n)}var Iy,Cc,Sy,Ay;Iy=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Cc=function(){};Sy=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,kr(hn.current);var o=null;switch(n){case"input":i=Gu(t,i),r=Gu(t,r),o=[];break;case"select":i=Ve({},i,{value:void 0}),r=Ve({},r,{value:void 0}),o=[];break;case"textarea":i=Ju(t,i),r=Ju(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Fa)}ec(n,r);var a;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var l=i[h];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Uo.hasOwnProperty(h)?o||(o=[]):(o=o||[]).push(h,null));for(h in r){var u=r[h];if(l=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&u!==l&&(u!=null||l!=null))if(h==="style")if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(o||(o=[]),o.push(h,n)),n=u;else h==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(o=o||[]).push(h,u)):h==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(h,""+u):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Uo.hasOwnProperty(h)?(u!=null&&h==="onScroll"&&Se("scroll",t),o||l===u||(o=[])):(o=o||[]).push(h,u))}n&&(o=o||[]).push("style",n);var h=o;(e.updateQueue=h)&&(e.flags|=4)}};Ay=function(t,e,n,r){n!==r&&(e.flags|=4)};function go(t,e){if(!Re)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function at(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function ow(t,e,n){var r=e.pendingProps;switch(Ph(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(e),null;case 1:return At(e.type)&&Ua(),at(e),null;case 3:return r=e.stateNode,ki(),Ae(St),Ae(ft),Mh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ia(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,en!==null&&(Mc(en),en=null))),Cc(t,e),at(e),null;case 5:Oh(e);var i=kr(Yo.current);if(n=e.type,t!==null&&e.stateNode!=null)Sy(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return at(e),null}if(t=kr(hn.current),ia(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[un]=e,r[Go]=o,t=(e.mode&1)!==0,n){case"dialog":Se("cancel",r),Se("close",r);break;case"iframe":case"object":case"embed":Se("load",r);break;case"video":case"audio":for(i=0;i<To.length;i++)Se(To[i],r);break;case"source":Se("error",r);break;case"img":case"image":case"link":Se("error",r),Se("load",r);break;case"details":Se("toggle",r);break;case"input":kd(r,o),Se("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Se("invalid",r);break;case"textarea":Vd(r,o),Se("invalid",r)}ec(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&ra(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&ra(r.textContent,l,t),i=["children",""+l]):Uo.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Se("scroll",r)}switch(n){case"input":Gs(r),xd(r,o,!0);break;case"textarea":Gs(r),Dd(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Fa)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Zm(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[un]=e,t[Go]=r,Iy(t,e,!1,!1),e.stateNode=t;e:{switch(a=tc(n,r),n){case"dialog":Se("cancel",t),Se("close",t),i=r;break;case"iframe":case"object":case"embed":Se("load",t),i=r;break;case"video":case"audio":for(i=0;i<To.length;i++)Se(To[i],t);i=r;break;case"source":Se("error",t),i=r;break;case"img":case"image":case"link":Se("error",t),Se("load",t),i=r;break;case"details":Se("toggle",t),i=r;break;case"input":kd(t,r),i=Gu(t,r),Se("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ve({},r,{value:void 0}),Se("invalid",t);break;case"textarea":Vd(t,r),i=Ju(t,r),Se("invalid",t);break;default:i=r}ec(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var u=l[o];o==="style"?ng(t,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&eg(t,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&jo(t,u):typeof u=="number"&&jo(t,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Uo.hasOwnProperty(o)?u!=null&&o==="onScroll"&&Se("scroll",t):u!=null&&hh(t,o,u,a))}switch(n){case"input":Gs(t),xd(t,r,!1);break;case"textarea":Gs(t),Dd(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ar(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?gi(t,!!r.multiple,o,!1):r.defaultValue!=null&&gi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Fa)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return at(e),null;case 6:if(t&&e.stateNode!=null)Ay(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=kr(Yo.current),kr(hn.current),ia(e)){if(r=e.stateNode,n=e.memoizedProps,r[un]=e,(o=r.nodeValue!==n)&&(t=Vt,t!==null))switch(t.tag){case 3:ra(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ra(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[un]=e,e.stateNode=r}return at(e),null;case 13:if(Ae(ke),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Re&&kt!==null&&e.mode&1&&!(e.flags&128))$g(),Ci(),e.flags|=98560,o=!1;else if(o=ia(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(B(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(B(317));o[un]=e}else Ci(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;at(e),o=!1}else en!==null&&(Mc(en),en=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ke.current&1?We===0&&(We=3):Qh())),e.updateQueue!==null&&(e.flags|=4),at(e),null);case 4:return ki(),Cc(t,e),t===null&&Qo(e.stateNode.containerInfo),at(e),null;case 10:return xh(e.type._context),at(e),null;case 17:return At(e.type)&&Ua(),at(e),null;case 19:if(Ae(ke),o=e.memoizedState,o===null)return at(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)go(o,!1);else{if(We!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Ha(t),a!==null){for(e.flags|=128,go(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return _e(ke,ke.current&1|2),e.child}t=t.sibling}o.tail!==null&&Le()>Vi&&(e.flags|=128,r=!0,go(o,!1),e.lanes=4194304)}else{if(!r)if(t=Ha(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),go(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Re)return at(e),null}else 2*Le()-o.renderingStartTime>Vi&&n!==1073741824&&(e.flags|=128,r=!0,go(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Le(),e.sibling=null,n=ke.current,_e(ke,r?n&1|2:n&1),e):(at(e),null);case 22:case 23:return Hh(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Rt&1073741824&&(at(e),e.subtreeFlags&6&&(e.flags|=8192)):at(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function sw(t,e){switch(Ph(e),e.tag){case 1:return At(e.type)&&Ua(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ki(),Ae(St),Ae(ft),Mh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Oh(e),null;case 13:if(Ae(ke),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));Ci()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ae(ke),null;case 4:return ki(),null;case 10:return xh(e.type._context),null;case 22:case 23:return Hh(),null;case 24:return null;default:return null}}var aa=!1,ct=!1,aw=typeof WeakSet=="function"?WeakSet:Set,Q=null;function pi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Oe(t,e,r)}else n.current=null}function Rc(t,e,n){try{n()}catch(r){Oe(t,e,r)}}var wp=!1;function lw(t,e){if(hc=Ma,t=xg(),Sh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,l=-1,u=-1,h=0,d=0,p=t,v=null;t:for(;;){for(var P;p!==n||i!==0&&p.nodeType!==3||(l=a+i),p!==o||r!==0&&p.nodeType!==3||(u=a+r),p.nodeType===3&&(a+=p.nodeValue.length),(P=p.firstChild)!==null;)v=p,p=P;for(;;){if(p===t)break t;if(v===n&&++h===i&&(l=a),v===o&&++d===r&&(u=a),(P=p.nextSibling)!==null)break;p=v,v=p.parentNode}p=P}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(fc={focusedElem:t,selectionRange:n},Ma=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var O=x.memoizedProps,M=x.memoizedState,S=e.stateNode,g=S.getSnapshotBeforeUpdate(e.elementType===e.type?O:Jt(e.type,O),M);S.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(D){Oe(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return x=wp,wp=!1,x}function Do(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Rc(e,n,o)}i=i.next}while(i!==r)}}function Sl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function kc(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Py(t){var e=t.alternate;e!==null&&(t.alternate=null,Py(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[un],delete e[Go],delete e[mc],delete e[WE],delete e[qE])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Cy(t){return t.tag===5||t.tag===3||t.tag===4}function Tp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Cy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Fa));else if(r!==4&&(t=t.child,t!==null))for(xc(t,e,n),t=t.sibling;t!==null;)xc(t,e,n),t=t.sibling}function Vc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Vc(t,e,n),t=t.sibling;t!==null;)Vc(t,e,n),t=t.sibling}var Je=null,Zt=!1;function jn(t,e,n){for(n=n.child;n!==null;)Ry(t,e,n),n=n.sibling}function Ry(t,e,n){if(cn&&typeof cn.onCommitFiberUnmount=="function")try{cn.onCommitFiberUnmount(gl,n)}catch{}switch(n.tag){case 5:ct||pi(n,e);case 6:var r=Je,i=Zt;Je=null,jn(t,e,n),Je=r,Zt=i,Je!==null&&(Zt?(t=Je,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Je.removeChild(n.stateNode));break;case 18:Je!==null&&(Zt?(t=Je,n=n.stateNode,t.nodeType===8?Su(t.parentNode,n):t.nodeType===1&&Su(t,n),Wo(t)):Su(Je,n.stateNode));break;case 4:r=Je,i=Zt,Je=n.stateNode.containerInfo,Zt=!0,jn(t,e,n),Je=r,Zt=i;break;case 0:case 11:case 14:case 15:if(!ct&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Rc(n,e,a),i=i.next}while(i!==r)}jn(t,e,n);break;case 1:if(!ct&&(pi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Oe(n,e,l)}jn(t,e,n);break;case 21:jn(t,e,n);break;case 22:n.mode&1?(ct=(r=ct)||n.memoizedState!==null,jn(t,e,n),ct=r):jn(t,e,n);break;default:jn(t,e,n)}}function Ip(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new aw),e.forEach(function(r){var i=yw.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Yt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:Je=l.stateNode,Zt=!1;break e;case 3:Je=l.stateNode.containerInfo,Zt=!0;break e;case 4:Je=l.stateNode.containerInfo,Zt=!0;break e}l=l.return}if(Je===null)throw Error(B(160));Ry(o,a,i),Je=null,Zt=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(h){Oe(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ky(e,t),e=e.sibling}function ky(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Yt(e,t),an(t),r&4){try{Do(3,t,t.return),Sl(3,t)}catch(O){Oe(t,t.return,O)}try{Do(5,t,t.return)}catch(O){Oe(t,t.return,O)}}break;case 1:Yt(e,t),an(t),r&512&&n!==null&&pi(n,n.return);break;case 5:if(Yt(e,t),an(t),r&512&&n!==null&&pi(n,n.return),t.flags&32){var i=t.stateNode;try{jo(i,"")}catch(O){Oe(t,t.return,O)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Ym(i,o),tc(l,a);var h=tc(l,o);for(a=0;a<u.length;a+=2){var d=u[a],p=u[a+1];d==="style"?ng(i,p):d==="dangerouslySetInnerHTML"?eg(i,p):d==="children"?jo(i,p):hh(i,d,p,h)}switch(l){case"input":Xu(i,o);break;case"textarea":Jm(i,o);break;case"select":var v=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var P=o.value;P!=null?gi(i,!!o.multiple,P,!1):v!==!!o.multiple&&(o.defaultValue!=null?gi(i,!!o.multiple,o.defaultValue,!0):gi(i,!!o.multiple,o.multiple?[]:"",!1))}i[Go]=o}catch(O){Oe(t,t.return,O)}}break;case 6:if(Yt(e,t),an(t),r&4){if(t.stateNode===null)throw Error(B(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(O){Oe(t,t.return,O)}}break;case 3:if(Yt(e,t),an(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Wo(e.containerInfo)}catch(O){Oe(t,t.return,O)}break;case 4:Yt(e,t),an(t);break;case 13:Yt(e,t),an(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Wh=Le())),r&4&&Ip(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(ct=(h=ct)||d,Yt(e,t),ct=h):Yt(e,t),an(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!d&&t.mode&1)for(Q=t,d=t.child;d!==null;){for(p=Q=d;Q!==null;){switch(v=Q,P=v.child,v.tag){case 0:case 11:case 14:case 15:Do(4,v,v.return);break;case 1:pi(v,v.return);var x=v.stateNode;if(typeof x.componentWillUnmount=="function"){r=v,n=v.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(O){Oe(r,n,O)}}break;case 5:pi(v,v.return);break;case 22:if(v.memoizedState!==null){Ap(p);continue}}P!==null?(P.return=v,Q=P):Ap(p)}d=d.sibling}e:for(d=null,p=t;;){if(p.tag===5){if(d===null){d=p;try{i=p.stateNode,h?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=p.stateNode,u=p.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=tg("display",a))}catch(O){Oe(t,t.return,O)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=h?"":p.memoizedProps}catch(O){Oe(t,t.return,O)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Yt(e,t),an(t),r&4&&Ip(t);break;case 21:break;default:Yt(e,t),an(t)}}function an(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Cy(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(jo(i,""),r.flags&=-33);var o=Tp(t);Vc(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,l=Tp(t);xc(t,l,a);break;default:throw Error(B(161))}}catch(u){Oe(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function uw(t,e,n){Q=t,xy(t)}function xy(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var i=Q,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||aa;if(!a){var l=i.alternate,u=l!==null&&l.memoizedState!==null||ct;l=aa;var h=ct;if(aa=a,(ct=u)&&!h)for(Q=i;Q!==null;)a=Q,u=a.child,a.tag===22&&a.memoizedState!==null?Pp(i):u!==null?(u.return=a,Q=u):Pp(i);for(;o!==null;)Q=o,xy(o),o=o.sibling;Q=i,aa=l,ct=h}Sp(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Q=o):Sp(t)}}function Sp(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ct||Sl(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ct)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Jt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&lp(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}lp(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var d=h.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&Wo(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}ct||e.flags&512&&kc(e)}catch(v){Oe(e,e.return,v)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function Ap(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function Pp(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Sl(4,e)}catch(u){Oe(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Oe(e,i,u)}}var o=e.return;try{kc(e)}catch(u){Oe(e,o,u)}break;case 5:var a=e.return;try{kc(e)}catch(u){Oe(e,a,u)}}}catch(u){Oe(e,e.return,u)}if(e===t){Q=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Q=l;break}Q=e.return}}var cw=Math.ceil,Ga=Nn.ReactCurrentDispatcher,zh=Nn.ReactCurrentOwner,zt=Nn.ReactCurrentBatchConfig,fe=0,Ge=null,je=null,tt=0,Rt=0,mi=dr(0),We=0,ts=null,br=0,Al=0,$h=0,No=null,wt=null,Wh=0,Vi=1/0,Tn=null,Xa=!1,Dc=null,er=null,la=!1,Hn=null,Ya=0,Oo=0,Nc=null,Ia=-1,Sa=0;function gt(){return fe&6?Le():Ia!==-1?Ia:Ia=Le()}function tr(t){return t.mode&1?fe&2&&tt!==0?tt&-tt:QE.transition!==null?(Sa===0&&(Sa=pg()),Sa):(t=ge,t!==0||(t=window.event,t=t===void 0?16:wg(t.type)),t):1}function nn(t,e,n,r){if(50<Oo)throw Oo=0,Nc=null,Error(B(185));ps(t,n,r),(!(fe&2)||t!==Ge)&&(t===Ge&&(!(fe&2)&&(Al|=n),We===4&&Wn(t,tt)),Pt(t,r),n===1&&fe===0&&!(e.mode&1)&&(Vi=Le()+500,wl&&pr()))}function Pt(t,e){var n=t.callbackNode;Q0(t,e);var r=Oa(t,t===Ge?tt:0);if(r===0)n!==null&&Md(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Md(n),e===1)t.tag===0?HE(Cp.bind(null,t)):jg(Cp.bind(null,t)),zE(function(){!(fe&6)&&pr()}),n=null;else{switch(mg(r)){case 1:n=gh;break;case 4:n=fg;break;case 16:n=Na;break;case 536870912:n=dg;break;default:n=Na}n=Fy(n,Vy.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Vy(t,e){if(Ia=-1,Sa=0,fe&6)throw Error(B(327));var n=t.callbackNode;if(wi()&&t.callbackNode!==n)return null;var r=Oa(t,t===Ge?tt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ja(t,r);else{e=r;var i=fe;fe|=2;var o=Ny();(Ge!==t||tt!==e)&&(Tn=null,Vi=Le()+500,Vr(t,e));do try{dw();break}catch(l){Dy(t,l)}while(!0);kh(),Ga.current=o,fe=i,je!==null?e=0:(Ge=null,tt=0,e=We)}if(e!==0){if(e===2&&(i=sc(t),i!==0&&(r=i,e=Oc(t,i))),e===1)throw n=ts,Vr(t,0),Wn(t,r),Pt(t,Le()),n;if(e===6)Wn(t,r);else{if(i=t.current.alternate,!(r&30)&&!hw(i)&&(e=Ja(t,r),e===2&&(o=sc(t),o!==0&&(r=o,e=Oc(t,o))),e===1))throw n=ts,Vr(t,0),Wn(t,r),Pt(t,Le()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:Sr(t,wt,Tn);break;case 3:if(Wn(t,r),(r&130023424)===r&&(e=Wh+500-Le(),10<e)){if(Oa(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){gt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=pc(Sr.bind(null,t,wt,Tn),e);break}Sr(t,wt,Tn);break;case 4:if(Wn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-tn(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=Le()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*cw(r/1960))-r,10<r){t.timeoutHandle=pc(Sr.bind(null,t,wt,Tn),r);break}Sr(t,wt,Tn);break;case 5:Sr(t,wt,Tn);break;default:throw Error(B(329))}}}return Pt(t,Le()),t.callbackNode===n?Vy.bind(null,t):null}function Oc(t,e){var n=No;return t.current.memoizedState.isDehydrated&&(Vr(t,e).flags|=256),t=Ja(t,e),t!==2&&(e=wt,wt=n,e!==null&&Mc(e)),t}function Mc(t){wt===null?wt=t:wt.push.apply(wt,t)}function hw(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!rn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Wn(t,e){for(e&=~$h,e&=~Al,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-tn(e),r=1<<n;t[n]=-1,e&=~r}}function Cp(t){if(fe&6)throw Error(B(327));wi();var e=Oa(t,0);if(!(e&1))return Pt(t,Le()),null;var n=Ja(t,e);if(t.tag!==0&&n===2){var r=sc(t);r!==0&&(e=r,n=Oc(t,r))}if(n===1)throw n=ts,Vr(t,0),Wn(t,e),Pt(t,Le()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Sr(t,wt,Tn),Pt(t,Le()),null}function qh(t,e){var n=fe;fe|=1;try{return t(e)}finally{fe=n,fe===0&&(Vi=Le()+500,wl&&pr())}}function Fr(t){Hn!==null&&Hn.tag===0&&!(fe&6)&&wi();var e=fe;fe|=1;var n=zt.transition,r=ge;try{if(zt.transition=null,ge=1,t)return t()}finally{ge=r,zt.transition=n,fe=e,!(fe&6)&&pr()}}function Hh(){Rt=mi.current,Ae(mi)}function Vr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,BE(n)),je!==null)for(n=je.return;n!==null;){var r=n;switch(Ph(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ua();break;case 3:ki(),Ae(St),Ae(ft),Mh();break;case 5:Oh(r);break;case 4:ki();break;case 13:Ae(ke);break;case 19:Ae(ke);break;case 10:xh(r.type._context);break;case 22:case 23:Hh()}n=n.return}if(Ge=t,je=t=nr(t.current,null),tt=Rt=e,We=0,ts=null,$h=Al=br=0,wt=No=null,Rr!==null){for(e=0;e<Rr.length;e++)if(n=Rr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}Rr=null}return t}function Dy(t,e){do{var n=je;try{if(kh(),Ea.current=Ka,Qa){for(var r=xe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Qa=!1}if(Lr=0,Ke=ze=xe=null,Vo=!1,Jo=0,zh.current=null,n===null||n.return===null){We=1,ts=e,je=null;break}e:{var o=t,a=n.return,l=n,u=e;if(e=tt,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=u,d=l,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var v=d.alternate;v?(d.updateQueue=v.updateQueue,d.memoizedState=v.memoizedState,d.lanes=v.lanes):(d.updateQueue=null,d.memoizedState=null)}var P=pp(a);if(P!==null){P.flags&=-257,mp(P,a,l,o,e),P.mode&1&&dp(o,h,e),e=P,u=h;var x=e.updateQueue;if(x===null){var O=new Set;O.add(u),e.updateQueue=O}else x.add(u);break e}else{if(!(e&1)){dp(o,h,e),Qh();break e}u=Error(B(426))}}else if(Re&&l.mode&1){var M=pp(a);if(M!==null){!(M.flags&65536)&&(M.flags|=256),mp(M,a,l,o,e),Ch(xi(u,l));break e}}o=u=xi(u,l),We!==4&&(We=2),No===null?No=[o]:No.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var S=my(o,u,e);ap(o,S);break e;case 1:l=u;var g=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(er===null||!er.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e;var D=gy(o,l,e);ap(o,D);break e}}o=o.return}while(o!==null)}My(n)}catch(b){e=b,je===n&&n!==null&&(je=n=n.return);continue}break}while(!0)}function Ny(){var t=Ga.current;return Ga.current=Ka,t===null?Ka:t}function Qh(){(We===0||We===3||We===2)&&(We=4),Ge===null||!(br&268435455)&&!(Al&268435455)||Wn(Ge,tt)}function Ja(t,e){var n=fe;fe|=2;var r=Ny();(Ge!==t||tt!==e)&&(Tn=null,Vr(t,e));do try{fw();break}catch(i){Dy(t,i)}while(!0);if(kh(),fe=n,Ga.current=r,je!==null)throw Error(B(261));return Ge=null,tt=0,We}function fw(){for(;je!==null;)Oy(je)}function dw(){for(;je!==null&&!F0();)Oy(je)}function Oy(t){var e=by(t.alternate,t,Rt);t.memoizedProps=t.pendingProps,e===null?My(t):je=e,zh.current=null}function My(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=sw(n,e),n!==null){n.flags&=32767,je=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{We=6,je=null;return}}else if(n=ow(n,e,Rt),n!==null){je=n;return}if(e=e.sibling,e!==null){je=e;return}je=e=t}while(e!==null);We===0&&(We=5)}function Sr(t,e,n){var r=ge,i=zt.transition;try{zt.transition=null,ge=1,pw(t,e,n,r)}finally{zt.transition=i,ge=r}return null}function pw(t,e,n,r){do wi();while(Hn!==null);if(fe&6)throw Error(B(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(K0(t,o),t===Ge&&(je=Ge=null,tt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||la||(la=!0,Fy(Na,function(){return wi(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=zt.transition,zt.transition=null;var a=ge;ge=1;var l=fe;fe|=4,zh.current=null,lw(t,n),ky(n,t),OE(fc),Ma=!!hc,fc=hc=null,t.current=n,uw(n),U0(),fe=l,ge=a,zt.transition=o}else t.current=n;if(la&&(la=!1,Hn=t,Ya=i),o=t.pendingLanes,o===0&&(er=null),z0(n.stateNode),Pt(t,Le()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Xa)throw Xa=!1,t=Dc,Dc=null,t;return Ya&1&&t.tag!==0&&wi(),o=t.pendingLanes,o&1?t===Nc?Oo++:(Oo=0,Nc=t):Oo=0,pr(),null}function wi(){if(Hn!==null){var t=mg(Ya),e=zt.transition,n=ge;try{if(zt.transition=null,ge=16>t?16:t,Hn===null)var r=!1;else{if(t=Hn,Hn=null,Ya=0,fe&6)throw Error(B(331));var i=fe;for(fe|=4,Q=t.current;Q!==null;){var o=Q,a=o.child;if(Q.flags&16){var l=o.deletions;if(l!==null){for(var u=0;u<l.length;u++){var h=l[u];for(Q=h;Q!==null;){var d=Q;switch(d.tag){case 0:case 11:case 15:Do(8,d,o)}var p=d.child;if(p!==null)p.return=d,Q=p;else for(;Q!==null;){d=Q;var v=d.sibling,P=d.return;if(Py(d),d===h){Q=null;break}if(v!==null){v.return=P,Q=v;break}Q=P}}}var x=o.alternate;if(x!==null){var O=x.child;if(O!==null){x.child=null;do{var M=O.sibling;O.sibling=null,O=M}while(O!==null)}}Q=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,Q=a;else e:for(;Q!==null;){if(o=Q,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Do(9,o,o.return)}var S=o.sibling;if(S!==null){S.return=o.return,Q=S;break e}Q=o.return}}var g=t.current;for(Q=g;Q!==null;){a=Q;var _=a.child;if(a.subtreeFlags&2064&&_!==null)_.return=a,Q=_;else e:for(a=g;Q!==null;){if(l=Q,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Sl(9,l)}}catch(b){Oe(l,l.return,b)}if(l===a){Q=null;break e}var D=l.sibling;if(D!==null){D.return=l.return,Q=D;break e}Q=l.return}}if(fe=i,pr(),cn&&typeof cn.onPostCommitFiberRoot=="function")try{cn.onPostCommitFiberRoot(gl,t)}catch{}r=!0}return r}finally{ge=n,zt.transition=e}}return!1}function Rp(t,e,n){e=xi(n,e),e=my(t,e,1),t=Zn(t,e,1),e=gt(),t!==null&&(ps(t,1,e),Pt(t,e))}function Oe(t,e,n){if(t.tag===3)Rp(t,t,n);else for(;e!==null;){if(e.tag===3){Rp(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(er===null||!er.has(r))){t=xi(n,t),t=gy(e,t,1),e=Zn(e,t,1),t=gt(),e!==null&&(ps(e,1,t),Pt(e,t));break}}e=e.return}}function mw(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=gt(),t.pingedLanes|=t.suspendedLanes&n,Ge===t&&(tt&n)===n&&(We===4||We===3&&(tt&130023424)===tt&&500>Le()-Wh?Vr(t,0):$h|=n),Pt(t,e)}function Ly(t,e){e===0&&(t.mode&1?(e=Js,Js<<=1,!(Js&130023424)&&(Js=4194304)):e=1);var n=gt();t=kn(t,e),t!==null&&(ps(t,e,n),Pt(t,n))}function gw(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Ly(t,n)}function yw(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),Ly(t,n)}var by;by=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||St.current)It=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return It=!1,iw(t,e,n);It=!!(t.flags&131072)}else It=!1,Re&&e.flags&1048576&&Bg(e,za,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ta(t,e),t=e.pendingProps;var i=Pi(e,ft.current);Ei(e,n),i=bh(null,e,r,t,i,n);var o=Fh();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,At(r)?(o=!0,ja(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Dh(e),i.updater=Il,e.stateNode=i,i._reactInternals=e,wc(e,r,t,n),e=Sc(null,e,r,!0,o,n)):(e.tag=0,Re&&o&&Ah(e),mt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ta(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=_w(r),t=Jt(r,t),i){case 0:e=Ic(null,e,r,t,n);break e;case 1:e=vp(null,e,r,t,n);break e;case 11:e=gp(null,e,r,t,n);break e;case 14:e=yp(null,e,r,Jt(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jt(r,i),Ic(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jt(r,i),vp(t,e,r,i,n);case 3:e:{if(Ey(e),t===null)throw Error(B(387));r=e.pendingProps,o=e.memoizedState,i=o.element,Qg(t,e),qa(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=xi(Error(B(423)),e),e=_p(t,e,r,n,i);break e}else if(r!==i){i=xi(Error(B(424)),e),e=_p(t,e,r,n,i);break e}else for(kt=Jn(e.stateNode.containerInfo.firstChild),Vt=e,Re=!0,en=null,n=qg(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ci(),r===i){e=xn(t,e,n);break e}mt(t,e,r,n)}e=e.child}return e;case 5:return Kg(e),t===null&&vc(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,dc(r,i)?a=null:o!==null&&dc(r,o)&&(e.flags|=32),_y(t,e),mt(t,e,a,n),e.child;case 6:return t===null&&vc(e),null;case 13:return wy(t,e,n);case 4:return Nh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ri(e,null,r,n):mt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jt(r,i),gp(t,e,r,i,n);case 7:return mt(t,e,e.pendingProps,n),e.child;case 8:return mt(t,e,e.pendingProps.children,n),e.child;case 12:return mt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,_e($a,r._currentValue),r._currentValue=a,o!==null)if(rn(o.value,a)){if(o.children===i.children&&!St.current){e=xn(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){a=o.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=Pn(-1,n&-n),u.tag=2;var h=o.updateQueue;if(h!==null){h=h.shared;var d=h.pending;d===null?u.next=u:(u.next=d.next,d.next=u),h.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),_c(o.return,n,e),l.lanes|=n;break}u=u.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(B(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),_c(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}mt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ei(e,n),i=$t(i),r=r(i),e.flags|=1,mt(t,e,r,n),e.child;case 14:return r=e.type,i=Jt(r,e.pendingProps),i=Jt(r.type,i),yp(t,e,r,i,n);case 15:return yy(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jt(r,i),Ta(t,e),e.tag=1,At(r)?(t=!0,ja(e)):t=!1,Ei(e,n),py(e,r,i),wc(e,r,i,n),Sc(null,e,r,!0,t,n);case 19:return Ty(t,e,n);case 22:return vy(t,e,n)}throw Error(B(156,e.tag))};function Fy(t,e){return hg(t,e)}function vw(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bt(t,e,n,r){return new vw(t,e,n,r)}function Kh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function _w(t){if(typeof t=="function")return Kh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===dh)return 11;if(t===ph)return 14}return 2}function nr(t,e){var n=t.alternate;return n===null?(n=Bt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Aa(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")Kh(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case oi:return Dr(n.children,i,o,e);case fh:a=8,i|=8;break;case qu:return t=Bt(12,n,e,i|2),t.elementType=qu,t.lanes=o,t;case Hu:return t=Bt(13,n,e,i),t.elementType=Hu,t.lanes=o,t;case Qu:return t=Bt(19,n,e,i),t.elementType=Qu,t.lanes=o,t;case Km:return Pl(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Hm:a=10;break e;case Qm:a=9;break e;case dh:a=11;break e;case ph:a=14;break e;case Bn:a=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=Bt(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Dr(t,e,n,r){return t=Bt(7,t,r,e),t.lanes=n,t}function Pl(t,e,n,r){return t=Bt(22,t,r,e),t.elementType=Km,t.lanes=n,t.stateNode={isHidden:!1},t}function Du(t,e,n){return t=Bt(6,t,null,e),t.lanes=n,t}function Nu(t,e,n){return e=Bt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Ew(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=du(0),this.expirationTimes=du(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=du(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Gh(t,e,n,r,i,o,a,l,u){return t=new Ew(t,e,n,l,u),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Bt(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dh(o),t}function ww(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ii,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Uy(t){if(!t)return lr;t=t._reactInternals;e:{if(Hr(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(At(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(At(n))return Ug(t,n,e)}return e}function jy(t,e,n,r,i,o,a,l,u){return t=Gh(n,r,!0,t,i,o,a,l,u),t.context=Uy(null),n=t.current,r=gt(),i=tr(n),o=Pn(r,i),o.callback=e??null,Zn(n,o,i),t.current.lanes=i,ps(t,i,r),Pt(t,r),t}function Cl(t,e,n,r){var i=e.current,o=gt(),a=tr(i);return n=Uy(n),e.context===null?e.context=n:e.pendingContext=n,e=Pn(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Zn(i,e,a),t!==null&&(nn(t,i,a,o),_a(t,i,a)),a}function Za(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function kp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Xh(t,e){kp(t,e),(t=t.alternate)&&kp(t,e)}function Tw(){return null}var By=typeof reportError=="function"?reportError:function(t){console.error(t)};function Yh(t){this._internalRoot=t}Rl.prototype.render=Yh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));Cl(t,e,null,null)};Rl.prototype.unmount=Yh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Fr(function(){Cl(null,t,null,null)}),e[Rn]=null}};function Rl(t){this._internalRoot=t}Rl.prototype.unstable_scheduleHydration=function(t){if(t){var e=vg();t={blockedOn:null,target:t,priority:e};for(var n=0;n<$n.length&&e!==0&&e<$n[n].priority;n++);$n.splice(n,0,t),n===0&&Eg(t)}};function Jh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function kl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function xp(){}function Iw(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var h=Za(a);o.call(h)}}var a=jy(e,r,t,0,null,!1,!1,"",xp);return t._reactRootContainer=a,t[Rn]=a.current,Qo(t.nodeType===8?t.parentNode:t),Fr(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var h=Za(u);l.call(h)}}var u=Gh(t,0,!1,null,null,!1,!1,"",xp);return t._reactRootContainer=u,t[Rn]=u.current,Qo(t.nodeType===8?t.parentNode:t),Fr(function(){Cl(e,u,n,r)}),u}function xl(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var l=i;i=function(){var u=Za(a);l.call(u)}}Cl(e,a,t,i)}else a=Iw(n,e,t,i,r);return Za(a)}gg=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=wo(e.pendingLanes);n!==0&&(yh(e,n|1),Pt(e,Le()),!(fe&6)&&(Vi=Le()+500,pr()))}break;case 13:Fr(function(){var r=kn(t,1);if(r!==null){var i=gt();nn(r,t,1,i)}}),Xh(t,1)}};vh=function(t){if(t.tag===13){var e=kn(t,134217728);if(e!==null){var n=gt();nn(e,t,134217728,n)}Xh(t,134217728)}};yg=function(t){if(t.tag===13){var e=tr(t),n=kn(t,e);if(n!==null){var r=gt();nn(n,t,e,r)}Xh(t,e)}};vg=function(){return ge};_g=function(t,e){var n=ge;try{return ge=t,e()}finally{ge=n}};rc=function(t,e,n){switch(e){case"input":if(Xu(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=El(r);if(!i)throw Error(B(90));Xm(r),Xu(r,i)}}}break;case"textarea":Jm(t,n);break;case"select":e=n.value,e!=null&&gi(t,!!n.multiple,e,!1)}};og=qh;sg=Fr;var Sw={usingClientEntryPoint:!1,Events:[gs,ui,El,rg,ig,qh]},yo={findFiberByHostInstance:Cr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Aw={bundleType:yo.bundleType,version:yo.version,rendererPackageName:yo.rendererPackageName,rendererConfig:yo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Nn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ug(t),t===null?null:t.stateNode},findFiberByHostInstance:yo.findFiberByHostInstance||Tw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ua=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ua.isDisabled&&ua.supportsFiber)try{gl=ua.inject(Aw),cn=ua}catch{}}Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sw;Ot.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jh(e))throw Error(B(200));return ww(t,e,null,n)};Ot.createRoot=function(t,e){if(!Jh(t))throw Error(B(299));var n=!1,r="",i=By;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Gh(t,1,!1,null,null,n,!1,r,i),t[Rn]=e.current,Qo(t.nodeType===8?t.parentNode:t),new Yh(e)};Ot.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=ug(e),t=t===null?null:t.stateNode,t};Ot.flushSync=function(t){return Fr(t)};Ot.hydrate=function(t,e,n){if(!kl(e))throw Error(B(200));return xl(null,t,e,!0,n)};Ot.hydrateRoot=function(t,e,n){if(!Jh(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=By;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=jy(e,null,t,1,n??null,i,!1,o,a),t[Rn]=e.current,Qo(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Rl(e)};Ot.render=function(t,e,n){if(!kl(e))throw Error(B(200));return xl(null,t,e,!1,n)};Ot.unmountComponentAtNode=function(t){if(!kl(t))throw Error(B(40));return t._reactRootContainer?(Fr(function(){xl(null,null,t,!1,function(){t._reactRootContainer=null,t[Rn]=null})}),!0):!1};Ot.unstable_batchedUpdates=qh;Ot.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!kl(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return xl(t,e,n,!1,r)};Ot.version="18.3.1-next-f1338f8080-20240426";function zy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zy)}catch(t){console.error(t)}}zy(),zm.exports=Ot;var Pw=zm.exports,Vp=Pw;$u.createRoot=Vp.createRoot,$u.hydrateRoot=Vp.hydrateRoot;/**
 * @remix-run/router v1.17.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ns(){return ns=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ns.apply(this,arguments)}var Qn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Qn||(Qn={}));const Dp="popstate";function Cw(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:a,hash:l}=r.location;return Lc("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:el(i)}return kw(e,n,null,t)}function be(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function $y(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Rw(){return Math.random().toString(36).substr(2,8)}function Np(t,e){return{usr:t.state,key:t.key,idx:e}}function Lc(t,e,n,r){return n===void 0&&(n=null),ns({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?zi(e):e,{state:n,key:e&&e.key||r||Rw()})}function el(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function zi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function kw(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,l=Qn.Pop,u=null,h=d();h==null&&(h=0,a.replaceState(ns({},a.state,{idx:h}),""));function d(){return(a.state||{idx:null}).idx}function p(){l=Qn.Pop;let M=d(),S=M==null?null:M-h;h=M,u&&u({action:l,location:O.location,delta:S})}function v(M,S){l=Qn.Push;let g=Lc(O.location,M,S);h=d()+1;let _=Np(g,h),D=O.createHref(g);try{a.pushState(_,"",D)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;i.location.assign(D)}o&&u&&u({action:l,location:O.location,delta:1})}function P(M,S){l=Qn.Replace;let g=Lc(O.location,M,S);h=d();let _=Np(g,h),D=O.createHref(g);a.replaceState(_,"",D),o&&u&&u({action:l,location:O.location,delta:0})}function x(M){let S=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof M=="string"?M:el(M);return g=g.replace(/ $/,"%20"),be(S,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,S)}let O={get action(){return l},get location(){return t(i,a)},listen(M){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Dp,p),u=M,()=>{i.removeEventListener(Dp,p),u=null}},createHref(M){return e(i,M)},createURL:x,encodeLocation(M){let S=x(M);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:v,replace:P,go(M){return a.go(M)}};return O}var Op;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Op||(Op={}));function xw(t,e,n){return n===void 0&&(n="/"),Vw(t,e,n,!1)}function Vw(t,e,n,r){let i=typeof e=="string"?zi(e):e,o=Zh(i.pathname||"/",n);if(o==null)return null;let a=Wy(t);Dw(a);let l=null;for(let u=0;l==null&&u<a.length;++u){let h=$w(o);l=Bw(a[u],h,r)}return l}function Wy(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,l)=>{let u={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};u.relativePath.startsWith("/")&&(be(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let h=rr([r,u.relativePath]),d=n.concat(u);o.children&&o.children.length>0&&(be(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),Wy(o.children,e,d,h)),!(o.path==null&&!o.index)&&e.push({path:h,score:Uw(h,o.index),routesMeta:d})};return t.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,a);else for(let u of qy(o.path))i(o,a,u)}),e}function qy(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=qy(r.join("/")),l=[];return l.push(...a.map(u=>u===""?o:[o,u].join("/"))),i&&l.push(...a),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function Dw(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:jw(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Nw=/^:[\w-]+$/,Ow=3,Mw=2,Lw=1,bw=10,Fw=-2,Mp=t=>t==="*";function Uw(t,e){let n=t.split("/"),r=n.length;return n.some(Mp)&&(r+=Fw),e&&(r+=Mw),n.filter(i=>!Mp(i)).reduce((i,o)=>i+(Nw.test(o)?Ow:o===""?Lw:bw),r)}function jw(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Bw(t,e,n){let{routesMeta:r}=t,i={},o="/",a=[];for(let l=0;l<r.length;++l){let u=r[l],h=l===r.length-1,d=o==="/"?e:e.slice(o.length)||"/",p=Lp({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},d),v=u.route;if(!p&&h&&n&&!r[r.length-1].route.index&&(p=Lp({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!p)return null;Object.assign(i,p.params),a.push({params:i,pathname:rr([o,p.pathname]),pathnameBase:Qw(rr([o,p.pathnameBase])),route:v}),p.pathnameBase!=="/"&&(o=rr([o,p.pathnameBase]))}return a}function Lp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=zw(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((h,d,p)=>{let{paramName:v,isOptional:P}=d;if(v==="*"){let O=l[p]||"";a=o.slice(0,o.length-O.length).replace(/(.)\/+$/,"$1")}const x=l[p];return P&&!x?h[v]=void 0:h[v]=(x||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:a,pattern:t}}function zw(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),$y(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function $w(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $y(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Zh(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Ww(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?zi(t):t;return{pathname:n?n.startsWith("/")?n:qw(n,e):e,search:Kw(r),hash:Gw(i)}}function qw(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ou(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Hw(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ef(t,e){let n=Hw(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function tf(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=zi(t):(i=ns({},t),be(!i.pathname||!i.pathname.includes("?"),Ou("?","pathname","search",i)),be(!i.pathname||!i.pathname.includes("#"),Ou("#","pathname","hash",i)),be(!i.search||!i.search.includes("#"),Ou("#","search","hash",i)));let o=t===""||i.pathname==="",a=o?"/":i.pathname,l;if(a==null)l=n;else{let p=e.length-1;if(!r&&a.startsWith("..")){let v=a.split("/");for(;v[0]==="..";)v.shift(),p-=1;i.pathname=v.join("/")}l=p>=0?e[p]:"/"}let u=Ww(i,l),h=a&&a!=="/"&&a.endsWith("/"),d=(o||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(h||d)&&(u.pathname+="/"),u}const rr=t=>t.join("/").replace(/\/\/+/g,"/"),Qw=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Kw=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Gw=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Xw(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Hy=["post","put","patch","delete"];new Set(Hy);const Yw=["get",...Hy];new Set(Yw);/**
 * React Router v6.24.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rs(){return rs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rs.apply(this,arguments)}const nf=q.createContext(null),Jw=q.createContext(null),mr=q.createContext(null),Vl=q.createContext(null),gr=q.createContext({outlet:null,matches:[],isDataRoute:!1}),Qy=q.createContext(null);function Zw(t,e){let{relative:n}=e===void 0?{}:e;$i()||be(!1);let{basename:r,navigator:i}=q.useContext(mr),{hash:o,pathname:a,search:l}=Xy(t,{relative:n}),u=a;return r!=="/"&&(u=a==="/"?r:rr([r,a])),i.createHref({pathname:u,search:l,hash:o})}function $i(){return q.useContext(Vl)!=null}function vs(){return $i()||be(!1),q.useContext(Vl).location}function Ky(t){q.useContext(mr).static||q.useLayoutEffect(t)}function Gy(){let{isDataRoute:t}=q.useContext(gr);return t?f1():e1()}function e1(){$i()||be(!1);let t=q.useContext(nf),{basename:e,future:n,navigator:r}=q.useContext(mr),{matches:i}=q.useContext(gr),{pathname:o}=vs(),a=JSON.stringify(ef(i,n.v7_relativeSplatPath)),l=q.useRef(!1);return Ky(()=>{l.current=!0}),q.useCallback(function(h,d){if(d===void 0&&(d={}),!l.current)return;if(typeof h=="number"){r.go(h);return}let p=tf(h,JSON.parse(a),o,d.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:rr([e,p.pathname])),(d.replace?r.replace:r.push)(p,d.state,d)},[e,r,a,o,t])}function Xy(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=q.useContext(mr),{matches:i}=q.useContext(gr),{pathname:o}=vs(),a=JSON.stringify(ef(i,r.v7_relativeSplatPath));return q.useMemo(()=>tf(t,JSON.parse(a),o,n==="path"),[t,a,o,n])}function t1(t,e){return n1(t,e)}function n1(t,e,n,r){$i()||be(!1);let{navigator:i}=q.useContext(mr),{matches:o}=q.useContext(gr),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let h=vs(),d;if(e){var p;let M=typeof e=="string"?zi(e):e;u==="/"||(p=M.pathname)!=null&&p.startsWith(u)||be(!1),d=M}else d=h;let v=d.pathname||"/",P=v;if(u!=="/"){let M=u.replace(/^\//,"").split("/");P="/"+v.replace(/^\//,"").split("/").slice(M.length).join("/")}let x=xw(t,{pathname:P}),O=a1(x&&x.map(M=>Object.assign({},M,{params:Object.assign({},l,M.params),pathname:rr([u,i.encodeLocation?i.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?u:rr([u,i.encodeLocation?i.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),o,n,r);return e&&O?q.createElement(Vl.Provider,{value:{location:rs({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Qn.Pop}},O):O}function r1(){let t=h1(),e=Xw(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),n?q.createElement("pre",{style:i},n):null,null)}const i1=q.createElement(r1,null);class o1 extends q.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?q.createElement(gr.Provider,{value:this.props.routeContext},q.createElement(Qy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function s1(t){let{routeContext:e,match:n,children:r}=t,i=q.useContext(nf);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),q.createElement(gr.Provider,{value:e},r)}function a1(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if((o=n)!=null&&o.errors)t=n.matches;else return null}let a=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let d=a.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);d>=0||be(!1),a=a.slice(0,Math.min(a.length,d+1))}let u=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let p=a[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=d),p.route.id){let{loaderData:v,errors:P}=n,x=p.route.loader&&v[p.route.id]===void 0&&(!P||P[p.route.id]===void 0);if(p.route.lazy||x){u=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((d,p,v)=>{let P,x=!1,O=null,M=null;n&&(P=l&&p.route.id?l[p.route.id]:void 0,O=p.route.errorElement||i1,u&&(h<0&&v===0?(x=!0,M=null):h===v&&(x=!0,M=p.route.hydrateFallbackElement||null)));let S=e.concat(a.slice(0,v+1)),g=()=>{let _;return P?_=O:x?_=M:p.route.Component?_=q.createElement(p.route.Component,null):p.route.element?_=p.route.element:_=d,q.createElement(s1,{match:p,routeContext:{outlet:d,matches:S,isDataRoute:n!=null},children:_})};return n&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?q.createElement(o1,{location:n.location,revalidation:n.revalidation,component:O,error:P,children:g(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):g()},null)}var Yy=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Yy||{}),tl=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(tl||{});function l1(t){let e=q.useContext(nf);return e||be(!1),e}function u1(t){let e=q.useContext(Jw);return e||be(!1),e}function c1(t){let e=q.useContext(gr);return e||be(!1),e}function Jy(t){let e=c1(),n=e.matches[e.matches.length-1];return n.route.id||be(!1),n.route.id}function h1(){var t;let e=q.useContext(Qy),n=u1(tl.UseRouteError),r=Jy(tl.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function f1(){let{router:t}=l1(Yy.UseNavigateStable),e=Jy(tl.UseNavigateStable),n=q.useRef(!1);return Ky(()=>{n.current=!0}),q.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,rs({fromRouteId:e},o)))},[t,e])}function d1(t){let{to:e,replace:n,state:r,relative:i}=t;$i()||be(!1);let{future:o,static:a}=q.useContext(mr),{matches:l}=q.useContext(gr),{pathname:u}=vs(),h=Gy(),d=tf(e,ef(l,o.v7_relativeSplatPath),u,i==="path"),p=JSON.stringify(d);return q.useEffect(()=>h(JSON.parse(p),{replace:n,state:r,relative:i}),[h,p,i,n,r]),null}function Ar(t){be(!1)}function p1(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Qn.Pop,navigator:o,static:a=!1,future:l}=t;$i()&&be(!1);let u=e.replace(/^\/*/,"/"),h=q.useMemo(()=>({basename:u,navigator:o,static:a,future:rs({v7_relativeSplatPath:!1},l)}),[u,l,o,a]);typeof r=="string"&&(r=zi(r));let{pathname:d="/",search:p="",hash:v="",state:P=null,key:x="default"}=r,O=q.useMemo(()=>{let M=Zh(d,u);return M==null?null:{location:{pathname:M,search:p,hash:v,state:P,key:x},navigationType:i}},[u,d,p,v,P,x,i]);return O==null?null:q.createElement(mr.Provider,{value:h},q.createElement(Vl.Provider,{children:n,value:O}))}function m1(t){let{children:e,location:n}=t;return t1(bc(e),n)}new Promise(()=>{});function bc(t,e){e===void 0&&(e=[]);let n=[];return q.Children.forEach(t,(r,i)=>{if(!q.isValidElement(r))return;let o=[...e,i];if(r.type===q.Fragment){n.push.apply(n,bc(r.props.children,o));return}r.type!==Ar&&be(!1),!r.props.index||!r.props.children||be(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=bc(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.24.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fc(){return Fc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fc.apply(this,arguments)}function g1(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function y1(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function v1(t,e){return t.button===0&&(!e||e==="_self")&&!y1(t)}const _1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],E1="6";try{window.__reactRouterVersion=E1}catch{}const w1="startTransition",bp=m0[w1];function T1(t){let{basename:e,children:n,future:r,window:i}=t,o=q.useRef();o.current==null&&(o.current=Cw({window:i,v5Compat:!0}));let a=o.current,[l,u]=q.useState({action:a.action,location:a.location}),{v7_startTransition:h}=r||{},d=q.useCallback(p=>{h&&bp?bp(()=>u(p)):u(p)},[u,h]);return q.useLayoutEffect(()=>a.listen(d),[a,d]),q.createElement(p1,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const I1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",S1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ti=q.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:a,state:l,target:u,to:h,preventScrollReset:d,unstable_viewTransition:p}=e,v=g1(e,_1),{basename:P}=q.useContext(mr),x,O=!1;if(typeof h=="string"&&S1.test(h)&&(x=h,I1))try{let _=new URL(window.location.href),D=h.startsWith("//")?new URL(_.protocol+h):new URL(h),b=Zh(D.pathname,P);D.origin===_.origin&&b!=null?h=b+D.search+D.hash:O=!0}catch{}let M=Zw(h,{relative:i}),S=A1(h,{replace:a,state:l,target:u,preventScrollReset:d,relative:i,unstable_viewTransition:p});function g(_){r&&r(_),_.defaultPrevented||S(_)}return q.createElement("a",Fc({},v,{href:x||M,onClick:O||o?r:g,ref:n,target:u}))});var Fp;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Fp||(Fp={}));var Up;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Up||(Up={}));function A1(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a,unstable_viewTransition:l}=e===void 0?{}:e,u=Gy(),h=vs(),d=Xy(t,{relative:a});return q.useCallback(p=>{if(v1(p,n)){p.preventDefault();let v=r!==void 0?r:el(h)===el(d);u(t,{replace:v,state:i,preventScrollReset:o,relative:a,unstable_viewTransition:l})}},[h,u,d,r,i,n,t,o,a,l])}var Zy={},Dl={};(function(){var t={},e="";try{e=location.hash.toString()}catch{}var n=u(e),r=S("initParams");if(r)for(var i in r)typeof n[i]>"u"&&(n[i]=r[i]);M("initParams",n);var o=!1,a;try{if(o=window.parent!=null&&window!=window.parent,o){window.addEventListener("message",function(g){if(g.source===window.parent){try{var _=JSON.parse(g.data)}catch{return}if(!(!_||!_.eventType))if(_.eventType=="set_custom_style")g.origin==="https://web.telegram.org"&&(a.innerHTML=_.eventData);else if(_.eventType=="reload_iframe"){try{window.parent.postMessage(JSON.stringify({eventType:"iframe_will_reload"}),"*")}catch{}location.reload()}else v(_.eventType,_.eventData)}}),a=document.createElement("style"),document.head.appendChild(a);try{window.parent.postMessage(JSON.stringify({eventType:"iframe_ready",eventData:{reload_supported:!0}}),"*")}catch{}}}catch{}function l(g){try{return g=g.replace(/\+/g,"%20"),decodeURIComponent(g)}catch{return g}}function u(g){g=g.replace(/^#/,"");var _={};if(!g.length)return _;if(g.indexOf("=")<0&&g.indexOf("?")<0)return _._path=l(g),_;var D=g.indexOf("?");if(D>=0){var b=g.substr(0,D);_._path=l(b),g=g.substr(D+1)}var z=h(g);for(var E in z)_[E]=z[E];return _}function h(g){var _={};if(!g.length)return _;var D=g.split("&"),b,z,E,y;for(b=0;b<D.length;b++)z=D[b].split("="),E=l(z[0]),y=z[1]==null?null:l(z[1]),_[E]=y;return _}function d(g,_){var D=g.indexOf("#");if(D<0)return g+"#"+_;var b=g.substr(D+1);return b.indexOf("=")>=0||b.indexOf("?")>=0?g+"&"+_:b.length>0?g+"?"+_:g+_}function p(g,_,D){if(_||(_=function(){}),D===void 0&&(D=""),console.log("[Telegram.WebView] > postEvent",g,D),window.TelegramWebviewProxy!==void 0)TelegramWebviewProxy.postEvent(g,JSON.stringify(D)),_();else if(window.external&&"notify"in window.external)window.external.notify(JSON.stringify({eventType:g,eventData:D})),_();else if(o)try{var b="https://web.telegram.org";b="*",window.parent.postMessage(JSON.stringify({eventType:g,eventData:D}),b),_()}catch(z){_(z)}else _({notAvailable:!0})}function v(g,_){console.log("[Telegram.WebView] < receiveEvent",g,_),P(g,function(D){D(g,_)})}function P(g,_){var D=t[g];if(!(D===void 0||!D.length))for(var b=0;b<D.length;b++)try{_(D[b])}catch{}}function x(g,_){t[g]===void 0&&(t[g]=[]);var D=t[g].indexOf(_);D===-1&&t[g].push(_)}function O(g,_){if(t[g]!==void 0){var D=t[g].indexOf(_);D!==-1&&t[g].splice(D,1)}}function M(g,_){try{return window.sessionStorage.setItem("__telegram__"+g,JSON.stringify(_)),!0}catch{}return!1}function S(g){try{return JSON.parse(window.sessionStorage.getItem("__telegram__"+g))}catch{}return null}window.Telegram||(window.Telegram={}),window.Telegram.WebView={initParams:n,isIframe:o,onEvent:x,offEvent:O,postEvent:p,receiveEvent:v,callEventCallbacks:P},window.Telegram.Utils={urlSafeDecode:l,urlParseQueryString:h,urlParseHashParams:u,urlAppendHashParams:d,sessionStorageSet:M,sessionStorageGet:S},window.TelegramGameProxy_receiveEvent=v,window.TelegramGameProxy={receiveEvent:v}})();(function(){var t=window.Telegram.Utils,e=window.Telegram.WebView,n=e.initParams,r=e.isIframe,i={},o="",a={},l={},u="light",h="6.0",d="unknown";if(n.tgWebAppData&&n.tgWebAppData.length){o=n.tgWebAppData,a=t.urlParseQueryString(o);for(var p in a){var v=a[p];try{(v.substr(0,1)=="{"&&v.substr(-1)=="}"||v.substr(0,1)=="["&&v.substr(-1)=="]")&&(a[p]=JSON.parse(v))}catch{}}}if(n.tgWebAppThemeParams&&n.tgWebAppThemeParams.length){var P=n.tgWebAppThemeParams;try{var x=JSON.parse(P);x&&w(x)}catch{}}var x=t.sessionStorageGet("themeParams");x&&w(x),n.tgWebAppVersion&&(h=n.tgWebAppVersion),n.tgWebAppPlatform&&(d=n.tgWebAppPlatform);function O(A,C){C.theme_params&&(w(C.theme_params),window.Telegram.WebApp.MainButton.setParams({}),Ki(),b("themeChanged"))}var M=window.innerHeight;function S(A,C){C.height&&(window.removeEventListener("resize",g),qt(C))}function g(A){M!=window.innerHeight&&(M=window.innerHeight,b("viewportChanged",{isStateStable:!0}))}function _(A){if(!(A.metaKey||A.ctrlKey)){for(var C=A.target;C.tagName!="A"&&C.parentNode;)C=C.parentNode;C.tagName=="A"&&C.target!="_blank"&&(C.protocol=="http:"||C.protocol=="https:")&&C.hostname=="t.me"&&(i.openTgLink(C.href),A.preventDefault())}}function D(A){return A.toString().replace(/^\s+|\s+$/g,"")}function b(A){var C=Array.prototype.slice.call(arguments);A=C.shift(),e.callEventCallbacks("webview:"+A,function(N){N.apply(i,C)})}function z(A,C){e.onEvent("webview:"+A,C)}function E(A,C){e.offEvent("webview:"+A,C)}function y(A,C){var N=document.documentElement;N&&N.style&&N.style.setProperty&&N.style.setProperty("--tg-"+A,C)}function w(A){A.bg_color=="#1c1c1d"&&A.bg_color==A.secondary_bg_color&&(A.secondary_bg_color="#2c2c2e");var C;for(var N in A)(C=on(A[N]))&&(l[N]=C,N=="bg_color"&&(u=Gr(C)?"dark":"light",y("color-scheme",u)),N="theme-"+N.split("_").join("-"),y(N,C));t.sessionStorageSet("themeParams",l)}var T={};function R(A){for(var C=100;--C;){for(var N="",U="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",H=U.length,se=0;se<A;se++)N+=U[Math.floor(Math.random()*H)];if(!T[N])return T[N]={},N}throw Error("WebAppCallbackIdGenerateFailed")}var k=!1,I=!1,pt=!0;function qt(A){typeof A<"u"&&(pt=!!A.is_expanded,k=A.height,A.is_state_stable&&(I=A.height),b("viewportChanged",{isStateStable:!!A.is_state_stable}));var C,N;k!==!1?C=k-Et+"px":C=Et?"calc(100vh - "+Et+"px)":"100vh",I!==!1?N=I-Et+"px":N=Et?"calc(100vh - "+Et+"px)":"100vh",y("viewport-height",C),y("viewport-stable-height",N)}var yn=!1;function Ht(A){if(!ye("6.2")){console.warn("[Telegram.WebApp] Closing confirmation is not supported in version "+h);return}yn=!!A,e.postEvent("web_app_setup_closing_behavior",!1,{need_confirmation:yn})}var W="bg_color",J=null;function re(){return W=="secondary_bg_color"?l.secondary_bg_color:W=="bg_color"?l.bg_color:J}function we(A){if(!ye("6.1")){console.warn("[Telegram.WebApp] Header color is not supported in version "+h);return}ye("6.9")||(l.bg_color&&l.bg_color==A?A="bg_color":l.secondary_bg_color&&l.secondary_bg_color==A&&(A="secondary_bg_color"));var C=null,N=null;if(A=="bg_color"||A=="secondary_bg_color")N=A;else if(ye("6.9")&&(C=on(A),!C))throw console.error("[Telegram.WebApp] Header color format is invalid",A),Error("WebAppHeaderColorInvalid");if(!ye("6.9")&&N!="bg_color"&&N!="secondary_bg_color")throw console.error("[Telegram.WebApp] Header color key should be one of Telegram.WebApp.themeParams.bg_color, Telegram.WebApp.themeParams.secondary_bg_color, 'bg_color', 'secondary_bg_color'",A),Error("WebAppHeaderColorKeyInvalid");W=N,J=C,Lt()}var me=null,Te=null;function Lt(){(me!=W||Te!=J)&&(me=W,Te=J,Te?e.postEvent("web_app_set_header_color",!1,{color:J}):e.postEvent("web_app_set_header_color",!1,{color_key:W}))}var _t="bg_color";function bt(){return _t=="secondary_bg_color"?l.secondary_bg_color:_t=="bg_color"?l.bg_color:_t}function Qt(A){if(!ye("6.1")){console.warn("[Telegram.WebApp] Background color is not supported in version "+h);return}var C;if(A=="bg_color"||A=="secondary_bg_color")C=A;else if(C=on(A),!C)throw console.error("[Telegram.WebApp] Background color format is invalid",A),Error("WebAppBackgroundColorInvalid");_t=C,Ki()}var As=null;function Ki(){var A=bt();As!=A&&(As=A,e.postEvent("web_app_set_background_color",!1,{color:A}))}function on(A){A+="";var C;if(C=/^\s*#([0-9a-f]{6})\s*$/i.exec(A))return"#"+C[1].toLowerCase();if(C=/^\s*#([0-9a-f])([0-9a-f])([0-9a-f])\s*$/i.exec(A))return("#"+C[1]+C[1]+C[2]+C[2]+C[3]+C[3]).toLowerCase();if(C=/^\s*rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+\.{0,1}\d*))?\)\s*$/.exec(A)){var N=parseInt(C[1]),U=parseInt(C[2]),H=parseInt(C[3]);return N=(N<16?"0":"")+N.toString(16),U=(U<16?"0":"")+U.toString(16),H=(H<16?"0":"")+H.toString(16),"#"+N+U+H}return!1}function Gr(A){A=A.replace(/[\s#]/g,""),A.length==3&&(A=A[0]+A[0]+A[1]+A[1]+A[2]+A[2]);var C=parseInt(A.substr(0,2),16),N=parseInt(A.substr(2,2),16),U=parseInt(A.substr(4,2),16),H=Math.sqrt(.299*(C*C)+.587*(N*N)+.114*(U*U));return H<120}function Gi(A,C){typeof A!="string"&&(A=""),typeof C!="string"&&(C=""),A=A.replace(/^\s+|\s+$/g,"").split("."),C=C.replace(/^\s+|\s+$/g,"").split(".");var N=Math.max(A.length,C.length),U,H,se;for(U=0;U<N;U++)if(H=parseInt(A[U])||0,se=parseInt(C[U])||0,H!=se)return H>se?1:-1;return 0}function ye(A){return Gi(h,A)>=0}function Xi(A){if(window.Blob)try{return new Blob([A]).size}catch{}for(var C=A.length,N=A.length-1;N>=0;N--){var U=A.charCodeAt(N);U>127&&U<=2047?C++:U>2047&&U<=65535&&(C+=2),U>=56320&&U<=57343&&N--}return C}var Yi=function(){var A=!1,C={};Object.defineProperty(C,"isVisible",{set:function(ie){ae({is_visible:ie})},get:function(){return A},enumerable:!0});var N=null;e.onEvent("back_button_pressed",U);function U(){b("backButtonClicked")}function H(){return{is_visible:A}}function se(ie){return typeof ie>"u"&&(ie=H()),JSON.stringify(ie)}function Y(){return ye("6.1")?!0:(console.warn("[Telegram.WebApp] BackButton is not supported in version "+h),!1)}function Pe(){var ie=H(),Ce=se(ie);N!==Ce&&(N=Ce,e.postEvent("web_app_setup_back_button",!1,ie))}function ae(ie){return Y()&&(typeof ie.is_visible<"u"&&(A=!!ie.is_visible),Pe()),C}return C.onClick=function(ie){return Y()&&z("backButtonClicked",ie),C},C.offClick=function(ie){return Y()&&E("backButtonClicked",ie),C},C.show=function(){return ae({is_visible:!0})},C.hide=function(){return ae({is_visible:!1})},C}(),Et=0,Ql=function(){var A=!1,C=!0,N=!1,U="CONTINUE",H=!1,se=!1,Y={};Object.defineProperty(Y,"text",{set:function(G){Y.setParams({text:G})},get:function(){return U},enumerable:!0}),Object.defineProperty(Y,"color",{set:function(G){Y.setParams({color:G})},get:function(){return H||l.button_color||"#2481cc"},enumerable:!0}),Object.defineProperty(Y,"textColor",{set:function(G){Y.setParams({text_color:G})},get:function(){return se||l.button_text_color||"#ffffff"},enumerable:!0}),Object.defineProperty(Y,"isVisible",{set:function(G){Y.setParams({is_visible:G})},get:function(){return A},enumerable:!0}),Object.defineProperty(Y,"isProgressVisible",{get:function(){return N},enumerable:!0}),Object.defineProperty(Y,"isActive",{set:function(G){Y.setParams({is_active:G})},get:function(){return C},enumerable:!0});var Pe=null;e.onEvent("main_button_pressed",Gt);var ae=null,ie={};if(n.tgWebAppDebug){ae=document.createElement("tg-main-button"),ie={font:"600 14px/18px sans-serif",display:"none",width:"100%",height:"48px",borderRadius:"0",background:"no-repeat right center",position:"fixed",left:"0",right:"0",bottom:"0",margin:"0",padding:"15px 20px",textAlign:"center",boxSizing:"border-box",zIndex:"10000"};for(var Ce in ie)ae.style[Ce]=ie[Ce];document.addEventListener("DOMContentLoaded",function G(Ft){document.removeEventListener("DOMContentLoaded",G),document.body.appendChild(ae),ae.addEventListener("click",Gt,!1)})}function Gt(){C&&b("mainButtonClicked")}function Ln(){var G=Y.color,Ft=Y.textColor;return A?{is_visible:!0,is_active:C,is_progress_visible:N,text:U,color:G,text_color:Ft}:{is_visible:!1}}function Vs(G){return typeof G>"u"&&(G=Ln()),JSON.stringify(G)}function Be(){var G=Ln(),Ft=Vs(G);Pe!==Ft&&(Pe=Ft,e.postEvent("web_app_setup_main_button",!1,G),n.tgWebAppDebug&&Ds(G))}function Ds(G){G.is_visible?(ae.style.display="block",Et=48,ae.style.opacity=G.is_active?"1":"0.8",ae.style.cursor=G.is_active?"pointer":"auto",ae.disabled=!G.is_active,ae.innerText=G.text,ae.style.backgroundImage=G.is_progress_visible?"url('data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20viewport%3D%220%200%2048%2048%22%20width%3D%2248px%22%20height%3D%2248px%22%3E%3Ccircle%20cx%3D%2250%25%22%20cy%3D%2250%25%22%20stroke%3D%22%23fff%22%20stroke-width%3D%222.25%22%20stroke-linecap%3D%22round%22%20fill%3D%22none%22%20stroke-dashoffset%3D%22106%22%20r%3D%229%22%20stroke-dasharray%3D%2256.52%22%20rotate%3D%22-90%22%3E%3Canimate%20attributeName%3D%22stroke-dashoffset%22%20attributeType%3D%22XML%22%20dur%3D%22360s%22%20from%3D%220%22%20to%3D%2212500%22%20repeatCount%3D%22indefinite%22%3E%3C%2Fanimate%3E%3CanimateTransform%20attributeName%3D%22transform%22%20attributeType%3D%22XML%22%20type%3D%22rotate%22%20dur%3D%221s%22%20from%3D%22-90%2024%2024%22%20to%3D%22630%2024%2024%22%20repeatCount%3D%22indefinite%22%3E%3C%2FanimateTransform%3E%3C%2Fcircle%3E%3C%2Fsvg%3E')":"none",ae.style.backgroundColor=G.color,ae.style.color=G.text_color):(ae.style.display="none",Et=0),document.documentElement&&(document.documentElement.style.boxSizing="border-box",document.documentElement.style.paddingBottom=Et+"px"),qt()}function _r(G){if(typeof G.text<"u"){var Ft=D(G.text);if(!Ft.length)throw console.error("[Telegram.WebApp] Main button text is required",G.text),Error("WebAppMainButtonParamInvalid");if(Ft.length>64)throw console.error("[Telegram.WebApp] Main button text is too long",Ft),Error("WebAppMainButtonParamInvalid");U=Ft}if(typeof G.color<"u")if(G.color===!1||G.color===null)H=!1;else{var Ns=on(G.color);if(!Ns)throw console.error("[Telegram.WebApp] Main button color format is invalid",G.color),Error("WebAppMainButtonParamInvalid");H=Ns}if(typeof G.text_color<"u")if(G.text_color===!1||G.text_color===null)se=!1;else{var _n=on(G.text_color);if(!_n)throw console.error("[Telegram.WebApp] Main button text color format is invalid",G.text_color),Error("WebAppMainButtonParamInvalid");se=_n}if(typeof G.is_visible<"u"){if(G.is_visible&&!Y.text.length)throw console.error("[Telegram.WebApp] Main button text is required"),Error("WebAppMainButtonParamInvalid");A=!!G.is_visible}return typeof G.is_active<"u"&&(C=!!G.is_active),Be(),Y}return Y.setText=function(G){return Y.setParams({text:G})},Y.onClick=function(G){return z("mainButtonClicked",G),Y},Y.offClick=function(G){return E("mainButtonClicked",G),Y},Y.show=function(){return Y.setParams({is_visible:!0})},Y.hide=function(){return Y.setParams({is_visible:!1})},Y.enable=function(){return Y.setParams({is_active:!0})},Y.disable=function(){return Y.setParams({is_active:!1})},Y.showProgress=function(G){return C=!!G,N=!0,Be(),Y},Y.hideProgress=function(){return Y.isActive||(C=!0),N=!1,Be(),Y},Y.setParams=_r,Y}(),Ps=function(){var A=!1,C={};Object.defineProperty(C,"isVisible",{set:function(ie){ae({is_visible:ie})},get:function(){return A},enumerable:!0});var N=null;e.onEvent("settings_button_pressed",U);function U(){b("settingsButtonClicked")}function H(){return{is_visible:A}}function se(ie){return typeof ie>"u"&&(ie=H()),JSON.stringify(ie)}function Y(){return ye("6.10")?!0:(console.warn("[Telegram.WebApp] SettingsButton is not supported in version "+h),!1)}function Pe(){var ie=H(),Ce=se(ie);N!==Ce&&(N=Ce,e.postEvent("web_app_setup_settings_button",!1,ie))}function ae(ie){return Y()&&(typeof ie.is_visible<"u"&&(A=!!ie.is_visible),Pe()),C}return C.onClick=function(ie){return Y()&&z("settingsButtonClicked",ie),C},C.offClick=function(ie){return Y()&&E("settingsButtonClicked",ie),C},C.show=function(){return ae({is_visible:!0})},C.hide=function(){return ae({is_visible:!1})},C}(),Cs=function(){var A={};function C(N){if(!ye("6.1"))return console.warn("[Telegram.WebApp] HapticFeedback is not supported in version "+h),A;if(N.type=="impact"){if(N.impact_style!="light"&&N.impact_style!="medium"&&N.impact_style!="heavy"&&N.impact_style!="rigid"&&N.impact_style!="soft")throw console.error("[Telegram.WebApp] Haptic impact style is invalid",N.impact_style),Error("WebAppHapticImpactStyleInvalid")}else if(N.type=="notification"){if(N.notification_type!="error"&&N.notification_type!="success"&&N.notification_type!="warning")throw console.error("[Telegram.WebApp] Haptic notification type is invalid",N.notification_type),Error("WebAppHapticNotificationTypeInvalid")}else if(N.type!="selection_change")throw console.error("[Telegram.WebApp] Haptic feedback type is invalid",N.type),Error("WebAppHapticFeedbackTypeInvalid");return e.postEvent("web_app_trigger_haptic_feedback",!1,N),A}return A.impactOccurred=function(N){return C({type:"impact",impact_style:N})},A.notificationOccurred=function(N){return C({type:"notification",notification_type:N})},A.selectionChanged=function(){return C({type:"selection_change"})},A}(),Ji=function(){var A={};function C(N,U,H){if(!ye("6.9"))throw console.error("[Telegram.WebApp] CloudStorage is not supported in version "+h),Error("WebAppMethodUnsupported");return vr(N,U,H),A}return A.setItem=function(N,U,H){return C("saveStorageValue",{key:N,value:U},H)},A.getItem=function(N,U){return A.getItems([N],U?function(H,se){H?U(H):U(null,se[N])}:null)},A.getItems=function(N,U){return C("getStorageValues",{keys:N},U)},A.removeItem=function(N,U){return A.removeItems([N],U)},A.removeItems=function(N,U){return C("deleteStorageValues",{keys:N},U)},A.getKeys=function(N){return C("getStorageKeys",{},N)},A}(),On={};function Kl(A,C){if(C.slug&&On[C.slug]){var N=On[C.slug];delete On[C.slug],N.callback&&N.callback(C.status),b("invoiceClosed",{url:N.url,status:C.status})}}var vn=!1;function Zi(A,C){if(vn){var N=vn;vn=!1;var U=null;typeof C.button_id<"u"&&(U=C.button_id),N.callback&&N.callback(U),b("popupClosed",{button_id:U})}}var sn=!1;function He(A,C){if(sn){var N=sn,U=null;typeof C.data<"u"&&(U=C.data),N.callback&&N.callback(U)&&(sn=!1,e.postEvent("web_app_close_scan_qr_popup",!1)),b("qrTextReceived",{data:U})}}function Xe(A,C){sn=!1}function Xr(A,C){if(C.req_id&&T[C.req_id]){var N=T[C.req_id];delete T[C.req_id];var U=null;typeof C.data<"u"&&(U=C.data),N.callback&&N.callback(U),b("clipboardTextReceived",{data:U})}}var Mn=!1;function Rs(A,C){if(Mn){var N=Mn;Mn=!1,N.callback&&N.callback(C.status=="allowed"),b("writeAccessRequested",{status:C.status})}}function Gl(A,C){var N,U,H=0,se=function(){vr("getRequestedContact",{},function(Pe,ae){ae&&ae.length?(clearTimeout(U),A(ae)):(H+=50,N=setTimeout(se,H))})},Y=function(){clearTimeout(N),A("")};U=setTimeout(Y,C),se()}var Kt=!1;function ks(A,C){if(Kt){var N=Kt;Kt=!1;var U=C.status=="sent",H={status:C.status};U?Gl(function(se){if(se&&se.length){H.response=se,H.responseUnsafe=t.urlParseQueryString(se);for(var Y in H.responseUnsafe){var Pe=H.responseUnsafe[Y];try{(Pe.substr(0,1)=="{"&&Pe.substr(-1)=="}"||Pe.substr(0,1)=="["&&Pe.substr(-1)=="]")&&(H.responseUnsafe[Y]=JSON.parse(Pe))}catch{}}}N.callback&&N.callback(U,H),b("contactRequested",H)},3e3):(N.callback&&N.callback(U,H),b("contactRequested",H))}}function xs(A,C){if(C.req_id&&T[C.req_id]){var N=T[C.req_id];delete T[C.req_id];var U=null,H=null;typeof C.result<"u"&&(U=C.result),typeof C.error<"u"&&(H=C.error),N.callback&&N.callback(H,U)}}function vr(A,C,N){if(!ye("6.9"))throw console.error("[Telegram.WebApp] Method invokeCustomMethod is not supported in version "+h),Error("WebAppMethodUnsupported");var U=R(16),H={req_id:U,method:A,params:C||{}};T[U]={callback:N},e.postEvent("web_app_invoke_custom_method",!1,H)}window.Telegram||(window.Telegram={}),Object.defineProperty(i,"initData",{get:function(){return o},enumerable:!0}),Object.defineProperty(i,"initDataUnsafe",{get:function(){return a},enumerable:!0}),Object.defineProperty(i,"version",{get:function(){return h},enumerable:!0}),Object.defineProperty(i,"platform",{get:function(){return d},enumerable:!0}),Object.defineProperty(i,"colorScheme",{get:function(){return u},enumerable:!0}),Object.defineProperty(i,"themeParams",{get:function(){return l},enumerable:!0}),Object.defineProperty(i,"isExpanded",{get:function(){return pt},enumerable:!0}),Object.defineProperty(i,"viewportHeight",{get:function(){return(k===!1?window.innerHeight:k)-Et},enumerable:!0}),Object.defineProperty(i,"viewportStableHeight",{get:function(){return(I===!1?window.innerHeight:I)-Et},enumerable:!0}),Object.defineProperty(i,"isClosingConfirmationEnabled",{set:function(A){Ht(A)},get:function(){return yn},enumerable:!0}),Object.defineProperty(i,"headerColor",{set:function(A){we(A)},get:function(){return re()},enumerable:!0}),Object.defineProperty(i,"backgroundColor",{set:function(A){Qt(A)},get:function(){return bt()},enumerable:!0}),Object.defineProperty(i,"BackButton",{value:Yi,enumerable:!0}),Object.defineProperty(i,"MainButton",{value:Ql,enumerable:!0}),Object.defineProperty(i,"SettingsButton",{value:Ps,enumerable:!0}),Object.defineProperty(i,"HapticFeedback",{value:Cs,enumerable:!0}),Object.defineProperty(i,"CloudStorage",{value:Ji,enumerable:!0}),i.setHeaderColor=function(A){i.headerColor=A},i.setBackgroundColor=function(A){i.backgroundColor=A},i.enableClosingConfirmation=function(){i.isClosingConfirmationEnabled=!0},i.disableClosingConfirmation=function(){i.isClosingConfirmationEnabled=!1},i.isVersionAtLeast=function(A){return ye(A)},i.onEvent=function(A,C){z(A,C)},i.offEvent=function(A,C){E(A,C)},i.sendData=function(A){if(!A||!A.length)throw console.error("[Telegram.WebApp] Data is required",A),Error("WebAppDataInvalid");if(Xi(A)>4096)throw console.error("[Telegram.WebApp] Data is too long",A),Error("WebAppDataInvalid");e.postEvent("web_app_data_send",!1,{data:A})},i.switchInlineQuery=function(A,C){if(!ye("6.6"))throw console.error("[Telegram.WebApp] Method switchInlineQuery is not supported in version "+h),Error("WebAppMethodUnsupported");if(!n.tgWebAppBotInline)throw console.error("[Telegram.WebApp] Inline mode is disabled for this bot. Read more about inline mode: https://core.telegram.org/bots/inline"),Error("WebAppInlineModeDisabled");if(A=A||"",A.length>256)throw console.error("[Telegram.WebApp] Inline query is too long",A),Error("WebAppInlineQueryInvalid");var N=[];if(C){if(!Array.isArray(C))throw console.error("[Telegram.WebApp] Choose chat types should be an array",C),Error("WebAppInlineChooseChatTypesInvalid");for(var U={users:1,bots:1,groups:1,channels:1},H=0;H<C.length;H++){var se=C[H];if(!U[se])throw console.error("[Telegram.WebApp] Choose chat type is invalid",se),Error("WebAppInlineChooseChatTypeInvalid");U[se]!=2&&(U[se]=2,N.push(se))}}e.postEvent("web_app_switch_inline_query",!1,{query:A,chat_types:N})},i.openLink=function(U,C){var N=document.createElement("A");if(N.href=U,N.protocol!="http:"&&N.protocol!="https:")throw console.error("[Telegram.WebApp] Url protocol is not supported",U),Error("WebAppTgUrlInvalid");var U=N.href;C=C||{},ye("6.1")?e.postEvent("web_app_open_link",!1,{url:U,try_instant_view:ye("6.4")&&!!C.try_instant_view}):window.open(U,"_blank")},i.openTelegramLink=function(A){var C=document.createElement("A");if(C.href=A,C.protocol!="http:"&&C.protocol!="https:")throw console.error("[Telegram.WebApp] Url protocol is not supported",A),Error("WebAppTgUrlInvalid");if(C.hostname!="t.me")throw console.error("[Telegram.WebApp] Url host is not supported",A),Error("WebAppTgUrlInvalid");var N=C.pathname+C.search;r||ye("6.1")?e.postEvent("web_app_open_tg_link",!1,{path_full:N}):location.href="https://t.me"+N},i.openInvoice=function(A,C){var N=document.createElement("A"),U,H;if(N.href=A,N.protocol!="http:"&&N.protocol!="https:"||N.hostname!="t.me"||!(U=N.pathname.match(/^\/(\$|invoice\/)([A-Za-z0-9\-_=]+)$/))||!(H=U[2]))throw console.error("[Telegram.WebApp] Invoice url is invalid",A),Error("WebAppInvoiceUrlInvalid");if(!ye("6.1"))throw console.error("[Telegram.WebApp] Method openInvoice is not supported in version "+h),Error("WebAppMethodUnsupported");if(On[H])throw console.error("[Telegram.WebApp] Invoice is already opened"),Error("WebAppInvoiceOpened");On[H]={url:A,callback:C},e.postEvent("web_app_open_invoice",!1,{slug:H})},i.showPopup=function(A,C){if(!ye("6.2"))throw console.error("[Telegram.WebApp] Method showPopup is not supported in version "+h),Error("WebAppMethodUnsupported");if(vn)throw console.error("[Telegram.WebApp] Popup is already opened"),Error("WebAppPopupOpened");var N="",U="",H=[],se={};if(typeof A.title<"u"){if(N=D(A.title),N.length>64)throw console.error("[Telegram.WebApp] Popup title is too long",N),Error("WebAppPopupParamInvalid");N.length>0&&(se.title=N)}if(typeof A.message<"u"&&(U=D(A.message)),!U.length)throw console.error("[Telegram.WebApp] Popup message is required",A.message),Error("WebAppPopupParamInvalid");if(U.length>256)throw console.error("[Telegram.WebApp] Popup message is too long",U),Error("WebAppPopupParamInvalid");if(se.message=U,typeof A.buttons<"u"){if(!Array.isArray(A.buttons))throw console.error("[Telegram.WebApp] Popup buttons should be an array",A.buttons),Error("WebAppPopupParamInvalid");for(var Y=0;Y<A.buttons.length;Y++){var Pe=A.buttons[Y],ae={},ie="";if(typeof Pe.id<"u"&&(ie=Pe.id.toString(),ie.length>64))throw console.error("[Telegram.WebApp] Popup button id is too long",ie),Error("WebAppPopupParamInvalid");ae.id=ie;var Ce=Pe.type;if(typeof Ce>"u"&&(Ce="default"),ae.type=Ce,!(Ce=="ok"||Ce=="close"||Ce=="cancel"))if(Ce=="default"||Ce=="destructive"){var Gt="";if(typeof Pe.text<"u"&&(Gt=D(Pe.text)),!Gt.length)throw console.error("[Telegram.WebApp] Popup button text is required for type "+Ce,Pe.text),Error("WebAppPopupParamInvalid");if(Gt.length>64)throw console.error("[Telegram.WebApp] Popup button text is too long",Gt),Error("WebAppPopupParamInvalid");ae.text=Gt}else throw console.error("[Telegram.WebApp] Popup button type is invalid",Ce),Error("WebAppPopupParamInvalid");H.push(ae)}}else H.push({id:"",type:"close"});if(H.length<1)throw console.error("[Telegram.WebApp] Popup should have at least one button"),Error("WebAppPopupParamInvalid");if(H.length>3)throw console.error("[Telegram.WebApp] Popup should not have more than 3 buttons"),Error("WebAppPopupParamInvalid");se.buttons=H,vn={callback:C},e.postEvent("web_app_open_popup",!1,se)},i.showAlert=function(A,C){i.showPopup({message:A},C?function(){C()}:null)},i.showConfirm=function(A,C){i.showPopup({message:A,buttons:[{type:"ok",id:"ok"},{type:"cancel"}]},C?function(N){C(N=="ok")}:null)},i.showScanQrPopup=function(A,C){if(!ye("6.4"))throw console.error("[Telegram.WebApp] Method showScanQrPopup is not supported in version "+h),Error("WebAppMethodUnsupported");if(sn)throw console.error("[Telegram.WebApp] Popup is already opened"),Error("WebAppScanQrPopupOpened");var N="",U={};if(typeof A.text<"u"){if(N=D(A.text),N.length>64)throw console.error("[Telegram.WebApp] Scan QR popup text is too long",N),Error("WebAppScanQrPopupParamInvalid");N.length>0&&(U.text=N)}sn={callback:C},e.postEvent("web_app_open_scan_qr_popup",!1,U)},i.closeScanQrPopup=function(){if(!ye("6.4"))throw console.error("[Telegram.WebApp] Method closeScanQrPopup is not supported in version "+h),Error("WebAppMethodUnsupported");sn=!1,e.postEvent("web_app_close_scan_qr_popup",!1)},i.readTextFromClipboard=function(A){if(!ye("6.4"))throw console.error("[Telegram.WebApp] Method readTextFromClipboard is not supported in version "+h),Error("WebAppMethodUnsupported");var C=R(16),N={req_id:C};T[C]={callback:A},e.postEvent("web_app_read_text_from_clipboard",!1,N)},i.requestWriteAccess=function(A){if(!ye("6.9"))throw console.error("[Telegram.WebApp] Method requestWriteAccess is not supported in version "+h),Error("WebAppMethodUnsupported");if(Mn)throw console.error("[Telegram.WebApp] Write access is already requested"),Error("WebAppWriteAccessRequested");Mn={callback:A},e.postEvent("web_app_request_write_access")},i.requestContact=function(A){if(!ye("6.9"))throw console.error("[Telegram.WebApp] Method requestContact is not supported in version "+h),Error("WebAppMethodUnsupported");if(Kt)throw console.error("[Telegram.WebApp] Contact is already requested"),Error("WebAppContactRequested");Kt={callback:A},e.postEvent("web_app_request_phone")},i.invokeCustomMethod=function(A,C,N){vr(A,C,N)},i.ready=function(){e.postEvent("web_app_ready")},i.expand=function(){e.postEvent("web_app_expand")},i.close=function(){e.postEvent("web_app_close")},window.Telegram.WebApp=i,Lt(),Ki(),qt(),n.tgWebAppShowSettings&&Ps.show(),window.addEventListener("resize",g),r&&document.addEventListener("click",_),e.onEvent("theme_changed",O),e.onEvent("viewport_changed",S),e.onEvent("invoice_closed",Kl),e.onEvent("popup_closed",Zi),e.onEvent("qr_text_received",He),e.onEvent("scan_qr_popup_closed",Xe),e.onEvent("clipboard_text_received",Xr),e.onEvent("write_access_requested",Rs),e.onEvent("phone_requested",ks),e.onEvent("custom_method_invoked",xs),e.postEvent("web_app_request_theme"),e.postEvent("web_app_request_viewport")})();Object.defineProperty(Dl,"__esModule",{value:!0});Dl.WebApp=void 0;var P1=window;Dl.WebApp=P1.Telegram.WebApp;Object.defineProperty(Zy,"__esModule",{value:!0});var C1=Dl,rf=Zy.default=C1.WebApp;const R1=({username:t,userId:e,photoUrl:n})=>K.jsxs("div",{className:"profile",children:[K.jsxs("h2",{children:["Kullanıcı Adı: ",t]}),K.jsxs("h2",{children:["Kullanıcı ID: ",e]}),n&&K.jsx("img",{src:n,alt:"Profil",className:"profile-pic"})]}),k1=({username:t,userId:e,photoUrl:n})=>K.jsxs("div",{children:[K.jsx("h1",{children:"Profil Sayfası"}),K.jsx(R1,{username:t,userId:e,photoUrl:n})]});var jp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},x1=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],a=t[n++],l=t[n++],u=((i&7)<<18|(o&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},tv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],a=i+1<t.length,l=a?t[i+1]:0,u=i+2<t.length,h=u?t[i+2]:0,d=o>>2,p=(o&3)<<4|l>>4;let v=(l&15)<<2|h>>6,P=h&63;u||(P=64,a||(v=64)),r.push(n[d],n[p],n[v],n[P])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ev(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):x1(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||l==null||h==null||p==null)throw new V1;const v=o<<2|l>>4;if(r.push(v),h!==64){const P=l<<4&240|h>>2;if(r.push(P),p!==64){const x=h<<6&192|p;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class V1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const D1=function(t){const e=ev(t);return tv.encodeByteArray(e,!0)},nl=function(t){return D1(t).replace(/\./g,"")},N1=function(t){try{return tv.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1=()=>O1().__FIREBASE_DEFAULTS__,L1=()=>{if(typeof process>"u"||typeof jp>"u")return;const t=jp.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},b1=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&N1(t[1]);return e&&JSON.parse(e)},of=()=>{try{return M1()||L1()||b1()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},F1=t=>{var e,n;return(n=(e=of())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},U1=t=>{const e=F1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},nv=()=>{var t;return(t=of())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[nl(JSON.stringify(n)),nl(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $1(){var t;const e=(t=of())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function W1(){return!$1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function q1(){try{return typeof indexedDB=="object"}catch{return!1}}function H1(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1="FirebaseError";class Wi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Q1,Object.setPrototypeOf(this,Wi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rv.prototype.create)}}class rv{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?K1(o,r):"Error",l=`${this.serviceName}: ${a} (${i}).`;return new Wi(i,l,r)}}function K1(t,e){return t.replace(G1,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const G1=/\{\$([^}]+)}/g;function Uc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],a=e[i];if(Bp(o)&&Bp(a)){if(!Uc(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Bp(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ur(t){return t&&t._delegate?t._delegate:t}class is{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new j1;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(J1(e))try{this.getOrInitializeService({instanceIdentifier:Pr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Pr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Pr){return this.instances.has(e)}getOptions(e=Pr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);r===l&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Y1(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Pr){return this.component?this.component.multipleInstances?e:Pr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Y1(t){return t===Pr?void 0:t}function J1(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new X1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var he;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(he||(he={}));const eT={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},tT=he.INFO,nT={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},rT=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=nT[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class iv{constructor(e){this.name=e,this._logLevel=tT,this._logHandler=rT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in he))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...e),this._logHandler(this,he.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...e),this._logHandler(this,he.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,he.INFO,...e),this._logHandler(this,he.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,he.WARN,...e),this._logHandler(this,he.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...e),this._logHandler(this,he.ERROR,...e)}}const iT=(t,e)=>e.some(n=>t instanceof n);let zp,$p;function oT(){return zp||(zp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sT(){return $p||($p=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ov=new WeakMap,jc=new WeakMap,sv=new WeakMap,Mu=new WeakMap,sf=new WeakMap;function aT(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(ir(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&ov.set(n,t)}).catch(()=>{}),sf.set(e,t),e}function lT(t){if(jc.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});jc.set(t,e)}let Bc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return jc.get(t);if(e==="objectStoreNames")return t.objectStoreNames||sv.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ir(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function uT(t){Bc=t(Bc)}function cT(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Lu(this),e,...n);return sv.set(r,e.sort?e.sort():[e]),ir(r)}:sT().includes(t)?function(...e){return t.apply(Lu(this),e),ir(ov.get(this))}:function(...e){return ir(t.apply(Lu(this),e))}}function hT(t){return typeof t=="function"?cT(t):(t instanceof IDBTransaction&&lT(t),iT(t,oT())?new Proxy(t,Bc):t)}function ir(t){if(t instanceof IDBRequest)return aT(t);if(Mu.has(t))return Mu.get(t);const e=hT(t);return e!==t&&(Mu.set(t,e),sf.set(e,t)),e}const Lu=t=>sf.get(t);function fT(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),l=ir(a);return r&&a.addEventListener("upgradeneeded",u=>{r(ir(a.result),u.oldVersion,u.newVersion,ir(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const dT=["get","getKey","getAll","getAllKeys","count"],pT=["put","add","delete","clear"],bu=new Map;function Wp(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(bu.get(e))return bu.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=pT.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||dT.includes(n)))return;const o=async function(a,...l){const u=this.transaction(a,i?"readwrite":"readonly");let h=u.store;return r&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),i&&u.done]))[0]};return bu.set(e,o),o}uT(t=>({...t,get:(e,n,r)=>Wp(e,n)||t.get(e,n,r),has:(e,n)=>!!Wp(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(gT(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function gT(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const zc="@firebase/app",qp="0.10.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr=new iv("@firebase/app"),yT="@firebase/app-compat",vT="@firebase/analytics-compat",_T="@firebase/analytics",ET="@firebase/app-check-compat",wT="@firebase/app-check",TT="@firebase/auth",IT="@firebase/auth-compat",ST="@firebase/database",AT="@firebase/database-compat",PT="@firebase/functions",CT="@firebase/functions-compat",RT="@firebase/installations",kT="@firebase/installations-compat",xT="@firebase/messaging",VT="@firebase/messaging-compat",DT="@firebase/performance",NT="@firebase/performance-compat",OT="@firebase/remote-config",MT="@firebase/remote-config-compat",LT="@firebase/storage",bT="@firebase/storage-compat",FT="@firebase/firestore",UT="@firebase/vertexai-preview",jT="@firebase/firestore-compat",BT="firebase",zT="10.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $c="[DEFAULT]",$T={[zc]:"fire-core",[yT]:"fire-core-compat",[_T]:"fire-analytics",[vT]:"fire-analytics-compat",[wT]:"fire-app-check",[ET]:"fire-app-check-compat",[TT]:"fire-auth",[IT]:"fire-auth-compat",[ST]:"fire-rtdb",[AT]:"fire-rtdb-compat",[PT]:"fire-fn",[CT]:"fire-fn-compat",[RT]:"fire-iid",[kT]:"fire-iid-compat",[xT]:"fire-fcm",[VT]:"fire-fcm-compat",[DT]:"fire-perf",[NT]:"fire-perf-compat",[OT]:"fire-rc",[MT]:"fire-rc-compat",[LT]:"fire-gcs",[bT]:"fire-gcs-compat",[FT]:"fire-fst",[jT]:"fire-fst-compat",[UT]:"fire-vertex","fire-js":"fire-js",[BT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl=new Map,WT=new Map,Wc=new Map;function Hp(t,e){try{t.container.addComponent(e)}catch(n){jr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function il(t){const e=t.name;if(Wc.has(e))return jr.debug(`There were multiple attempts to register component ${e}.`),!1;Wc.set(e,t);for(const n of rl.values())Hp(n,t);for(const n of WT.values())Hp(n,t);return!0}function qT(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},or=new rv("app","Firebase",HT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new is("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw or.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT=zT;function av(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:$c,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw or.create("bad-app-name",{appName:String(i)});if(n||(n=nv()),!n)throw or.create("no-options");const o=rl.get(i);if(o){if(Uc(n,o.options)&&Uc(r,o.config))return o;throw or.create("duplicate-app",{appName:i})}const a=new Z1(i);for(const u of Wc.values())a.addComponent(u);const l=new QT(n,r,a);return rl.set(i,l),l}function GT(t=$c){const e=rl.get(t);if(!e&&t===$c&&nv())return av();if(!e)throw or.create("no-app",{appName:t});return e}function Ii(t,e,n){var r;let i=(r=$T[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const l=[`Unable to register library "${i}" with version "${e}":`];o&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),jr.warn(l.join(" "));return}il(new is(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="firebase-heartbeat-database",YT=1,os="firebase-heartbeat-store";let Fu=null;function lv(){return Fu||(Fu=fT(XT,YT,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(os)}catch(n){console.warn(n)}}}}).catch(t=>{throw or.create("idb-open",{originalErrorMessage:t.message})})),Fu}async function JT(t){try{const n=(await lv()).transaction(os),r=await n.objectStore(os).get(uv(t));return await n.done,r}catch(e){if(e instanceof Wi)jr.warn(e.message);else{const n=or.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});jr.warn(n.message)}}}async function Qp(t,e){try{const r=(await lv()).transaction(os,"readwrite");await r.objectStore(os).put(e,uv(t)),await r.done}catch(n){if(n instanceof Wi)jr.warn(n.message);else{const r=or.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});jr.warn(r.message)}}}function uv(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT=1024,eI=30*24*60*60*1e3;class tI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new rI(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Kp();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const l=new Date(a.date).valueOf();return Date.now()-l<=eI}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Kp(),{heartbeatsToSend:r,unsentEntries:i}=nI(this._heartbeatsCache.heartbeats),o=nl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function Kp(){return new Date().toISOString().substring(0,10)}function nI(t,e=ZT){const n=[];let r=t.slice();for(const i of t){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),Gp(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Gp(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class rI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return q1()?H1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await JT(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Qp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Qp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Gp(t){return nl(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(t){il(new is("platform-logger",e=>new mT(e),"PRIVATE")),il(new is("heartbeat",e=>new tI(e),"PRIVATE")),Ii(zc,qp,t),Ii(zc,qp,"esm2017"),Ii("fire-js","")}iI("");var Xp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Nr,cv;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,y){function w(){}w.prototype=y.prototype,E.D=y.prototype,E.prototype=new w,E.prototype.constructor=E,E.C=function(T,R,k){for(var I=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)I[pt-2]=arguments[pt];return y.prototype[R].apply(T,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,y,w){w||(w=0);var T=Array(16);if(typeof y=="string")for(var R=0;16>R;++R)T[R]=y.charCodeAt(w++)|y.charCodeAt(w++)<<8|y.charCodeAt(w++)<<16|y.charCodeAt(w++)<<24;else for(R=0;16>R;++R)T[R]=y[w++]|y[w++]<<8|y[w++]<<16|y[w++]<<24;y=E.g[0],w=E.g[1],R=E.g[2];var k=E.g[3],I=y+(k^w&(R^k))+T[0]+3614090360&4294967295;y=w+(I<<7&4294967295|I>>>25),I=k+(R^y&(w^R))+T[1]+3905402710&4294967295,k=y+(I<<12&4294967295|I>>>20),I=R+(w^k&(y^w))+T[2]+606105819&4294967295,R=k+(I<<17&4294967295|I>>>15),I=w+(y^R&(k^y))+T[3]+3250441966&4294967295,w=R+(I<<22&4294967295|I>>>10),I=y+(k^w&(R^k))+T[4]+4118548399&4294967295,y=w+(I<<7&4294967295|I>>>25),I=k+(R^y&(w^R))+T[5]+1200080426&4294967295,k=y+(I<<12&4294967295|I>>>20),I=R+(w^k&(y^w))+T[6]+2821735955&4294967295,R=k+(I<<17&4294967295|I>>>15),I=w+(y^R&(k^y))+T[7]+4249261313&4294967295,w=R+(I<<22&4294967295|I>>>10),I=y+(k^w&(R^k))+T[8]+1770035416&4294967295,y=w+(I<<7&4294967295|I>>>25),I=k+(R^y&(w^R))+T[9]+2336552879&4294967295,k=y+(I<<12&4294967295|I>>>20),I=R+(w^k&(y^w))+T[10]+4294925233&4294967295,R=k+(I<<17&4294967295|I>>>15),I=w+(y^R&(k^y))+T[11]+2304563134&4294967295,w=R+(I<<22&4294967295|I>>>10),I=y+(k^w&(R^k))+T[12]+1804603682&4294967295,y=w+(I<<7&4294967295|I>>>25),I=k+(R^y&(w^R))+T[13]+4254626195&4294967295,k=y+(I<<12&4294967295|I>>>20),I=R+(w^k&(y^w))+T[14]+2792965006&4294967295,R=k+(I<<17&4294967295|I>>>15),I=w+(y^R&(k^y))+T[15]+1236535329&4294967295,w=R+(I<<22&4294967295|I>>>10),I=y+(R^k&(w^R))+T[1]+4129170786&4294967295,y=w+(I<<5&4294967295|I>>>27),I=k+(w^R&(y^w))+T[6]+3225465664&4294967295,k=y+(I<<9&4294967295|I>>>23),I=R+(y^w&(k^y))+T[11]+643717713&4294967295,R=k+(I<<14&4294967295|I>>>18),I=w+(k^y&(R^k))+T[0]+3921069994&4294967295,w=R+(I<<20&4294967295|I>>>12),I=y+(R^k&(w^R))+T[5]+3593408605&4294967295,y=w+(I<<5&4294967295|I>>>27),I=k+(w^R&(y^w))+T[10]+38016083&4294967295,k=y+(I<<9&4294967295|I>>>23),I=R+(y^w&(k^y))+T[15]+3634488961&4294967295,R=k+(I<<14&4294967295|I>>>18),I=w+(k^y&(R^k))+T[4]+3889429448&4294967295,w=R+(I<<20&4294967295|I>>>12),I=y+(R^k&(w^R))+T[9]+568446438&4294967295,y=w+(I<<5&4294967295|I>>>27),I=k+(w^R&(y^w))+T[14]+3275163606&4294967295,k=y+(I<<9&4294967295|I>>>23),I=R+(y^w&(k^y))+T[3]+4107603335&4294967295,R=k+(I<<14&4294967295|I>>>18),I=w+(k^y&(R^k))+T[8]+1163531501&4294967295,w=R+(I<<20&4294967295|I>>>12),I=y+(R^k&(w^R))+T[13]+2850285829&4294967295,y=w+(I<<5&4294967295|I>>>27),I=k+(w^R&(y^w))+T[2]+4243563512&4294967295,k=y+(I<<9&4294967295|I>>>23),I=R+(y^w&(k^y))+T[7]+1735328473&4294967295,R=k+(I<<14&4294967295|I>>>18),I=w+(k^y&(R^k))+T[12]+2368359562&4294967295,w=R+(I<<20&4294967295|I>>>12),I=y+(w^R^k)+T[5]+4294588738&4294967295,y=w+(I<<4&4294967295|I>>>28),I=k+(y^w^R)+T[8]+2272392833&4294967295,k=y+(I<<11&4294967295|I>>>21),I=R+(k^y^w)+T[11]+1839030562&4294967295,R=k+(I<<16&4294967295|I>>>16),I=w+(R^k^y)+T[14]+4259657740&4294967295,w=R+(I<<23&4294967295|I>>>9),I=y+(w^R^k)+T[1]+2763975236&4294967295,y=w+(I<<4&4294967295|I>>>28),I=k+(y^w^R)+T[4]+1272893353&4294967295,k=y+(I<<11&4294967295|I>>>21),I=R+(k^y^w)+T[7]+4139469664&4294967295,R=k+(I<<16&4294967295|I>>>16),I=w+(R^k^y)+T[10]+3200236656&4294967295,w=R+(I<<23&4294967295|I>>>9),I=y+(w^R^k)+T[13]+681279174&4294967295,y=w+(I<<4&4294967295|I>>>28),I=k+(y^w^R)+T[0]+3936430074&4294967295,k=y+(I<<11&4294967295|I>>>21),I=R+(k^y^w)+T[3]+3572445317&4294967295,R=k+(I<<16&4294967295|I>>>16),I=w+(R^k^y)+T[6]+76029189&4294967295,w=R+(I<<23&4294967295|I>>>9),I=y+(w^R^k)+T[9]+3654602809&4294967295,y=w+(I<<4&4294967295|I>>>28),I=k+(y^w^R)+T[12]+3873151461&4294967295,k=y+(I<<11&4294967295|I>>>21),I=R+(k^y^w)+T[15]+530742520&4294967295,R=k+(I<<16&4294967295|I>>>16),I=w+(R^k^y)+T[2]+3299628645&4294967295,w=R+(I<<23&4294967295|I>>>9),I=y+(R^(w|~k))+T[0]+4096336452&4294967295,y=w+(I<<6&4294967295|I>>>26),I=k+(w^(y|~R))+T[7]+1126891415&4294967295,k=y+(I<<10&4294967295|I>>>22),I=R+(y^(k|~w))+T[14]+2878612391&4294967295,R=k+(I<<15&4294967295|I>>>17),I=w+(k^(R|~y))+T[5]+4237533241&4294967295,w=R+(I<<21&4294967295|I>>>11),I=y+(R^(w|~k))+T[12]+1700485571&4294967295,y=w+(I<<6&4294967295|I>>>26),I=k+(w^(y|~R))+T[3]+2399980690&4294967295,k=y+(I<<10&4294967295|I>>>22),I=R+(y^(k|~w))+T[10]+4293915773&4294967295,R=k+(I<<15&4294967295|I>>>17),I=w+(k^(R|~y))+T[1]+2240044497&4294967295,w=R+(I<<21&4294967295|I>>>11),I=y+(R^(w|~k))+T[8]+1873313359&4294967295,y=w+(I<<6&4294967295|I>>>26),I=k+(w^(y|~R))+T[15]+4264355552&4294967295,k=y+(I<<10&4294967295|I>>>22),I=R+(y^(k|~w))+T[6]+2734768916&4294967295,R=k+(I<<15&4294967295|I>>>17),I=w+(k^(R|~y))+T[13]+1309151649&4294967295,w=R+(I<<21&4294967295|I>>>11),I=y+(R^(w|~k))+T[4]+4149444226&4294967295,y=w+(I<<6&4294967295|I>>>26),I=k+(w^(y|~R))+T[11]+3174756917&4294967295,k=y+(I<<10&4294967295|I>>>22),I=R+(y^(k|~w))+T[2]+718787259&4294967295,R=k+(I<<15&4294967295|I>>>17),I=w+(k^(R|~y))+T[9]+3951481745&4294967295,E.g[0]=E.g[0]+y&4294967295,E.g[1]=E.g[1]+(R+(I<<21&4294967295|I>>>11))&4294967295,E.g[2]=E.g[2]+R&4294967295,E.g[3]=E.g[3]+k&4294967295}r.prototype.u=function(E,y){y===void 0&&(y=E.length);for(var w=y-this.blockSize,T=this.B,R=this.h,k=0;k<y;){if(R==0)for(;k<=w;)i(this,E,k),k+=this.blockSize;if(typeof E=="string"){for(;k<y;)if(T[R++]=E.charCodeAt(k++),R==this.blockSize){i(this,T),R=0;break}}else for(;k<y;)if(T[R++]=E[k++],R==this.blockSize){i(this,T),R=0;break}}this.h=R,this.o+=y},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var y=1;y<E.length-8;++y)E[y]=0;var w=8*this.o;for(y=E.length-8;y<E.length;++y)E[y]=w&255,w/=256;for(this.u(E),E=Array(16),y=w=0;4>y;++y)for(var T=0;32>T;T+=8)E[w++]=this.g[y]>>>T&255;return E};function o(E,y){var w=l;return Object.prototype.hasOwnProperty.call(w,E)?w[E]:w[E]=y(E)}function a(E,y){this.h=y;for(var w=[],T=!0,R=E.length-1;0<=R;R--){var k=E[R]|0;T&&k==y||(w[R]=k,T=!1)}this.g=w}var l={};function u(E){return-128<=E&&128>E?o(E,function(y){return new a([y|0],0>y?-1:0)}):new a([E|0],0>E?-1:0)}function h(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return M(h(-E));for(var y=[],w=1,T=0;E>=w;T++)y[T]=E/w|0,w*=4294967296;return new a(y,0)}function d(E,y){if(E.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(E.charAt(0)=="-")return M(d(E.substring(1),y));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=h(Math.pow(y,8)),T=p,R=0;R<E.length;R+=8){var k=Math.min(8,E.length-R),I=parseInt(E.substring(R,R+k),y);8>k?(k=h(Math.pow(y,k)),T=T.j(k).add(h(I))):(T=T.j(w),T=T.add(h(I)))}return T}var p=u(0),v=u(1),P=u(16777216);t=a.prototype,t.m=function(){if(O(this))return-M(this).m();for(var E=0,y=1,w=0;w<this.g.length;w++){var T=this.i(w);E+=(0<=T?T:4294967296+T)*y,y*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(x(this))return"0";if(O(this))return"-"+M(this).toString(E);for(var y=h(Math.pow(E,6)),w=this,T="";;){var R=D(w,y).g;w=S(w,R.j(y));var k=((0<w.g.length?w.g[0]:w.h)>>>0).toString(E);if(w=R,x(w))return k+T;for(;6>k.length;)k="0"+k;T=k+T}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function x(E){if(E.h!=0)return!1;for(var y=0;y<E.g.length;y++)if(E.g[y]!=0)return!1;return!0}function O(E){return E.h==-1}t.l=function(E){return E=S(this,E),O(E)?-1:x(E)?0:1};function M(E){for(var y=E.g.length,w=[],T=0;T<y;T++)w[T]=~E.g[T];return new a(w,~E.h).add(v)}t.abs=function(){return O(this)?M(this):this},t.add=function(E){for(var y=Math.max(this.g.length,E.g.length),w=[],T=0,R=0;R<=y;R++){var k=T+(this.i(R)&65535)+(E.i(R)&65535),I=(k>>>16)+(this.i(R)>>>16)+(E.i(R)>>>16);T=I>>>16,k&=65535,I&=65535,w[R]=I<<16|k}return new a(w,w[w.length-1]&-2147483648?-1:0)};function S(E,y){return E.add(M(y))}t.j=function(E){if(x(this)||x(E))return p;if(O(this))return O(E)?M(this).j(M(E)):M(M(this).j(E));if(O(E))return M(this.j(M(E)));if(0>this.l(P)&&0>E.l(P))return h(this.m()*E.m());for(var y=this.g.length+E.g.length,w=[],T=0;T<2*y;T++)w[T]=0;for(T=0;T<this.g.length;T++)for(var R=0;R<E.g.length;R++){var k=this.i(T)>>>16,I=this.i(T)&65535,pt=E.i(R)>>>16,qt=E.i(R)&65535;w[2*T+2*R]+=I*qt,g(w,2*T+2*R),w[2*T+2*R+1]+=k*qt,g(w,2*T+2*R+1),w[2*T+2*R+1]+=I*pt,g(w,2*T+2*R+1),w[2*T+2*R+2]+=k*pt,g(w,2*T+2*R+2)}for(T=0;T<y;T++)w[T]=w[2*T+1]<<16|w[2*T];for(T=y;T<2*y;T++)w[T]=0;return new a(w,0)};function g(E,y){for(;(E[y]&65535)!=E[y];)E[y+1]+=E[y]>>>16,E[y]&=65535,y++}function _(E,y){this.g=E,this.h=y}function D(E,y){if(x(y))throw Error("division by zero");if(x(E))return new _(p,p);if(O(E))return y=D(M(E),y),new _(M(y.g),M(y.h));if(O(y))return y=D(E,M(y)),new _(M(y.g),y.h);if(30<E.g.length){if(O(E)||O(y))throw Error("slowDivide_ only works with positive integers.");for(var w=v,T=y;0>=T.l(E);)w=b(w),T=b(T);var R=z(w,1),k=z(T,1);for(T=z(T,2),w=z(w,2);!x(T);){var I=k.add(T);0>=I.l(E)&&(R=R.add(w),k=I),T=z(T,1),w=z(w,1)}return y=S(E,R.j(y)),new _(R,y)}for(R=p;0<=E.l(y);){for(w=Math.max(1,Math.floor(E.m()/y.m())),T=Math.ceil(Math.log(w)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),k=h(w),I=k.j(y);O(I)||0<I.l(E);)w-=T,k=h(w),I=k.j(y);x(k)&&(k=v),R=R.add(k),E=S(E,I)}return new _(R,E)}t.A=function(E){return D(this,E).h},t.and=function(E){for(var y=Math.max(this.g.length,E.g.length),w=[],T=0;T<y;T++)w[T]=this.i(T)&E.i(T);return new a(w,this.h&E.h)},t.or=function(E){for(var y=Math.max(this.g.length,E.g.length),w=[],T=0;T<y;T++)w[T]=this.i(T)|E.i(T);return new a(w,this.h|E.h)},t.xor=function(E){for(var y=Math.max(this.g.length,E.g.length),w=[],T=0;T<y;T++)w[T]=this.i(T)^E.i(T);return new a(w,this.h^E.h)};function b(E){for(var y=E.g.length+1,w=[],T=0;T<y;T++)w[T]=E.i(T)<<1|E.i(T-1)>>>31;return new a(w,E.h)}function z(E,y){var w=y>>5;y%=32;for(var T=E.g.length-w,R=[],k=0;k<T;k++)R[k]=0<y?E.i(k+w)>>>y|E.i(k+w+1)<<32-y:E.i(k+w);return new a(R,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,cv=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=d,Nr=a}).apply(typeof Xp<"u"?Xp:typeof self<"u"?self:typeof window<"u"?window:{});var ca=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hv,fv,Io,dv,Pa,qc,pv,mv,gv;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(s,c,f){return s==Array.prototype||s==Object.prototype||(s[c]=f.value),s};function n(s){s=[typeof globalThis=="object"&&globalThis,s,typeof window=="object"&&window,typeof self=="object"&&self,typeof ca=="object"&&ca];for(var c=0;c<s.length;++c){var f=s[c];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(s,c){if(c)e:{var f=r;s=s.split(".");for(var m=0;m<s.length-1;m++){var V=s[m];if(!(V in f))break e;f=f[V]}s=s[s.length-1],m=f[s],c=c(m),c!=m&&c!=null&&e(f,s,{configurable:!0,writable:!0,value:c})}}function o(s,c){s instanceof String&&(s+="");var f=0,m=!1,V={next:function(){if(!m&&f<s.length){var L=f++;return{value:c(L,s[L]),done:!1}}return m=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(s){return s||function(){return o(this,function(c,f){return f})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function u(s){var c=typeof s;return c=c!="object"?c:s?Array.isArray(s)?"array":c:"null",c=="array"||c=="object"&&typeof s.length=="number"}function h(s){var c=typeof s;return c=="object"&&s!=null||c=="function"}function d(s,c,f){return s.call.apply(s.bind,arguments)}function p(s,c,f){if(!s)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,m),s.apply(c,V)}}return function(){return s.apply(c,arguments)}}function v(s,c,f){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,v.apply(null,arguments)}function P(s,c){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),s.apply(this,m)}}function x(s,c){function f(){}f.prototype=c.prototype,s.aa=c.prototype,s.prototype=new f,s.prototype.constructor=s,s.Qb=function(m,V,L){for(var $=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)$[ve-2]=arguments[ve];return c.prototype[V].apply(m,$)}}function O(s){const c=s.length;if(0<c){const f=Array(c);for(let m=0;m<c;m++)f[m]=s[m];return f}return[]}function M(s,c){for(let f=1;f<arguments.length;f++){const m=arguments[f];if(u(m)){const V=s.length||0,L=m.length||0;s.length=V+L;for(let $=0;$<L;$++)s[V+$]=m[$]}else s.push(m)}}class S{constructor(c,f){this.i=c,this.j=f,this.h=0,this.g=null}get(){let c;return 0<this.h?(this.h--,c=this.g,this.g=c.next,c.next=null):c=this.i(),c}}function g(s){return/^[\s\xa0]*$/.test(s)}function _(){var s=l.navigator;return s&&(s=s.userAgent)?s:""}function D(s){return D[" "](s),s}D[" "]=function(){};var b=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function z(s,c,f){for(const m in s)c.call(f,s[m],m,s)}function E(s,c){for(const f in s)c.call(void 0,s[f],f,s)}function y(s){const c={};for(const f in s)c[f]=s[f];return c}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(s,c){let f,m;for(let V=1;V<arguments.length;V++){m=arguments[V];for(f in m)s[f]=m[f];for(let L=0;L<w.length;L++)f=w[L],Object.prototype.hasOwnProperty.call(m,f)&&(s[f]=m[f])}}function R(s){var c=1;s=s.split(":");const f=[];for(;0<c&&s.length;)f.push(s.shift()),c--;return s.length&&f.push(s.join(":")),f}function k(s){l.setTimeout(()=>{throw s},0)}function I(){var s=J;let c=null;return s.g&&(c=s.g,s.g=s.g.next,s.g||(s.h=null),c.next=null),c}class pt{constructor(){this.h=this.g=null}add(c,f){const m=qt.get();m.set(c,f),this.h?this.h.next=m:this.g=m,this.h=m}}var qt=new S(()=>new yn,s=>s.reset());class yn{constructor(){this.next=this.g=this.h=null}set(c,f){this.h=c,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Ht,W=!1,J=new pt,re=()=>{const s=l.Promise.resolve(void 0);Ht=()=>{s.then(we)}};var we=()=>{for(var s;s=I();){try{s.h.call(s.g)}catch(f){k(f)}var c=qt;c.j(s),100>c.h&&(c.h++,s.next=c.g,c.g=s)}W=!1};function me(){this.s=this.s,this.C=this.C}me.prototype.s=!1,me.prototype.ma=function(){this.s||(this.s=!0,this.N())},me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Te(s,c){this.type=s,this.g=this.target=c,this.defaultPrevented=!1}Te.prototype.h=function(){this.defaultPrevented=!0};var Lt=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var s=!1,c=Object.defineProperty({},"passive",{get:function(){s=!0}});try{const f=()=>{};l.addEventListener("test",f,c),l.removeEventListener("test",f,c)}catch{}return s}();function _t(s,c){if(Te.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,s){var f=this.type=s.type,m=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=c,c=s.relatedTarget){if(b){e:{try{D(c.nodeName);var V=!0;break e}catch{}V=!1}V||(c=null)}}else f=="mouseover"?c=s.fromElement:f=="mouseout"&&(c=s.toElement);this.relatedTarget=c,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType=typeof s.pointerType=="string"?s.pointerType:bt[s.pointerType]||"",this.state=s.state,this.i=s,s.defaultPrevented&&_t.aa.h.call(this)}}x(_t,Te);var bt={2:"touch",3:"pen",4:"mouse"};_t.prototype.h=function(){_t.aa.h.call(this);var s=this.i;s.preventDefault?s.preventDefault():s.returnValue=!1};var Qt="closure_listenable_"+(1e6*Math.random()|0),As=0;function Ki(s,c,f,m,V){this.listener=s,this.proxy=null,this.src=c,this.type=f,this.capture=!!m,this.ha=V,this.key=++As,this.da=this.fa=!1}function on(s){s.da=!0,s.listener=null,s.proxy=null,s.src=null,s.ha=null}function Gr(s){this.src=s,this.g={},this.h=0}Gr.prototype.add=function(s,c,f,m,V){var L=s.toString();s=this.g[L],s||(s=this.g[L]=[],this.h++);var $=ye(s,c,m,V);return-1<$?(c=s[$],f||(c.fa=!1)):(c=new Ki(c,this.src,L,!!m,V),c.fa=f,s.push(c)),c};function Gi(s,c){var f=c.type;if(f in s.g){var m=s.g[f],V=Array.prototype.indexOf.call(m,c,void 0),L;(L=0<=V)&&Array.prototype.splice.call(m,V,1),L&&(on(c),s.g[f].length==0&&(delete s.g[f],s.h--))}}function ye(s,c,f,m){for(var V=0;V<s.length;++V){var L=s[V];if(!L.da&&L.listener==c&&L.capture==!!f&&L.ha==m)return V}return-1}var Xi="closure_lm_"+(1e6*Math.random()|0),Yi={};function Et(s,c,f,m,V){if(Array.isArray(c)){for(var L=0;L<c.length;L++)Et(s,c[L],f,m,V);return null}return f=sn(f),s&&s[Qt]?s.K(c,f,h(m)?!!m.capture:!!m,V):Ql(s,c,f,!1,m,V)}function Ql(s,c,f,m,V,L){if(!c)throw Error("Invalid event type");var $=h(V)?!!V.capture:!!V,ve=vn(s);if(ve||(s[Xi]=ve=new Gr(s)),f=ve.add(c,f,m,$,L),f.proxy)return f;if(m=Ps(),f.proxy=m,m.src=s,m.listener=f,s.addEventListener)Lt||(V=$),V===void 0&&(V=!1),s.addEventListener(c.toString(),m,V);else if(s.attachEvent)s.attachEvent(On(c.toString()),m);else if(s.addListener&&s.removeListener)s.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function Ps(){function s(f){return c.call(s.src,s.listener,f)}const c=Kl;return s}function Cs(s,c,f,m,V){if(Array.isArray(c))for(var L=0;L<c.length;L++)Cs(s,c[L],f,m,V);else m=h(m)?!!m.capture:!!m,f=sn(f),s&&s[Qt]?(s=s.i,c=String(c).toString(),c in s.g&&(L=s.g[c],f=ye(L,f,m,V),-1<f&&(on(L[f]),Array.prototype.splice.call(L,f,1),L.length==0&&(delete s.g[c],s.h--)))):s&&(s=vn(s))&&(c=s.g[c.toString()],s=-1,c&&(s=ye(c,f,m,V)),(f=-1<s?c[s]:null)&&Ji(f))}function Ji(s){if(typeof s!="number"&&s&&!s.da){var c=s.src;if(c&&c[Qt])Gi(c.i,s);else{var f=s.type,m=s.proxy;c.removeEventListener?c.removeEventListener(f,m,s.capture):c.detachEvent?c.detachEvent(On(f),m):c.addListener&&c.removeListener&&c.removeListener(m),(f=vn(c))?(Gi(f,s),f.h==0&&(f.src=null,c[Xi]=null)):on(s)}}}function On(s){return s in Yi?Yi[s]:Yi[s]="on"+s}function Kl(s,c){if(s.da)s=!0;else{c=new _t(c,this);var f=s.listener,m=s.ha||s.src;s.fa&&Ji(s),s=f.call(m,c)}return s}function vn(s){return s=s[Xi],s instanceof Gr?s:null}var Zi="__closure_events_fn_"+(1e9*Math.random()>>>0);function sn(s){return typeof s=="function"?s:(s[Zi]||(s[Zi]=function(c){return s.handleEvent(c)}),s[Zi])}function He(){me.call(this),this.i=new Gr(this),this.M=this,this.F=null}x(He,me),He.prototype[Qt]=!0,He.prototype.removeEventListener=function(s,c,f,m){Cs(this,s,c,f,m)};function Xe(s,c){var f,m=s.F;if(m)for(f=[];m;m=m.F)f.push(m);if(s=s.M,m=c.type||c,typeof c=="string")c=new Te(c,s);else if(c instanceof Te)c.target=c.target||s;else{var V=c;c=new Te(m,s),T(c,V)}if(V=!0,f)for(var L=f.length-1;0<=L;L--){var $=c.g=f[L];V=Xr($,m,!0,c)&&V}if($=c.g=s,V=Xr($,m,!0,c)&&V,V=Xr($,m,!1,c)&&V,f)for(L=0;L<f.length;L++)$=c.g=f[L],V=Xr($,m,!1,c)&&V}He.prototype.N=function(){if(He.aa.N.call(this),this.i){var s=this.i,c;for(c in s.g){for(var f=s.g[c],m=0;m<f.length;m++)on(f[m]);delete s.g[c],s.h--}}this.F=null},He.prototype.K=function(s,c,f,m){return this.i.add(String(s),c,!1,f,m)},He.prototype.L=function(s,c,f,m){return this.i.add(String(s),c,!0,f,m)};function Xr(s,c,f,m){if(c=s.i.g[String(c)],!c)return!0;c=c.concat();for(var V=!0,L=0;L<c.length;++L){var $=c[L];if($&&!$.da&&$.capture==f){var ve=$.listener,Ye=$.ha||$.src;$.fa&&Gi(s.i,$),V=ve.call(Ye,m)!==!1&&V}}return V&&!m.defaultPrevented}function Mn(s,c,f){if(typeof s=="function")f&&(s=v(s,f));else if(s&&typeof s.handleEvent=="function")s=v(s.handleEvent,s);else throw Error("Invalid listener argument");return 2147483647<Number(c)?-1:l.setTimeout(s,c||0)}function Rs(s){s.g=Mn(()=>{s.g=null,s.i&&(s.i=!1,Rs(s))},s.l);const c=s.h;s.h=null,s.m.apply(null,c)}class Gl extends me{constructor(c,f){super(),this.m=c,this.l=f,this.h=null,this.i=!1,this.g=null}j(c){this.h=arguments,this.g?this.i=!0:Rs(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kt(s){me.call(this),this.h=s,this.g={}}x(Kt,me);var ks=[];function xs(s){z(s.g,function(c,f){this.g.hasOwnProperty(f)&&Ji(c)},s),s.g={}}Kt.prototype.N=function(){Kt.aa.N.call(this),xs(this)},Kt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vr=l.JSON.stringify,A=l.JSON.parse,C=class{stringify(s){return l.JSON.stringify(s,void 0)}parse(s){return l.JSON.parse(s,void 0)}};function N(){}N.prototype.h=null;function U(s){return s.h||(s.h=s.i())}function H(){}var se={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Y(){Te.call(this,"d")}x(Y,Te);function Pe(){Te.call(this,"c")}x(Pe,Te);var ae={},ie=null;function Ce(){return ie=ie||new He}ae.La="serverreachability";function Gt(s){Te.call(this,ae.La,s)}x(Gt,Te);function Ln(s){const c=Ce();Xe(c,new Gt(c))}ae.STAT_EVENT="statevent";function Vs(s,c){Te.call(this,ae.STAT_EVENT,s),this.stat=c}x(Vs,Te);function Be(s){const c=Ce();Xe(c,new Vs(c,s))}ae.Ma="timingevent";function Ds(s,c){Te.call(this,ae.Ma,s),this.size=c}x(Ds,Te);function _r(s,c){if(typeof s!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){s()},c)}function G(){this.g=!0}G.prototype.xa=function(){this.g=!1};function Ft(s,c,f,m,V,L){s.info(function(){if(s.g)if(L)for(var $="",ve=L.split("&"),Ye=0;Ye<ve.length;Ye++){var de=ve[Ye].split("=");if(1<de.length){var it=de[0];de=de[1];var ot=it.split("_");$=2<=ot.length&&ot[1]=="type"?$+(it+"="+de+"&"):$+(it+"=redacted&")}}else $=null;else $=L;return"XMLHTTP REQ ("+m+") [attempt "+V+"]: "+c+`
`+f+`
`+$})}function Ns(s,c,f,m,V,L,$){s.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+V+"]: "+c+`
`+f+`
`+L+" "+$})}function _n(s,c,f,m){s.info(function(){return"XMLHTTP TEXT ("+c+"): "+D_(s,f)+(m?" "+m:"")})}function V_(s,c){s.info(function(){return"TIMEOUT: "+c})}G.prototype.info=function(){};function D_(s,c){if(!s.g)return c;if(!c)return null;try{var f=JSON.parse(c);if(f){for(s=0;s<f.length;s++)if(Array.isArray(f[s])){var m=f[s];if(!(2>m.length)){var V=m[1];if(Array.isArray(V)&&!(1>V.length)){var L=V[0];if(L!="noop"&&L!="stop"&&L!="close")for(var $=1;$<V.length;$++)V[$]=""}}}}return vr(f)}catch{return c}}var Os={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ff={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Xl;function Ms(){}x(Ms,N),Ms.prototype.g=function(){return new XMLHttpRequest},Ms.prototype.i=function(){return{}},Xl=new Ms;function bn(s,c,f,m){this.j=s,this.i=c,this.l=f,this.R=m||1,this.U=new Kt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Uf}function Uf(){this.i=null,this.g="",this.h=!1}var jf={},Yl={};function Jl(s,c,f){s.L=1,s.v=Us(En(c)),s.m=f,s.P=!0,Bf(s,null)}function Bf(s,c){s.F=Date.now(),Ls(s),s.A=En(s.v);var f=s.A,m=s.R;Array.isArray(m)||(m=[String(m)]),td(f.i,"t",m),s.C=0,f=s.j.J,s.h=new Uf,s.g=_d(s.j,f?c:null,!s.m),0<s.O&&(s.M=new Gl(v(s.Y,s,s.g),s.O)),c=s.U,f=s.g,m=s.ca;var V="readystatechange";Array.isArray(V)||(V&&(ks[0]=V.toString()),V=ks);for(var L=0;L<V.length;L++){var $=Et(f,V[L],m||c.handleEvent,!1,c.h||c);if(!$)break;c.g[$.key]=$}c=s.H?y(s.H):{},s.m?(s.u||(s.u="POST"),c["Content-Type"]="application/x-www-form-urlencoded",s.g.ea(s.A,s.u,s.m,c)):(s.u="GET",s.g.ea(s.A,s.u,null,c)),Ln(),Ft(s.i,s.u,s.A,s.l,s.R,s.m)}bn.prototype.ca=function(s){s=s.target;const c=this.M;c&&wn(s)==3?c.j():this.Y(s)},bn.prototype.Y=function(s){try{if(s==this.g)e:{const ot=wn(this.g);var c=this.g.Ba();const Zr=this.g.Z();if(!(3>ot)&&(ot!=3||this.g&&(this.h.h||this.g.oa()||ld(this.g)))){this.J||ot!=4||c==7||(c==8||0>=Zr?Ln(3):Ln(2)),Zl(this);var f=this.g.Z();this.X=f;t:if(zf(this)){var m=ld(this.g);s="";var V=m.length,L=wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Er(this),eo(this);var $="";break t}this.h.i=new l.TextDecoder}for(c=0;c<V;c++)this.h.h=!0,s+=this.h.i.decode(m[c],{stream:!(L&&c==V-1)});m.length=0,this.h.g+=s,this.C=0,$=this.h.g}else $=this.g.oa();if(this.o=f==200,Ns(this.i,this.u,this.A,this.l,this.R,ot,f),this.o){if(this.T&&!this.K){t:{if(this.g){var ve,Ye=this.g;if((ve=Ye.g?Ye.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!g(ve)){var de=ve;break t}}de=null}if(f=de)_n(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,eu(this,f);else{this.o=!1,this.s=3,Be(12),Er(this),eo(this);break e}}if(this.P){f=!0;let Xt;for(;!this.J&&this.C<$.length;)if(Xt=N_(this,$),Xt==Yl){ot==4&&(this.s=4,Be(14),f=!1),_n(this.i,this.l,null,"[Incomplete Response]");break}else if(Xt==jf){this.s=4,Be(15),_n(this.i,this.l,$,"[Invalid Chunk]"),f=!1;break}else _n(this.i,this.l,Xt,null),eu(this,Xt);if(zf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ot!=4||$.length!=0||this.h.h||(this.s=1,Be(16),f=!1),this.o=this.o&&f,!f)_n(this.i,this.l,$,"[Invalid Chunked Response]"),Er(this),eo(this);else if(0<$.length&&!this.W){this.W=!0;var it=this.j;it.g==this&&it.ba&&!it.M&&(it.j.info("Great, no buffering proxy detected. Bytes received: "+$.length),su(it),it.M=!0,Be(11))}}else _n(this.i,this.l,$,null),eu(this,$);ot==4&&Er(this),this.o&&!this.J&&(ot==4?md(this.j,this):(this.o=!1,Ls(this)))}else X_(this.g),f==400&&0<$.indexOf("Unknown SID")?(this.s=3,Be(12)):(this.s=0,Be(13)),Er(this),eo(this)}}}catch{}finally{}};function zf(s){return s.g?s.u=="GET"&&s.L!=2&&s.j.Ca:!1}function N_(s,c){var f=s.C,m=c.indexOf(`
`,f);return m==-1?Yl:(f=Number(c.substring(f,m)),isNaN(f)?jf:(m+=1,m+f>c.length?Yl:(c=c.slice(m,m+f),s.C=m+f,c)))}bn.prototype.cancel=function(){this.J=!0,Er(this)};function Ls(s){s.S=Date.now()+s.I,$f(s,s.I)}function $f(s,c){if(s.B!=null)throw Error("WatchDog timer not null");s.B=_r(v(s.ba,s),c)}function Zl(s){s.B&&(l.clearTimeout(s.B),s.B=null)}bn.prototype.ba=function(){this.B=null;const s=Date.now();0<=s-this.S?(V_(this.i,this.A),this.L!=2&&(Ln(),Be(17)),Er(this),this.s=2,eo(this)):$f(this,this.S-s)};function eo(s){s.j.G==0||s.J||md(s.j,s)}function Er(s){Zl(s);var c=s.M;c&&typeof c.ma=="function"&&c.ma(),s.M=null,xs(s.U),s.g&&(c=s.g,s.g=null,c.abort(),c.ma())}function eu(s,c){try{var f=s.j;if(f.G!=0&&(f.g==s||tu(f.h,s))){if(!s.K&&tu(f.h,s)&&f.G==3){try{var m=f.Da.g.parse(c)}catch{m=null}if(Array.isArray(m)&&m.length==3){var V=m;if(V[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<s.F)Ws(f),zs(f);else break e;ou(f),Be(18)}}else f.za=V[1],0<f.za-f.T&&37500>V[2]&&f.F&&f.v==0&&!f.C&&(f.C=_r(v(f.Za,f),6e3));if(1>=Hf(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Tr(f,11)}else if((s.K||f.g==s)&&Ws(f),!g(c))for(V=f.Da.g.parse(c),c=0;c<V.length;c++){let de=V[c];if(f.T=de[0],de=de[1],f.G==2)if(de[0]=="c"){f.K=de[1],f.ia=de[2];const it=de[3];it!=null&&(f.la=it,f.j.info("VER="+f.la));const ot=de[4];ot!=null&&(f.Aa=ot,f.j.info("SVER="+f.Aa));const Zr=de[5];Zr!=null&&typeof Zr=="number"&&0<Zr&&(m=1.5*Zr,f.L=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;const Xt=s.g;if(Xt){const Hs=Xt.g?Xt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hs){var L=m.h;L.g||Hs.indexOf("spdy")==-1&&Hs.indexOf("quic")==-1&&Hs.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(nu(L,L.h),L.h=null))}if(m.D){const au=Xt.g?Xt.g.getResponseHeader("X-HTTP-Session-Id"):null;au&&(m.ya=au,Ie(m.I,m.D,au))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-s.F,f.j.info("Handshake RTT: "+f.R+"ms")),m=f;var $=s;if(m.qa=vd(m,m.J?m.ia:null,m.W),$.K){Qf(m.h,$);var ve=$,Ye=m.L;Ye&&(ve.I=Ye),ve.B&&(Zl(ve),Ls(ve)),m.g=$}else dd(m);0<f.i.length&&$s(f)}else de[0]!="stop"&&de[0]!="close"||Tr(f,7);else f.G==3&&(de[0]=="stop"||de[0]=="close"?de[0]=="stop"?Tr(f,7):iu(f):de[0]!="noop"&&f.l&&f.l.ta(de),f.v=0)}}Ln(4)}catch{}}var O_=class{constructor(s,c){this.g=s,this.map=c}};function Wf(s){this.l=s||10,l.PerformanceNavigationTiming?(s=l.performance.getEntriesByType("navigation"),s=0<s.length&&(s[0].nextHopProtocol=="hq"||s[0].nextHopProtocol=="h2")):s=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=s?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qf(s){return s.h?!0:s.g?s.g.size>=s.j:!1}function Hf(s){return s.h?1:s.g?s.g.size:0}function tu(s,c){return s.h?s.h==c:s.g?s.g.has(c):!1}function nu(s,c){s.g?s.g.add(c):s.h=c}function Qf(s,c){s.h&&s.h==c?s.h=null:s.g&&s.g.has(c)&&s.g.delete(c)}Wf.prototype.cancel=function(){if(this.i=Kf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const s of this.g.values())s.cancel();this.g.clear()}};function Kf(s){if(s.h!=null)return s.i.concat(s.h.D);if(s.g!=null&&s.g.size!==0){let c=s.i;for(const f of s.g.values())c=c.concat(f.D);return c}return O(s.i)}function M_(s){if(s.V&&typeof s.V=="function")return s.V();if(typeof Map<"u"&&s instanceof Map||typeof Set<"u"&&s instanceof Set)return Array.from(s.values());if(typeof s=="string")return s.split("");if(u(s)){for(var c=[],f=s.length,m=0;m<f;m++)c.push(s[m]);return c}c=[],f=0;for(m in s)c[f++]=s[m];return c}function L_(s){if(s.na&&typeof s.na=="function")return s.na();if(!s.V||typeof s.V!="function"){if(typeof Map<"u"&&s instanceof Map)return Array.from(s.keys());if(!(typeof Set<"u"&&s instanceof Set)){if(u(s)||typeof s=="string"){var c=[];s=s.length;for(var f=0;f<s;f++)c.push(f);return c}c=[],f=0;for(const m in s)c[f++]=m;return c}}}function Gf(s,c){if(s.forEach&&typeof s.forEach=="function")s.forEach(c,void 0);else if(u(s)||typeof s=="string")Array.prototype.forEach.call(s,c,void 0);else for(var f=L_(s),m=M_(s),V=m.length,L=0;L<V;L++)c.call(void 0,m[L],f&&f[L],s)}var Xf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function b_(s,c){if(s){s=s.split("&");for(var f=0;f<s.length;f++){var m=s[f].indexOf("="),V=null;if(0<=m){var L=s[f].substring(0,m);V=s[f].substring(m+1)}else L=s[f];c(L,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function wr(s){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,s instanceof wr){this.h=s.h,bs(this,s.j),this.o=s.o,this.g=s.g,Fs(this,s.s),this.l=s.l;var c=s.i,f=new ro;f.i=c.i,c.g&&(f.g=new Map(c.g),f.h=c.h),Yf(this,f),this.m=s.m}else s&&(c=String(s).match(Xf))?(this.h=!1,bs(this,c[1]||"",!0),this.o=to(c[2]||""),this.g=to(c[3]||"",!0),Fs(this,c[4]),this.l=to(c[5]||"",!0),Yf(this,c[6]||"",!0),this.m=to(c[7]||"")):(this.h=!1,this.i=new ro(null,this.h))}wr.prototype.toString=function(){var s=[],c=this.j;c&&s.push(no(c,Jf,!0),":");var f=this.g;return(f||c=="file")&&(s.push("//"),(c=this.o)&&s.push(no(c,Jf,!0),"@"),s.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&s.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&s.push("/"),s.push(no(f,f.charAt(0)=="/"?j_:U_,!0))),(f=this.i.toString())&&s.push("?",f),(f=this.m)&&s.push("#",no(f,z_)),s.join("")};function En(s){return new wr(s)}function bs(s,c,f){s.j=f?to(c,!0):c,s.j&&(s.j=s.j.replace(/:$/,""))}function Fs(s,c){if(c){if(c=Number(c),isNaN(c)||0>c)throw Error("Bad port number "+c);s.s=c}else s.s=null}function Yf(s,c,f){c instanceof ro?(s.i=c,$_(s.i,s.h)):(f||(c=no(c,B_)),s.i=new ro(c,s.h))}function Ie(s,c,f){s.i.set(c,f)}function Us(s){return Ie(s,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),s}function to(s,c){return s?c?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function no(s,c,f){return typeof s=="string"?(s=encodeURI(s).replace(c,F_),f&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function F_(s){return s=s.charCodeAt(0),"%"+(s>>4&15).toString(16)+(s&15).toString(16)}var Jf=/[#\/\?@]/g,U_=/[#\?:]/g,j_=/[#\?]/g,B_=/[#\?@]/g,z_=/#/g;function ro(s,c){this.h=this.g=null,this.i=s||null,this.j=!!c}function Fn(s){s.g||(s.g=new Map,s.h=0,s.i&&b_(s.i,function(c,f){s.add(decodeURIComponent(c.replace(/\+/g," ")),f)}))}t=ro.prototype,t.add=function(s,c){Fn(this),this.i=null,s=Yr(this,s);var f=this.g.get(s);return f||this.g.set(s,f=[]),f.push(c),this.h+=1,this};function Zf(s,c){Fn(s),c=Yr(s,c),s.g.has(c)&&(s.i=null,s.h-=s.g.get(c).length,s.g.delete(c))}function ed(s,c){return Fn(s),c=Yr(s,c),s.g.has(c)}t.forEach=function(s,c){Fn(this),this.g.forEach(function(f,m){f.forEach(function(V){s.call(c,V,m,this)},this)},this)},t.na=function(){Fn(this);const s=Array.from(this.g.values()),c=Array.from(this.g.keys()),f=[];for(let m=0;m<c.length;m++){const V=s[m];for(let L=0;L<V.length;L++)f.push(c[m])}return f},t.V=function(s){Fn(this);let c=[];if(typeof s=="string")ed(this,s)&&(c=c.concat(this.g.get(Yr(this,s))));else{s=Array.from(this.g.values());for(let f=0;f<s.length;f++)c=c.concat(s[f])}return c},t.set=function(s,c){return Fn(this),this.i=null,s=Yr(this,s),ed(this,s)&&(this.h-=this.g.get(s).length),this.g.set(s,[c]),this.h+=1,this},t.get=function(s,c){return s?(s=this.V(s),0<s.length?String(s[0]):c):c};function td(s,c,f){Zf(s,c),0<f.length&&(s.i=null,s.g.set(Yr(s,c),O(f)),s.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const s=[],c=Array.from(this.g.keys());for(var f=0;f<c.length;f++){var m=c[f];const L=encodeURIComponent(String(m)),$=this.V(m);for(m=0;m<$.length;m++){var V=L;$[m]!==""&&(V+="="+encodeURIComponent(String($[m]))),s.push(V)}}return this.i=s.join("&")};function Yr(s,c){return c=String(c),s.j&&(c=c.toLowerCase()),c}function $_(s,c){c&&!s.j&&(Fn(s),s.i=null,s.g.forEach(function(f,m){var V=m.toLowerCase();m!=V&&(Zf(this,m),td(this,V,f))},s)),s.j=c}function W_(s,c){const f=new G;if(l.Image){const m=new Image;m.onload=P(Un,f,"TestLoadImage: loaded",!0,c,m),m.onerror=P(Un,f,"TestLoadImage: error",!1,c,m),m.onabort=P(Un,f,"TestLoadImage: abort",!1,c,m),m.ontimeout=P(Un,f,"TestLoadImage: timeout",!1,c,m),l.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=s}else c(!1)}function q_(s,c){const f=new G,m=new AbortController,V=setTimeout(()=>{m.abort(),Un(f,"TestPingServer: timeout",!1,c)},1e4);fetch(s,{signal:m.signal}).then(L=>{clearTimeout(V),L.ok?Un(f,"TestPingServer: ok",!0,c):Un(f,"TestPingServer: server error",!1,c)}).catch(()=>{clearTimeout(V),Un(f,"TestPingServer: error",!1,c)})}function Un(s,c,f,m,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),m(f)}catch{}}function H_(){this.g=new C}function Q_(s,c,f){const m=f||"";try{Gf(s,function(V,L){let $=V;h(V)&&($=vr(V)),c.push(m+L+"="+encodeURIComponent($))})}catch(V){throw c.push(m+"type="+encodeURIComponent("_badmap")),V}}function io(s){this.l=s.Ub||null,this.j=s.eb||!1}x(io,N),io.prototype.g=function(){return new js(this.l,this.j)},io.prototype.i=function(s){return function(){return s}}({});function js(s,c){He.call(this),this.D=s,this.o=c,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(js,He),t=js.prototype,t.open=function(s,c){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=s,this.A=c,this.readyState=1,so(this)},t.send=function(s){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const c={headers:this.u,method:this.B,credentials:this.m,cache:void 0};s&&(c.body=s),(this.D||l).fetch(new Request(this.A,c)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,oo(this)),this.readyState=0},t.Sa=function(s){if(this.g&&(this.l=s,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=s.headers,this.readyState=2,so(this)),this.g&&(this.readyState=3,so(this),this.g)))if(this.responseType==="arraybuffer")s.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in s){if(this.j=s.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;nd(this)}else s.text().then(this.Ra.bind(this),this.ga.bind(this))};function nd(s){s.j.read().then(s.Pa.bind(s)).catch(s.ga.bind(s))}t.Pa=function(s){if(this.g){if(this.o&&s.value)this.response.push(s.value);else if(!this.o){var c=s.value?s.value:new Uint8Array(0);(c=this.v.decode(c,{stream:!s.done}))&&(this.response=this.responseText+=c)}s.done?oo(this):so(this),this.readyState==3&&nd(this)}},t.Ra=function(s){this.g&&(this.response=this.responseText=s,oo(this))},t.Qa=function(s){this.g&&(this.response=s,oo(this))},t.ga=function(){this.g&&oo(this)};function oo(s){s.readyState=4,s.l=null,s.j=null,s.v=null,so(s)}t.setRequestHeader=function(s,c){this.u.append(s,c)},t.getResponseHeader=function(s){return this.h&&this.h.get(s.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const s=[],c=this.h.entries();for(var f=c.next();!f.done;)f=f.value,s.push(f[0]+": "+f[1]),f=c.next();return s.join(`\r
`)};function so(s){s.onreadystatechange&&s.onreadystatechange.call(s)}Object.defineProperty(js.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(s){this.m=s?"include":"same-origin"}});function rd(s){let c="";return z(s,function(f,m){c+=m,c+=":",c+=f,c+=`\r
`}),c}function ru(s,c,f){e:{for(m in f){var m=!1;break e}m=!0}m||(f=rd(f),typeof s=="string"?f!=null&&encodeURIComponent(String(f)):Ie(s,c,f))}function Ne(s){He.call(this),this.headers=new Map,this.o=s||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Ne,He);var K_=/^https?$/i,G_=["POST","PUT"];t=Ne.prototype,t.Ha=function(s){this.J=s},t.ea=function(s,c,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+s);c=c?c.toUpperCase():"GET",this.D=s,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Xl.g(),this.v=this.o?U(this.o):U(Xl),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(c,String(s),!0),this.B=!1}catch(L){id(this,L);return}if(s=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var V in m)f.set(V,m[V]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(const L of m.keys())f.set(L,m.get(L));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(L=>L.toLowerCase()=="content-type"),V=l.FormData&&s instanceof l.FormData,!(0<=Array.prototype.indexOf.call(G_,c,void 0))||m||V||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,$]of f)this.g.setRequestHeader(L,$);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ad(this),this.u=!0,this.g.send(s),this.u=!1}catch(L){id(this,L)}};function id(s,c){s.h=!1,s.g&&(s.j=!0,s.g.abort(),s.j=!1),s.l=c,s.m=5,od(s),Bs(s)}function od(s){s.A||(s.A=!0,Xe(s,"complete"),Xe(s,"error"))}t.abort=function(s){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=s||7,Xe(this,"complete"),Xe(this,"abort"),Bs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bs(this,!0)),Ne.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?sd(this):this.bb())},t.bb=function(){sd(this)};function sd(s){if(s.h&&typeof a<"u"&&(!s.v[1]||wn(s)!=4||s.Z()!=2)){if(s.u&&wn(s)==4)Mn(s.Ea,0,s);else if(Xe(s,"readystatechange"),wn(s)==4){s.h=!1;try{const $=s.Z();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break e;default:c=!1}var f;if(!(f=c)){var m;if(m=$===0){var V=String(s.D).match(Xf)[1]||null;!V&&l.self&&l.self.location&&(V=l.self.location.protocol.slice(0,-1)),m=!K_.test(V?V.toLowerCase():"")}f=m}if(f)Xe(s,"complete"),Xe(s,"success");else{s.m=6;try{var L=2<wn(s)?s.g.statusText:""}catch{L=""}s.l=L+" ["+s.Z()+"]",od(s)}}finally{Bs(s)}}}}function Bs(s,c){if(s.g){ad(s);const f=s.g,m=s.v[0]?()=>{}:null;s.g=null,s.v=null,c||Xe(s,"ready");try{f.onreadystatechange=m}catch{}}}function ad(s){s.I&&(l.clearTimeout(s.I),s.I=null)}t.isActive=function(){return!!this.g};function wn(s){return s.g?s.g.readyState:0}t.Z=function(){try{return 2<wn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(s){if(this.g){var c=this.g.responseText;return s&&c.indexOf(s)==0&&(c=c.substring(s.length)),A(c)}};function ld(s){try{if(!s.g)return null;if("response"in s.g)return s.g.response;switch(s.H){case"":case"text":return s.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in s.g)return s.g.mozResponseArrayBuffer}return null}catch{return null}}function X_(s){const c={};s=(s.g&&2<=wn(s)&&s.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<s.length;m++){if(g(s[m]))continue;var f=R(s[m]);const V=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const L=c[V]||[];c[V]=L,L.push(f)}E(c,function(m){return m.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ao(s,c,f){return f&&f.internalChannelParams&&f.internalChannelParams[s]||c}function ud(s){this.Aa=0,this.i=[],this.j=new G,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ao("failFast",!1,s),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ao("baseRetryDelayMs",5e3,s),this.cb=ao("retryDelaySeedMs",1e4,s),this.Wa=ao("forwardChannelMaxRetries",2,s),this.wa=ao("forwardChannelRequestTimeoutMs",2e4,s),this.pa=s&&s.xmlHttpFactory||void 0,this.Xa=s&&s.Tb||void 0,this.Ca=s&&s.useFetchStreams||!1,this.L=void 0,this.J=s&&s.supportsCrossDomainXhr||!1,this.K="",this.h=new Wf(s&&s.concurrentRequestLimit),this.Da=new H_,this.P=s&&s.fastHandshake||!1,this.O=s&&s.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=s&&s.Rb||!1,s&&s.xa&&this.j.xa(),s&&s.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&s&&s.detectBufferingProxy||!1,this.ja=void 0,s&&s.longPollingTimeout&&0<s.longPollingTimeout&&(this.ja=s.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ud.prototype,t.la=8,t.G=1,t.connect=function(s,c,f,m){Be(0),this.W=s,this.H=c||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.I=vd(this,null,this.W),$s(this)};function iu(s){if(cd(s),s.G==3){var c=s.U++,f=En(s.I);if(Ie(f,"SID",s.K),Ie(f,"RID",c),Ie(f,"TYPE","terminate"),lo(s,f),c=new bn(s,s.j,c),c.L=2,c.v=Us(En(f)),f=!1,l.navigator&&l.navigator.sendBeacon)try{f=l.navigator.sendBeacon(c.v.toString(),"")}catch{}!f&&l.Image&&(new Image().src=c.v,f=!0),f||(c.g=_d(c.j,null),c.g.ea(c.v)),c.F=Date.now(),Ls(c)}yd(s)}function zs(s){s.g&&(su(s),s.g.cancel(),s.g=null)}function cd(s){zs(s),s.u&&(l.clearTimeout(s.u),s.u=null),Ws(s),s.h.cancel(),s.s&&(typeof s.s=="number"&&l.clearTimeout(s.s),s.s=null)}function $s(s){if(!qf(s.h)&&!s.s){s.s=!0;var c=s.Ga;Ht||re(),W||(Ht(),W=!0),J.add(c,s),s.B=0}}function Y_(s,c){return Hf(s.h)>=s.h.j-(s.s?1:0)?!1:s.s?(s.i=c.D.concat(s.i),!0):s.G==1||s.G==2||s.B>=(s.Va?0:s.Wa)?!1:(s.s=_r(v(s.Ga,s,c),gd(s,s.B)),s.B++,!0)}t.Ga=function(s){if(this.s)if(this.s=null,this.G==1){if(!s){this.U=Math.floor(1e5*Math.random()),s=this.U++;const V=new bn(this,this.j,s);let L=this.o;if(this.S&&(L?(L=y(L),T(L,this.S)):L=this.S),this.m!==null||this.O||(V.H=L,L=null),this.P)e:{for(var c=0,f=0;f<this.i.length;f++){t:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(c+=m,4096<c){c=f;break e}if(c===4096||f===this.i.length-1){c=f+1;break e}}c=1e3}else c=1e3;c=fd(this,V,c),f=En(this.I),Ie(f,"RID",s),Ie(f,"CVER",22),this.D&&Ie(f,"X-HTTP-Session-Id",this.D),lo(this,f),L&&(this.O?c="headers="+encodeURIComponent(String(rd(L)))+"&"+c:this.m&&ru(f,this.m,L)),nu(this.h,V),this.Ua&&Ie(f,"TYPE","init"),this.P?(Ie(f,"$req",c),Ie(f,"SID","null"),V.T=!0,Jl(V,f,null)):Jl(V,f,c),this.G=2}}else this.G==3&&(s?hd(this,s):this.i.length==0||qf(this.h)||hd(this))};function hd(s,c){var f;c?f=c.l:f=s.U++;const m=En(s.I);Ie(m,"SID",s.K),Ie(m,"RID",f),Ie(m,"AID",s.T),lo(s,m),s.m&&s.o&&ru(m,s.m,s.o),f=new bn(s,s.j,f,s.B+1),s.m===null&&(f.H=s.o),c&&(s.i=c.D.concat(s.i)),c=fd(s,f,1e3),f.I=Math.round(.5*s.wa)+Math.round(.5*s.wa*Math.random()),nu(s.h,f),Jl(f,m,c)}function lo(s,c){s.H&&z(s.H,function(f,m){Ie(c,m,f)}),s.l&&Gf({},function(f,m){Ie(c,m,f)})}function fd(s,c,f){f=Math.min(s.i.length,f);var m=s.l?v(s.l.Na,s.l,s):null;e:{var V=s.i;let L=-1;for(;;){const $=["count="+f];L==-1?0<f?(L=V[0].g,$.push("ofs="+L)):L=0:$.push("ofs="+L);let ve=!0;for(let Ye=0;Ye<f;Ye++){let de=V[Ye].g;const it=V[Ye].map;if(de-=L,0>de)L=Math.max(0,V[Ye].g-100),ve=!1;else try{Q_(it,$,"req"+de+"_")}catch{m&&m(it)}}if(ve){m=$.join("&");break e}}}return s=s.i.splice(0,f),c.D=s,m}function dd(s){if(!s.g&&!s.u){s.Y=1;var c=s.Fa;Ht||re(),W||(Ht(),W=!0),J.add(c,s),s.v=0}}function ou(s){return s.g||s.u||3<=s.v?!1:(s.Y++,s.u=_r(v(s.Fa,s),gd(s,s.v)),s.v++,!0)}t.Fa=function(){if(this.u=null,pd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var s=2*this.R;this.j.info("BP detection timer enabled: "+s),this.A=_r(v(this.ab,this),s)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Be(10),zs(this),pd(this))};function su(s){s.A!=null&&(l.clearTimeout(s.A),s.A=null)}function pd(s){s.g=new bn(s,s.j,"rpc",s.Y),s.m===null&&(s.g.H=s.o),s.g.O=0;var c=En(s.qa);Ie(c,"RID","rpc"),Ie(c,"SID",s.K),Ie(c,"AID",s.T),Ie(c,"CI",s.F?"0":"1"),!s.F&&s.ja&&Ie(c,"TO",s.ja),Ie(c,"TYPE","xmlhttp"),lo(s,c),s.m&&s.o&&ru(c,s.m,s.o),s.L&&(s.g.I=s.L);var f=s.g;s=s.ia,f.L=1,f.v=Us(En(c)),f.m=null,f.P=!0,Bf(f,s)}t.Za=function(){this.C!=null&&(this.C=null,zs(this),ou(this),Be(19))};function Ws(s){s.C!=null&&(l.clearTimeout(s.C),s.C=null)}function md(s,c){var f=null;if(s.g==c){Ws(s),su(s),s.g=null;var m=2}else if(tu(s.h,c))f=c.D,Qf(s.h,c),m=1;else return;if(s.G!=0){if(c.o)if(m==1){f=c.m?c.m.length:0,c=Date.now()-c.F;var V=s.B;m=Ce(),Xe(m,new Ds(m,f)),$s(s)}else dd(s);else if(V=c.s,V==3||V==0&&0<c.X||!(m==1&&Y_(s,c)||m==2&&ou(s)))switch(f&&0<f.length&&(c=s.h,c.i=c.i.concat(f)),V){case 1:Tr(s,5);break;case 4:Tr(s,10);break;case 3:Tr(s,6);break;default:Tr(s,2)}}}function gd(s,c){let f=s.Ta+Math.floor(Math.random()*s.cb);return s.isActive()||(f*=2),f*c}function Tr(s,c){if(s.j.info("Error code "+c),c==2){var f=v(s.fb,s),m=s.Xa;const V=!m;m=new wr(m||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||bs(m,"https"),Us(m),V?W_(m.toString(),f):q_(m.toString(),f)}else Be(2);s.G=0,s.l&&s.l.sa(c),yd(s),cd(s)}t.fb=function(s){s?(this.j.info("Successfully pinged google.com"),Be(2)):(this.j.info("Failed to ping google.com"),Be(1))};function yd(s){if(s.G=0,s.ka=[],s.l){const c=Kf(s.h);(c.length!=0||s.i.length!=0)&&(M(s.ka,c),M(s.ka,s.i),s.h.i.length=0,O(s.i),s.i.length=0),s.l.ra()}}function vd(s,c,f){var m=f instanceof wr?En(f):new wr(f);if(m.g!="")c&&(m.g=c+"."+m.g),Fs(m,m.s);else{var V=l.location;m=V.protocol,c=c?c+"."+V.hostname:V.hostname,V=+V.port;var L=new wr(null);m&&bs(L,m),c&&(L.g=c),V&&Fs(L,V),f&&(L.l=f),m=L}return f=s.D,c=s.ya,f&&c&&Ie(m,f,c),Ie(m,"VER",s.la),lo(s,m),m}function _d(s,c,f){if(c&&!s.J)throw Error("Can't create secondary domain capable XhrIo object.");return c=s.Ca&&!s.pa?new Ne(new io({eb:f})):new Ne(s.pa),c.Ha(s.J),c}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ed(){}t=Ed.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function qs(){}qs.prototype.g=function(s,c){return new Ct(s,c)};function Ct(s,c){He.call(this),this.g=new ud(c),this.l=s,this.h=c&&c.messageUrlParams||null,s=c&&c.messageHeaders||null,c&&c.clientProtocolHeaderRequired&&(s?s["X-Client-Protocol"]="webchannel":s={"X-Client-Protocol":"webchannel"}),this.g.o=s,s=c&&c.initMessageHeaders||null,c&&c.messageContentType&&(s?s["X-WebChannel-Content-Type"]=c.messageContentType:s={"X-WebChannel-Content-Type":c.messageContentType}),c&&c.va&&(s?s["X-WebChannel-Client-Profile"]=c.va:s={"X-WebChannel-Client-Profile":c.va}),this.g.S=s,(s=c&&c.Sb)&&!g(s)&&(this.g.m=s),this.v=c&&c.supportsCrossDomainXhr||!1,this.u=c&&c.sendRawJson||!1,(c=c&&c.httpSessionIdParam)&&!g(c)&&(this.g.D=c,s=this.h,s!==null&&c in s&&(s=this.h,c in s&&delete s[c])),this.j=new Jr(this)}x(Ct,He),Ct.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ct.prototype.close=function(){iu(this.g)},Ct.prototype.o=function(s){var c=this.g;if(typeof s=="string"){var f={};f.__data__=s,s=f}else this.u&&(f={},f.__data__=vr(s),s=f);c.i.push(new O_(c.Ya++,s)),c.G==3&&$s(c)},Ct.prototype.N=function(){this.g.l=null,delete this.j,iu(this.g),delete this.g,Ct.aa.N.call(this)};function wd(s){Y.call(this),s.__headers__&&(this.headers=s.__headers__,this.statusCode=s.__status__,delete s.__headers__,delete s.__status__);var c=s.__sm__;if(c){e:{for(const f in c){s=f;break e}s=void 0}(this.i=s)&&(s=this.i,c=c!==null&&s in c?c[s]:void 0),this.data=c}else this.data=s}x(wd,Y);function Td(){Pe.call(this),this.status=1}x(Td,Pe);function Jr(s){this.g=s}x(Jr,Ed),Jr.prototype.ua=function(){Xe(this.g,"a")},Jr.prototype.ta=function(s){Xe(this.g,new wd(s))},Jr.prototype.sa=function(s){Xe(this.g,new Td)},Jr.prototype.ra=function(){Xe(this.g,"b")},qs.prototype.createWebChannel=qs.prototype.g,Ct.prototype.send=Ct.prototype.o,Ct.prototype.open=Ct.prototype.m,Ct.prototype.close=Ct.prototype.close,gv=function(){return new qs},mv=function(){return Ce()},pv=ae,qc={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Os.NO_ERROR=0,Os.TIMEOUT=8,Os.HTTP_ERROR=6,Pa=Os,Ff.COMPLETE="complete",dv=Ff,H.EventType=se,se.OPEN="a",se.CLOSE="b",se.ERROR="c",se.MESSAGE="d",He.prototype.listen=He.prototype.K,Io=H,fv=io,Ne.prototype.listenOnce=Ne.prototype.L,Ne.prototype.getLastError=Ne.prototype.Ka,Ne.prototype.getLastErrorCode=Ne.prototype.Ba,Ne.prototype.getStatus=Ne.prototype.Z,Ne.prototype.getResponseJson=Ne.prototype.Oa,Ne.prototype.getResponseText=Ne.prototype.oa,Ne.prototype.send=Ne.prototype.ea,Ne.prototype.setWithCredentials=Ne.prototype.Ha,hv=Ne}).apply(typeof ca<"u"?ca:typeof self<"u"?self:typeof window<"u"?window:{});const Yp="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ut.UNAUTHENTICATED=new ut(null),ut.GOOGLE_CREDENTIALS=new ut("google-credentials-uid"),ut.FIRST_PARTY=new ut("first-party-uid"),ut.MOCK_USER=new ut("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qi="10.12.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br=new iv("@firebase/firestore");function vo(){return Br.logLevel}function X(t,...e){if(Br.logLevel<=he.DEBUG){const n=e.map(af);Br.debug(`Firestore (${qi}): ${t}`,...n)}}function Vn(t,...e){if(Br.logLevel<=he.ERROR){const n=e.map(af);Br.error(`Firestore (${qi}): ${t}`,...n)}}function Di(t,...e){if(Br.logLevel<=he.WARN){const n=e.map(af);Br.warn(`Firestore (${qi}): ${t}`,...n)}}function af(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function te(t="Unexpected state"){const e=`FIRESTORE (${qi}) INTERNAL ASSERTION FAILED: `+t;throw Vn(e),new Error(e)}function Ee(t,e){t||te()}function oe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Z extends Wi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class oI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ut.UNAUTHENTICATED))}shutdown(){}}class sI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class aI{constructor(e){this.t=e,this.currentUser=ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let o=new sr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new sr,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new sr)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ee(typeof r.accessToken=="string"),new yv(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ee(e===null||typeof e=="string"),new ut(e)}}class lI{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ut.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class uI{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new lI(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ut.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class cI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hI{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.R;return this.R=o.token,X("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ee(typeof n.token=="string"),this.R=n.token,new cI(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=fI(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function pe(t,e){return t<e?-1:t>e?1:0}function Ni(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Z(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Z(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Z(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Z(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return qe.fromMillis(Date.now())}static fromDate(e){return qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new qe(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?pe(this.nanoseconds,e.nanoseconds):pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ne(e)}static min(){return new ne(new qe(0,0))}static max(){return new ne(new qe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e,n,r){n===void 0?n=0:n>e.length&&te(),r===void 0?r=e.length-n:r>e.length-n&&te(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ss.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ss?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),a=n.get(i);if(o<a)return-1;if(o>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Me extends ss{construct(e,n,r){return new Me(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Z(j.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Me(n)}static emptyPath(){return new Me([])}}const dI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class et extends ss{construct(e,n,r){return new et(e,n,r)}static isValidIdentifier(e){return dI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),et.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new et(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Z(j.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Z(j.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Z(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(a=!a,i++):l!=="."||a?(r+=l,i++):(o(),i++)}if(o(),a)throw new Z(j.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new et(n)}static emptyPath(){return new et([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.path=e}static fromPath(e){return new ee(Me.fromString(e))}static fromName(e){return new ee(Me.fromString(e).popFirst(5))}static empty(){return new ee(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ee(new Me(e.slice()))}}function pI(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ne.fromTimestamp(r===1e9?new qe(n+1,0):new qe(n,r));return new ur(i,ee.empty(),e)}function mI(t){return new ur(t.readTime,t.key,-1)}class ur{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ur(ne.min(),ee.empty(),-1)}static max(){return new ur(ne.max(),ee.empty(),-1)}}function gI(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ee.comparator(t.documentKey,e.documentKey),n!==0?n:pe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _s(t){if(t.code!==j.FAILED_PRECONDITION||t.message!==yI)throw t;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new F((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):F.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):F.reject(n)}static resolve(e){return new F((n,r)=>{n(e)})}static reject(e){return new F((n,r)=>{r(e)})}static waitFor(e){return new F((n,r)=>{let i=0,o=0,a=!1;e.forEach(l=>{++i,l.next(()=>{++o,a&&o===i&&n()},u=>r(u))}),a=!0,o===i&&n()})}static or(e){let n=F.resolve(!1);for(const r of e)n=n.next(i=>i?F.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new F((r,i)=>{const o=e.length,a=new Array(o);let l=0;for(let u=0;u<o;u++){const h=u;n(e[h]).next(d=>{a[h]=d,++l,l===o&&r(a)},d=>i(d))}})}static doWhile(e,n){return new F((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function _I(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Es(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}lf.oe=-1;function Nl(t){return t==null}function ol(t){return t===0&&1/t==-1/0}function EI(t){return typeof t=="number"&&Number.isInteger(t)&&!ol(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Qr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function _v(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e,n){this.comparator=e,this.root=n||Ze.EMPTY}insert(e,n){return new De(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ze.BLACK,null,null))}remove(e){return new De(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ze.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ha(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ha(this.root,e,this.comparator,!1)}getReverseIterator(){return new ha(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ha(this.root,e,this.comparator,!0)}}class ha{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ze{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Ze.RED,this.left=i??Ze.EMPTY,this.right=o??Ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Ze(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ze.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw te();const e=this.left.check();if(e!==this.right.check())throw te();return e+(this.isRed()?0:1)}}Ze.EMPTY=null,Ze.RED=!0,Ze.BLACK=!1;Ze.EMPTY=new class{constructor(){this.size=0}get key(){throw te()}get value(){throw te()}get color(){throw te()}get left(){throw te()}get right(){throw te()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Ze(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e){this.comparator=e,this.data=new De(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Zp(this.data.getIterator())}getIteratorFrom(e){return new Zp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof nt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new nt(this.comparator);return n.data=e,n}}class Zp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.fields=e,e.sort(et.comparator)}static empty(){return new xt([])}unionWith(e){let n=new nt(et.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new xt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ni(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Ev("Invalid base64 string: "+o):o}}(e);return new dt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o}(e);return new dt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dt.EMPTY_BYTE_STRING=new dt("");const wI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cr(t){if(Ee(!!t),typeof t=="string"){let e=0;const n=wI.exec(t);if(Ee(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ue(t.seconds),nanos:Ue(t.nanos)}}function Ue(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function zr(t){return typeof t=="string"?dt.fromBase64String(t):dt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uf(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function cf(t){const e=t.mapValue.fields.__previous_value__;return uf(e)?cf(e):e}function as(t){const e=cr(t.mapValue.fields.__local_write_time__.timestampValue);return new qe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e,n,r,i,o,a,l,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=h}}class ls{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ls("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ls&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function $r(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?uf(t)?4:II(t)?9007199254740991:10:te()}function mn(t,e){if(t===e)return!0;const n=$r(t);if(n!==$r(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return as(t).isEqual(as(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const a=cr(i.timestampValue),l=cr(o.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return zr(i.bytesValue).isEqual(zr(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ue(i.geoPointValue.latitude)===Ue(o.geoPointValue.latitude)&&Ue(i.geoPointValue.longitude)===Ue(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ue(i.integerValue)===Ue(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const a=Ue(i.doubleValue),l=Ue(o.doubleValue);return a===l?ol(a)===ol(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return Ni(t.arrayValue.values||[],e.arrayValue.values||[],mn);case 10:return function(i,o){const a=i.mapValue.fields||{},l=o.mapValue.fields||{};if(Jp(a)!==Jp(l))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(l[u]===void 0||!mn(a[u],l[u])))return!1;return!0}(t,e);default:return te()}}function us(t,e){return(t.values||[]).find(n=>mn(n,e))!==void 0}function Oi(t,e){if(t===e)return 0;const n=$r(t),r=$r(e);if(n!==r)return pe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return pe(t.booleanValue,e.booleanValue);case 2:return function(o,a){const l=Ue(o.integerValue||o.doubleValue),u=Ue(a.integerValue||a.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return em(t.timestampValue,e.timestampValue);case 4:return em(as(t),as(e));case 5:return pe(t.stringValue,e.stringValue);case 6:return function(o,a){const l=zr(o),u=zr(a);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){const l=o.split("/"),u=a.split("/");for(let h=0;h<l.length&&h<u.length;h++){const d=pe(l[h],u[h]);if(d!==0)return d}return pe(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){const l=pe(Ue(o.latitude),Ue(a.latitude));return l!==0?l:pe(Ue(o.longitude),Ue(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,a){const l=o.values||[],u=a.values||[];for(let h=0;h<l.length&&h<u.length;++h){const d=Oi(l[h],u[h]);if(d)return d}return pe(l.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,a){if(o===fa.mapValue&&a===fa.mapValue)return 0;if(o===fa.mapValue)return 1;if(a===fa.mapValue)return-1;const l=o.fields||{},u=Object.keys(l),h=a.fields||{},d=Object.keys(h);u.sort(),d.sort();for(let p=0;p<u.length&&p<d.length;++p){const v=pe(u[p],d[p]);if(v!==0)return v;const P=Oi(l[u[p]],h[d[p]]);if(P!==0)return P}return pe(u.length,d.length)}(t.mapValue,e.mapValue);default:throw te()}}function em(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return pe(t,e);const n=cr(t),r=cr(e),i=pe(n.seconds,r.seconds);return i!==0?i:pe(n.nanos,r.nanos)}function Mi(t){return Hc(t)}function Hc(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=cr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return zr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Hc(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${Hc(n.fields[a])}`;return i+"}"}(t.mapValue):te()}function Qc(t){return!!t&&"integerValue"in t}function hf(t){return!!t&&"arrayValue"in t}function tm(t){return!!t&&"nullValue"in t}function nm(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ca(t){return!!t&&"mapValue"in t}function Mo(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Qr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Mo(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Mo(t.arrayValue.values[n]);return e}return Object.assign({},t)}function II(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.value=e}static empty(){return new Tt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ca(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mo(n)}setAll(e){let n=et.emptyPath(),r={},i=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}a?r[l.lastSegment()]=Mo(a):i.push(l.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Ca(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return mn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ca(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Qr(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Tt(Mo(this.value))}}function wv(t){const e=[];return Qr(t.fields,(n,r)=>{const i=new et([n]);if(Ca(r)){const o=wv(r.mapValue).fields;if(o.length===0)e.push(i);else for(const a of o)e.push(i.child(a))}else e.push(i)}),new xt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n,r,i,o,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=l}static newInvalidDocument(e){return new ht(e,0,ne.min(),ne.min(),ne.min(),Tt.empty(),0)}static newFoundDocument(e,n,r,i){return new ht(e,1,n,ne.min(),r,i,0)}static newNoDocument(e,n){return new ht(e,2,n,ne.min(),ne.min(),Tt.empty(),0)}static newUnknownDocument(e,n){return new ht(e,3,n,ne.min(),ne.min(),Tt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ht(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,n){this.position=e,this.inclusive=n}}function rm(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(o.field.isKeyField()?r=ee.comparator(ee.fromName(a.referenceValue),n.key):r=Oi(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function im(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!mn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,n="asc"){this.field=e,this.dir=n}}function SI(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{}class $e extends Tv{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new PI(e,n,r):n==="array-contains"?new kI(e,r):n==="in"?new xI(e,r):n==="not-in"?new VI(e,r):n==="array-contains-any"?new DI(e,r):new $e(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new CI(e,r):new RI(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Oi(n,this.value)):n!==null&&$r(this.value)===$r(n)&&this.matchesComparison(Oi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gn extends Tv{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new gn(e,n)}matches(e){return Iv(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Iv(t){return t.op==="and"}function Sv(t){return AI(t)&&Iv(t)}function AI(t){for(const e of t.filters)if(e instanceof gn)return!1;return!0}function Kc(t){if(t instanceof $e)return t.field.canonicalString()+t.op.toString()+Mi(t.value);if(Sv(t))return t.filters.map(e=>Kc(e)).join(",");{const e=t.filters.map(n=>Kc(n)).join(",");return`${t.op}(${e})`}}function Av(t,e){return t instanceof $e?function(r,i){return i instanceof $e&&r.op===i.op&&r.field.isEqual(i.field)&&mn(r.value,i.value)}(t,e):t instanceof gn?function(r,i){return i instanceof gn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,a,l)=>o&&Av(a,i.filters[l]),!0):!1}(t,e):void te()}function Pv(t){return t instanceof $e?function(n){return`${n.field.canonicalString()} ${n.op} ${Mi(n.value)}`}(t):t instanceof gn?function(n){return n.op.toString()+" {"+n.getFilters().map(Pv).join(" ,")+"}"}(t):"Filter"}class PI extends $e{constructor(e,n,r){super(e,n,r),this.key=ee.fromName(r.referenceValue)}matches(e){const n=ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class CI extends $e{constructor(e,n){super(e,"in",n),this.keys=Cv("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class RI extends $e{constructor(e,n){super(e,"not-in",n),this.keys=Cv("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Cv(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ee.fromName(r.referenceValue))}class kI extends $e{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return hf(n)&&us(n.arrayValue,this.value)}}class xI extends $e{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&us(this.value.arrayValue,n)}}class VI extends $e{constructor(e,n){super(e,"not-in",n)}matches(e){if(us(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!us(this.value.arrayValue,n)}}class DI extends $e{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!hf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>us(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e,n=null,r=[],i=[],o=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=l,this.ue=null}}function om(t,e=null,n=[],r=[],i=null,o=null,a=null){return new NI(t,e,n,r,i,o,a)}function ff(t){const e=oe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Kc(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Nl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Mi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Mi(r)).join(",")),e.ue=n}return e.ue}function df(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!SI(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Av(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!im(t.startAt,e.startAt)&&im(t.endAt,e.endAt)}function Gc(t){return ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,n=null,r=[],i=[],o=null,a="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=l,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function OI(t,e,n,r,i,o,a,l){return new Ol(t,e,n,r,i,o,a,l)}function pf(t){return new Ol(t)}function sm(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function MI(t){return t.collectionGroup!==null}function Lo(t){const e=oe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new nt(et.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new al(o,r))}),n.has(et.keyField().canonicalString())||e.ce.push(new al(et.keyField(),r))}return e.ce}function fn(t){const e=oe(t);return e.le||(e.le=LI(e,Lo(t))),e.le}function LI(t,e){if(t.limitType==="F")return om(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new al(i.field,o)});const n=t.endAt?new sl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new sl(t.startAt.position,t.startAt.inclusive):null;return om(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Xc(t,e,n){return new Ol(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ml(t,e){return df(fn(t),fn(e))&&t.limitType===e.limitType}function Rv(t){return`${ff(fn(t))}|lt:${t.limitType}`}function ti(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Pv(i)).join(", ")}]`),Nl(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Mi(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Mi(i)).join(",")),`Target(${r})`}(fn(t))}; limitType=${t.limitType})`}function Ll(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ee.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Lo(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,l,u){const h=rm(a,l,u);return a.inclusive?h<=0:h<0}(r.startAt,Lo(r),i)||r.endAt&&!function(a,l,u){const h=rm(a,l,u);return a.inclusive?h>=0:h>0}(r.endAt,Lo(r),i))}(t,e)}function bI(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function kv(t){return(e,n)=>{let r=!1;for(const i of Lo(t)){const o=FI(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function FI(t,e,n){const r=t.field.isKeyField()?ee.comparator(e.key,n.key):function(o,a,l){const u=a.data.field(o),h=l.data.field(o);return u!==null&&h!==null?Oi(u,h):te()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Qr(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return _v(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI=new De(ee.comparator);function Dn(){return UI}const xv=new De(ee.comparator);function So(...t){let e=xv;for(const n of t)e=e.insert(n.key,n);return e}function Vv(t){let e=xv;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function xr(){return bo()}function Dv(){return bo()}function bo(){return new Hi(t=>t.toString(),(t,e)=>t.isEqual(e))}const jI=new De(ee.comparator),BI=new nt(ee.comparator);function ue(...t){let e=BI;for(const n of t)e=e.add(n);return e}const zI=new nt(pe);function $I(){return zI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ol(e)?"-0":e}}function Ov(t){return{integerValue:""+t}}function WI(t,e){return EI(e)?Ov(e):Nv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(){this._=void 0}}function qI(t,e,n){return t instanceof ll?function(i,o){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&uf(o)&&(o=cf(o)),o&&(a.fields.__previous_value__=o),{mapValue:a}}(n,e):t instanceof cs?Lv(t,e):t instanceof hs?bv(t,e):function(i,o){const a=Mv(i,o),l=am(a)+am(i.Pe);return Qc(a)&&Qc(i.Pe)?Ov(l):Nv(i.serializer,l)}(t,e)}function HI(t,e,n){return t instanceof cs?Lv(t,e):t instanceof hs?bv(t,e):n}function Mv(t,e){return t instanceof ul?function(r){return Qc(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class ll extends bl{}class cs extends bl{constructor(e){super(),this.elements=e}}function Lv(t,e){const n=Fv(e);for(const r of t.elements)n.some(i=>mn(i,r))||n.push(r);return{arrayValue:{values:n}}}class hs extends bl{constructor(e){super(),this.elements=e}}function bv(t,e){let n=Fv(e);for(const r of t.elements)n=n.filter(i=>!mn(i,r));return{arrayValue:{values:n}}}class ul extends bl{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function am(t){return Ue(t.integerValue||t.doubleValue)}function Fv(t){return hf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function QI(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof cs&&i instanceof cs||r instanceof hs&&i instanceof hs?Ni(r.elements,i.elements,mn):r instanceof ul&&i instanceof ul?mn(r.Pe,i.Pe):r instanceof ll&&i instanceof ll}(t.transform,e.transform)}class KI{constructor(e,n){this.version=e,this.transformResults=n}}class dn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new dn}static exists(e){return new dn(void 0,e)}static updateTime(e){return new dn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ra(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Fl{}function Uv(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Bv(t.key,dn.none()):new ws(t.key,t.data,dn.none());{const n=t.data,r=Tt.empty();let i=new nt(et.comparator);for(let o of e.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new yr(t.key,r,new xt(i.toArray()),dn.none())}}function GI(t,e,n){t instanceof ws?function(i,o,a){const l=i.value.clone(),u=um(i.fieldTransforms,o,a.transformResults);l.setAll(u),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof yr?function(i,o,a){if(!Ra(i.precondition,o))return void o.convertToUnknownDocument(a.version);const l=um(i.fieldTransforms,o,a.transformResults),u=o.data;u.setAll(jv(i)),u.setAll(l),o.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Fo(t,e,n,r){return t instanceof ws?function(o,a,l,u){if(!Ra(o.precondition,a))return l;const h=o.value.clone(),d=cm(o.fieldTransforms,u,a);return h.setAll(d),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof yr?function(o,a,l,u){if(!Ra(o.precondition,a))return l;const h=cm(o.fieldTransforms,u,a),d=a.data;return d.setAll(jv(o)),d.setAll(h),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,a,l){return Ra(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function XI(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=Mv(r.transform,i||null);o!=null&&(n===null&&(n=Tt.empty()),n.set(r.field,o))}return n||null}function lm(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ni(r,i,(o,a)=>QI(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ws extends Fl{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class yr extends Fl{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function jv(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function um(t,e,n){const r=new Map;Ee(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],a=o.transform,l=e.data.field(o.field);r.set(o.field,HI(a,l,n[i]))}return r}function cm(t,e,n){const r=new Map;for(const i of t){const o=i.transform,a=n.data.field(i.field);r.set(i.field,qI(o,a,e))}return r}class Bv extends Fl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YI extends Fl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&GI(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Fo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Fo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Dv();return this.mutations.forEach(i=>{const o=e.get(i.key),a=o.overlayedDocument;let l=this.applyToLocalView(a,o.mutatedFields);l=n.has(i.key)?null:l;const u=Uv(a,l);u!==null&&r.set(i.key,u),a.isValidDocument()||a.convertToNoDocument(ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ue())}isEqual(e){return this.batchId===e.batchId&&Ni(this.mutations,e.mutations,(n,r)=>lm(n,r))&&Ni(this.baseMutations,e.baseMutations,(n,r)=>lm(n,r))}}class mf{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ee(e.mutations.length===r.length);let i=function(){return jI}();const o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new mf(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe,ce;function tS(t){switch(t){default:return te();case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0}}function zv(t){if(t===void 0)return Vn("GRPC error has no .code"),j.UNKNOWN;switch(t){case Fe.OK:return j.OK;case Fe.CANCELLED:return j.CANCELLED;case Fe.UNKNOWN:return j.UNKNOWN;case Fe.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case Fe.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case Fe.INTERNAL:return j.INTERNAL;case Fe.UNAVAILABLE:return j.UNAVAILABLE;case Fe.UNAUTHENTICATED:return j.UNAUTHENTICATED;case Fe.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case Fe.NOT_FOUND:return j.NOT_FOUND;case Fe.ALREADY_EXISTS:return j.ALREADY_EXISTS;case Fe.PERMISSION_DENIED:return j.PERMISSION_DENIED;case Fe.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case Fe.ABORTED:return j.ABORTED;case Fe.OUT_OF_RANGE:return j.OUT_OF_RANGE;case Fe.UNIMPLEMENTED:return j.UNIMPLEMENTED;case Fe.DATA_LOSS:return j.DATA_LOSS;default:return te()}}(ce=Fe||(Fe={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS=new Nr([4294967295,4294967295],0);function hm(t){const e=nS().encode(t),n=new cv;return n.update(e),new Uint8Array(n.digest())}function fm(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Nr([n,r],0),new Nr([i,o],0)]}class gf{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ao(`Invalid padding: ${n}`);if(r<0)throw new Ao(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ao(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ao(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Nr.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Nr.fromNumber(r)));return i.compare(rS)===1&&(i=new Nr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=hm(e),[r,i]=fm(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);if(!this.de(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new gf(o,i,n);return r.forEach(l=>a.insert(l)),a}insert(e){if(this.Ie===0)return;const n=hm(e),[r,i]=fm(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ao extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ts.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ul(ne.min(),i,new De(pe),Dn(),ue())}}class Ts{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ts(r,n,ue(),ue(),ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class $v{constructor(e,n){this.targetId=e,this.me=n}}class Wv{constructor(e,n,r=dt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class dm{constructor(){this.fe=0,this.ge=mm(),this.pe=dt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=ue(),n=ue(),r=ue();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:te()}}),new Ts(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=mm()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ee(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class iS{constructor(e){this.Le=e,this.Be=new Map,this.ke=Dn(),this.qe=pm(),this.Qe=new De(pe)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(Gc(o))if(r===0){const a=new ee(o.path);this.Ue(n,a,ht.newNoDocument(a,ne.min()))}else Ee(r===1);else{const a=this.Ye(n);if(a!==r){const l=this.Ze(e),u=l?this.Xe(l,e,a):1;if(u!==0){this.je(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,h)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let a,l;try{a=zr(r).toUint8Array()}catch(u){if(u instanceof Ev)return Di("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new gf(a,i,o)}catch(u){return Di(u instanceof Ao?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const a=this.Le.tt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,a)=>{const l=this.Je(a);if(l){if(o.current&&Gc(l.target)){const u=new ee(l.target.path);this.ke.get(u)!==null||this.it(a,u)||this.Ue(a,u,ht.newNoDocument(u,e))}o.be&&(n.set(a,o.Ce()),o.ve())}});let r=ue();this.qe.forEach((o,a)=>{let l=!0;a.forEachWhile(u=>{const h=this.Je(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(o))}),this.ke.forEach((o,a)=>a.setReadTime(e));const i=new Ul(e,n,this.Qe,this.ke,r);return this.ke=Dn(),this.qe=pm(),this.Qe=new De(pe),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new dm,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new nt(pe),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||X("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new dm),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function pm(){return new De(ee.comparator)}function mm(){return new De(ee.comparator)}const oS={asc:"ASCENDING",desc:"DESCENDING"},sS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aS={and:"AND",or:"OR"};class lS{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Yc(t,e){return t.useProto3Json||Nl(e)?e:{value:e}}function cl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qv(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function uS(t,e){return cl(t,e.toTimestamp())}function pn(t){return Ee(!!t),ne.fromTimestamp(function(n){const r=cr(n);return new qe(r.seconds,r.nanos)}(t))}function yf(t,e){return Jc(t,e).canonicalString()}function Jc(t,e){const n=function(i){return new Me(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Hv(t){const e=Me.fromString(t);return Ee(Yv(e)),e}function Zc(t,e){return yf(t.databaseId,e.path)}function Uu(t,e){const n=Hv(e);if(n.get(1)!==t.databaseId.projectId)throw new Z(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Z(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ee(Kv(n))}function Qv(t,e){return yf(t.databaseId,e)}function cS(t){const e=Hv(t);return e.length===4?Me.emptyPath():Kv(e)}function eh(t){return new Me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Kv(t){return Ee(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function gm(t,e,n){return{name:Zc(t,e),fields:n.value.mapValue.fields}}function hS(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:te()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(h,d){return h.useProto3Json?(Ee(d===void 0||typeof d=="string"),dt.fromBase64String(d||"")):(Ee(d===void 0||d instanceof Buffer||d instanceof Uint8Array),dt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(h){const d=h.code===void 0?j.UNKNOWN:zv(h.code);return new Z(d,h.message||"")}(a);n=new Wv(r,i,o,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Uu(t,r.document.name),o=pn(r.document.updateTime),a=r.document.createTime?pn(r.document.createTime):ne.min(),l=new Tt({mapValue:{fields:r.document.fields}}),u=ht.newFoundDocument(i,o,a,l),h=r.targetIds||[],d=r.removedTargetIds||[];n=new ka(h,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Uu(t,r.document),o=r.readTime?pn(r.readTime):ne.min(),a=ht.newNoDocument(i,o),l=r.removedTargetIds||[];n=new ka([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Uu(t,r.document),o=r.removedTargetIds||[];n=new ka([],o,i,null)}else{if(!("filter"in e))return te();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,a=new eS(i,o),l=r.targetId;n=new $v(l,a)}}return n}function fS(t,e){let n;if(e instanceof ws)n={update:gm(t,e.key,e.value)};else if(e instanceof Bv)n={delete:Zc(t,e.key)};else if(e instanceof yr)n={update:gm(t,e.key,e.data),updateMask:wS(e.fieldMask)};else{if(!(e instanceof YI))return te();n={verify:Zc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,a){const l=a.transform;if(l instanceof ll)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof cs)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof hs)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof ul)return{fieldPath:a.field.canonicalString(),increment:l.Pe};throw te()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:uS(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:te()}(t,e.precondition)),n}function dS(t,e){return t&&t.length>0?(Ee(e!==void 0),t.map(n=>function(i,o){let a=i.updateTime?pn(i.updateTime):pn(o);return a.isEqual(ne.min())&&(a=pn(o)),new KI(a,i.transformResults||[])}(n,e))):[]}function pS(t,e){return{documents:[Qv(t,e.path)]}}function mS(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Qv(t,i);const o=function(h){if(h.length!==0)return Xv(gn.create(h,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const a=function(h){if(h.length!==0)return h.map(d=>function(v){return{field:ni(v.field),direction:vS(v.dir)}}(d))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=Yc(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{_t:n,parent:i}}function gS(t){let e=cS(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ee(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(p){const v=Gv(p);return v instanceof gn&&Sv(v)?v.getFilters():[v]}(n.where));let a=[];n.orderBy&&(a=function(p){return p.map(v=>function(x){return new al(ri(x.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(v))}(n.orderBy));let l=null;n.limit&&(l=function(p){let v;return v=typeof p=="object"?p.value:p,Nl(v)?null:v}(n.limit));let u=null;n.startAt&&(u=function(p){const v=!!p.before,P=p.values||[];return new sl(P,v)}(n.startAt));let h=null;return n.endAt&&(h=function(p){const v=!p.before,P=p.values||[];return new sl(P,v)}(n.endAt)),OI(e,i,a,o,l,"F",u,h)}function yS(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return te()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Gv(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ri(n.unaryFilter.field);return $e.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ri(n.unaryFilter.field);return $e.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ri(n.unaryFilter.field);return $e.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=ri(n.unaryFilter.field);return $e.create(a,"!=",{nullValue:"NULL_VALUE"});default:return te()}}(t):t.fieldFilter!==void 0?function(n){return $e.create(ri(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return te()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return gn.create(n.compositeFilter.filters.map(r=>Gv(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return te()}}(n.compositeFilter.op))}(t):te()}function vS(t){return oS[t]}function _S(t){return sS[t]}function ES(t){return aS[t]}function ni(t){return{fieldPath:t.canonicalString()}}function ri(t){return et.fromServerFormat(t.fieldPath)}function Xv(t){return t instanceof $e?function(n){if(n.op==="=="){if(nm(n.value))return{unaryFilter:{field:ni(n.field),op:"IS_NAN"}};if(tm(n.value))return{unaryFilter:{field:ni(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(nm(n.value))return{unaryFilter:{field:ni(n.field),op:"IS_NOT_NAN"}};if(tm(n.value))return{unaryFilter:{field:ni(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ni(n.field),op:_S(n.op),value:n.value}}}(t):t instanceof gn?function(n){const r=n.getFilters().map(i=>Xv(i));return r.length===1?r[0]:{compositeFilter:{op:ES(n.op),filters:r}}}(t):te()}function wS(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Yv(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e,n,r,i,o=ne.min(),a=ne.min(),l=dt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Kn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Kn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Kn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Kn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e){this.ct=e}}function IS(t){const e=gS({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Xc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(){this._n=new AS}addToCollectionParentIndex(e,n){return this._n.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(ur.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(ur.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}}class AS{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new nt(Me.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new nt(Me.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Li(0)}static Ln(){return new Li(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(){this.changes=new Hi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ht.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Fo(r.mutation,i,xt.empty(),qe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ue()){const i=xr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let a=So();return o.forEach((l,u)=>{a=a.insert(l,u.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=xr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ue()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,r,i){let o=Dn();const a=bo(),l=function(){return bo()}();return n.forEach((u,h)=>{const d=r.get(h.key);i.has(h.key)&&(d===void 0||d.mutation instanceof yr)?o=o.insert(h.key,h):d!==void 0?(a.set(h.key,d.mutation.getFieldMask()),Fo(d.mutation,h,d.mutation.getFieldMask(),qe.now())):a.set(h.key,xt.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((h,d)=>a.set(h,d)),n.forEach((h,d)=>{var p;return l.set(h,new CS(d,(p=a.get(h))!==null&&p!==void 0?p:null))}),l))}recalculateAndSaveOverlays(e,n){const r=bo();let i=new De((a,l)=>a-l),o=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let d=r.get(u)||xt.empty();d=l.applyToLocalView(h,d),r.set(u,d);const p=(i.get(l.batchId)||ue()).add(u);i=i.insert(l.batchId,p)})}).next(()=>{const a=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),h=u.key,d=u.value,p=Dv();d.forEach(v=>{if(!o.has(v)){const P=Uv(n.get(v),r.get(v));P!==null&&p.set(v,P),o=o.add(v)}}),a.push(this.documentOverlayCache.saveOverlays(e,h,p))}return F.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return ee.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):MI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):F.resolve(xr());let l=-1,u=o;return a.next(h=>F.forEach(h,(d,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),o.get(d)?F.resolve():this.remoteDocumentCache.getEntry(e,d).next(v=>{u=u.insert(d,v)}))).next(()=>this.populateOverlays(e,h,o)).next(()=>this.computeViews(e,u,h,ue())).next(d=>({batchId:l,changes:Vv(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ee(n)).next(r=>{let i=So();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let a=So();return this.indexManager.getCollectionParents(e,o).next(l=>F.forEach(l,u=>{const h=function(p,v){return new Ol(v,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(d=>{d.forEach((p,v)=>{a=a.insert(p,v)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(a=>{o.forEach((u,h)=>{const d=h.getKey();a.get(d)===null&&(a=a.insert(d,ht.newInvalidDocument(d)))});let l=So();return a.forEach((u,h)=>{const d=o.get(u);d!==void 0&&Fo(d.mutation,h,xt.empty(),qe.now()),Ll(n,h)&&(l=l.insert(u,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return F.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:pn(i.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:IS(i.bundledQuery),readTime:pn(i.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(){this.overlays=new De(ee.comparator),this.hr=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){const r=xr();return F.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),F.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){const i=xr(),o=n.length+1,a=new ee(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const u=l.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return F.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new De((h,d)=>h-d);const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let d=o.get(h.largestBatchId);d===null&&(d=xr(),o=o.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}const l=xr(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,d)=>l.set(h,d)),!(l.size()>=i)););return F.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new ZI(n,r));let o=this.hr.get(n);o===void 0&&(o=ue(),this.hr.set(n,o)),this.hr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(){this.Pr=new nt(Qe.Ir),this.Tr=new nt(Qe.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Qe(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Qe(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new ee(new Me([])),r=new Qe(n,e),i=new Qe(n,e+1),o=[];return this.Tr.forEachInRange([r,i],a=>{this.Ar(a),o.push(a.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new ee(new Me([])),r=new Qe(n,e),i=new Qe(n,e+1);let o=ue();return this.Tr.forEachInRange([r,i],a=>{o=o.add(a.key)}),o}containsKey(e){const n=new Qe(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Qe{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return ee.comparator(e.key,n.key)||pe(e.pr,n.pr)}static Er(e,n){return pe(e.pr,n.pr)||ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new nt(Qe.Ir)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new JI(o,n,r,i);this.mutationQueue.push(a);for(const l of i)this.wr=this.wr.add(new Qe(l.key,o)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return F.resolve(a)}lookupMutationBatch(e,n){return F.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),o=i<0?0:i;return F.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Qe(n,0),i=new Qe(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],a=>{const l=this.Sr(a.pr);o.push(l)}),F.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new nt(pe);return n.forEach(i=>{const o=new Qe(i,0),a=new Qe(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,a],l=>{r=r.add(l.pr)})}),F.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ee.isDocumentKey(o)||(o=o.child(""));const a=new Qe(new ee(o),0);let l=new nt(pe);return this.wr.forEachWhile(u=>{const h=u.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(l=l.add(u.pr)),!0)},a),F.resolve(this.Dr(l))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ee(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return F.forEach(n.mutations,i=>{const o=new Qe(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Qe(n,0),i=this.wr.firstAfterOrEqual(r);return F.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(e){this.vr=e,this.docs=function(){return new De(ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():ht.newInvalidDocument(n))}getEntries(e,n){let r=Dn();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():ht.newInvalidDocument(i))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Dn();const a=n.path,l=new ee(a.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:h,value:{document:d}}=u.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||gI(mI(d),r)<=0||(i.has(d.key)||Ll(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return F.resolve(o)}getAllFromCollectionGroup(e,n,r,i){te()}Fr(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new NS(this)}getSize(e){return F.resolve(this.size)}}class NS extends PS{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e){this.persistence=e,this.Mr=new Hi(n=>ff(n),df),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.Or=0,this.Nr=new vf,this.targetCount=0,this.Lr=Li.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),F.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new Li(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.qn(n),F.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Mr.forEach((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Mr.delete(a),o.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),F.waitFor(o).next(()=>i)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),F.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(a=>{o.push(i.markPotentiallyOrphaned(e,a))}),F.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),F.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e,n){this.Br={},this.overlays={},this.kr=new lf(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new OS(this),this.indexManager=new SS,this.remoteDocumentCache=function(i){return new DS(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new TS(n),this.$r=new kS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new xS,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new VS(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){X("MemoryPersistence","Starting transaction:",e);const i=new LS(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,n){return F.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class LS extends vI{constructor(e){super(),this.currentSequenceNumber=e}}class _f{constructor(e){this.persistence=e,this.zr=new vf,this.jr=null}static Hr(e){return new _f(e)}get Jr(){if(this.jr)return this.jr;throw te()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),F.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.Jr,r=>{const i=ee.fromPath(r);return this.Yr(e,i).next(o=>{o||n.removeEntry(i,ne.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return F.or([()=>F.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=ue(),i=ue();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Ef(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return W1()?8:_I(z1())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ji(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.Hi(e,n,i,r).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new bS;return this.Ji(e,n,a).next(l=>{if(o.result=l,this.Ui)return this.Yi(e,n,a,l.size)})}).next(()=>o.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(vo()<=he.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",ti(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),F.resolve()):(vo()<=he.DEBUG&&X("QueryEngine","Query:",ti(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(vo()<=he.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",ti(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fn(n))):F.resolve())}ji(e,n){if(sm(n))return F.resolve(null);let r=fn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Xc(n,null,"F"),r=fn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const a=ue(...o);return this.zi.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const h=this.Zi(n,l);return this.Xi(n,h,a,u.readTime)?this.ji(e,Xc(n,null,"F")):this.es(e,h,n,u)}))})))}Hi(e,n,r,i){return sm(n)||i.isEqual(ne.min())?F.resolve(null):this.zi.getDocuments(e,r).next(o=>{const a=this.Zi(n,o);return this.Xi(n,a,r,i)?F.resolve(null):(vo()<=he.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ti(n)),this.es(e,a,n,pI(i,-1)).next(l=>l))})}Zi(e,n){let r=new nt(kv(e));return n.forEach((i,o)=>{Ll(e,o)&&(r=r.add(o))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,n,r){return vo()<=he.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",ti(n)),this.zi.getDocumentsMatchingQuery(e,n,ur.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new De(pe),this.rs=new Hi(o=>ff(o),df),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new RS(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function jS(t,e,n,r){return new US(t,e,n,r)}async function Jv(t,e){const n=oe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const a=[],l=[];let u=ue();for(const h of i){a.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}for(const h of o){l.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(h=>({us:h,removedBatchIds:a,addedBatchIds:l}))})})}function BS(t,e){const n=oe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(l,u,h,d){const p=h.batch,v=p.keys();let P=F.resolve();return v.forEach(x=>{P=P.next(()=>d.getEntry(u,x)).next(O=>{const M=h.docVersions.get(x);Ee(M!==null),O.version.compareTo(M)<0&&(p.applyToRemoteDocument(O,h),O.isValidDocument()&&(O.setReadTime(h.commitVersion),d.addEntry(O)))})}),P.next(()=>l.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=ue();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(u=u.add(l.batch.mutations[h].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Zv(t){const e=oe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function zS(t,e){const n=oe(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const l=[];e.targetChanges.forEach((d,p)=>{const v=i.get(p);if(!v)return;l.push(n.Qr.removeMatchingKeys(o,d.removedDocuments,p).next(()=>n.Qr.addMatchingKeys(o,d.addedDocuments,p)));let P=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?P=P.withResumeToken(dt.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):d.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(d.resumeToken,r)),i=i.insert(p,P),function(O,M,S){return O.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(v,P,d)&&l.push(n.Qr.updateTargetData(o,P))});let u=Dn(),h=ue();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),l.push($S(o,a,e.documentUpdates).next(d=>{u=d.cs,h=d.ls})),!r.isEqual(ne.min())){const d=n.Qr.getLastRemoteSnapshotVersion(o).next(p=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));l.push(d)}return F.waitFor(l).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,h)).next(()=>u)}).then(o=>(n.ns=i,o))}function $S(t,e,n){let r=ue(),i=ue();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let a=Dn();return n.forEach((l,u)=>{const h=o.get(l);u.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(ne.min())?(e.removeEntry(l,u.readTime),a=a.insert(l,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),a=a.insert(l,u)):X("LocalStore","Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",u.version)}),{cs:a,ls:i}})}function WS(t,e){const n=oe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function qS(t,e){const n=oe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(o=>o?(i=o,F.resolve(i)):n.Qr.allocateTargetId(r).next(a=>(i=new Kn(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function th(t,e,n){const r=oe(t),i=r.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Es(a))throw a;X("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function ym(t,e,n){const r=oe(t);let i=ne.min(),o=ue();return r.persistence.runTransaction("Execute query","readwrite",a=>function(u,h,d){const p=oe(u),v=p.rs.get(d);return v!==void 0?F.resolve(p.ns.get(v)):p.Qr.getTargetData(h,d)}(r,a,fn(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(a,l.targetId).next(u=>{o=u})}).next(()=>r.ts.getDocumentsMatchingQuery(a,e,n?i:ne.min(),n?o:ue())).next(l=>(HS(r,bI(e),l),{documents:l,hs:o})))}function HS(t,e,n){let r=t.ss.get(e)||ne.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ss.set(e,r)}class vm{constructor(){this.activeTargetIds=$I()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class QS{constructor(){this.no=new vm,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new vm,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){X("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){X("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let da=null;function ju(){return da===null?da=function(){return 268435456+Math.round(2147483648*Math.random())}():da++,"0x"+da.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lt="WebChannelConnection";class YS extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${o}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Do(){return!1}Co(n,r,i,o,a){const l=ju(),u=this.vo(n,r.toUriEncodedString());X("RestConnection",`Sending RPC '${n}' ${l}:`,u,i);const h={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(h,o,a),this.Mo(n,u,h,i).then(d=>(X("RestConnection",`Received RPC '${n}' ${l}: `,d),d),d=>{throw Di("RestConnection",`RPC '${n}' ${l} failed with error: `,d,"url: ",u,"request:",i),d})}xo(n,r,i,o,a,l){return this.Co(n,r,i,o,a)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+qi}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,a)=>n[a]=o),i&&i.headers.forEach((o,a)=>n[a]=o)}vo(n,r){const i=GS[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){const o=ju();return new Promise((a,l)=>{const u=new hv;u.setWithCredentials(!0),u.listenOnce(dv.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Pa.NO_ERROR:const d=u.getResponseJson();X(lt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),a(d);break;case Pa.TIMEOUT:X(lt,`RPC '${e}' ${o} timed out`),l(new Z(j.DEADLINE_EXCEEDED,"Request time out"));break;case Pa.HTTP_ERROR:const p=u.getStatus();if(X(lt,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let v=u.getResponseJson();Array.isArray(v)&&(v=v[0]);const P=v==null?void 0:v.error;if(P&&P.status&&P.message){const x=function(M){const S=M.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(S)>=0?S:j.UNKNOWN}(P.status);l(new Z(x,P.message))}else l(new Z(j.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new Z(j.UNAVAILABLE,"Connection failed."));break;default:te()}}finally{X(lt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(i);X(lt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",h,r,15)})}Oo(e,n,r){const i=ju(),o=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=gv(),l=mv(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.xmlHttpFactory=new fv({})),this.Fo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=o.join("");X(lt,`Creating RPC '${e}' stream ${i}: ${d}`,u);const p=a.createWebChannel(d,u);let v=!1,P=!1;const x=new XS({lo:M=>{P?X(lt,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(v||(X(lt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),v=!0),X(lt,`RPC '${e}' stream ${i} sending:`,M),p.send(M))},ho:()=>p.close()}),O=(M,S,g)=>{M.listen(S,_=>{try{g(_)}catch(D){setTimeout(()=>{throw D},0)}})};return O(p,Io.EventType.OPEN,()=>{P||(X(lt,`RPC '${e}' stream ${i} transport opened.`),x.mo())}),O(p,Io.EventType.CLOSE,()=>{P||(P=!0,X(lt,`RPC '${e}' stream ${i} transport closed`),x.po())}),O(p,Io.EventType.ERROR,M=>{P||(P=!0,Di(lt,`RPC '${e}' stream ${i} transport errored:`,M),x.po(new Z(j.UNAVAILABLE,"The operation could not be completed")))}),O(p,Io.EventType.MESSAGE,M=>{var S;if(!P){const g=M.data[0];Ee(!!g);const _=g,D=_.error||((S=_[0])===null||S===void 0?void 0:S.error);if(D){X(lt,`RPC '${e}' stream ${i} received error:`,D);const b=D.status;let z=function(w){const T=Fe[w];if(T!==void 0)return zv(T)}(b),E=D.message;z===void 0&&(z=j.INTERNAL,E="Unknown error status: "+b+" with message "+D.message),P=!0,x.po(new Z(z,E)),p.close()}else X(lt,`RPC '${e}' stream ${i} received:`,g),x.yo(g)}}),O(l,pv.STAT_EVENT,M=>{M.stat===qc.PROXY?X(lt,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===qc.NOPROXY&&X(lt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.fo()},0),x}}function Bu(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jl(t){return new lS(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=o,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&X("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(e,n,r,i,o,a,l,u){this.oi=e,this.Go=r,this.zo=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new e_(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===j.RESOURCE_EXHAUSTED?(Vn(n.toString()),Vn("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===j.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{const i=new Z(j.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){const r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return X("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(X("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class JS extends t_{constructor(e,n,r,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=hS(this.serializer,e),r=function(o){if(!("targetChange"in o))return ne.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?ne.min():a.readTime?pn(a.readTime):ne.min()}(e);return this.listener.h_(n,r)}P_(e){const n={};n.database=eh(this.serializer),n.addTarget=function(o,a){let l;const u=a.target;if(l=Gc(u)?{documents:pS(o,u)}:{query:mS(o,u)._t},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=qv(o,a.resumeToken);const h=Yc(o,a.expectedCount);h!==null&&(l.expectedCount=h)}else if(a.snapshotVersion.compareTo(ne.min())>0){l.readTime=cl(o,a.snapshotVersion.toTimestamp());const h=Yc(o,a.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);const r=yS(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){const n={};n.database=eh(this.serializer),n.removeTarget=e,this.i_(n)}}class ZS extends t_{constructor(e,n,r,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(Ee(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=dS(e.writeResults,e.commitTime),r=pn(e.commitTime);return this.listener.A_(r,n)}return Ee(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=eh(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>fS(this.serializer,r))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new Z(j.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Co(e,Jc(n,r),i,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Z(j.UNKNOWN,o.toString())})}xo(e,n,r,i,o){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.xo(e,Jc(n,r),i,a,l,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Z(j.UNKNOWN,a.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class tA{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Vn(n),this.y_=!1):X("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=o,this.O_.io(a=>{r.enqueueAndForget(async()=>{Kr(this)&&(X("RemoteStore","Restarting streams for network reachability change."),await async function(u){const h=oe(u);h.M_.add(4),await Is(h),h.N_.set("Unknown"),h.M_.delete(4),await Bl(h)}(this))})}),this.N_=new tA(r,i)}}async function Bl(t){if(Kr(t))for(const e of t.x_)await e(!0)}async function Is(t){for(const e of t.x_)await e(!1)}function n_(t,e){const n=oe(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),Sf(n)?If(n):Qi(n).Xo()&&Tf(n,e))}function wf(t,e){const n=oe(t),r=Qi(n);n.F_.delete(e),r.Xo()&&r_(n,e),n.F_.size===0&&(r.Xo()?r.n_():Kr(n)&&n.N_.set("Unknown"))}function Tf(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Qi(t).P_(e)}function r_(t,e){t.L_.xe(e),Qi(t).I_(e)}function If(t){t.L_=new iS({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Qi(t).start(),t.N_.w_()}function Sf(t){return Kr(t)&&!Qi(t).Zo()&&t.F_.size>0}function Kr(t){return oe(t).M_.size===0}function i_(t){t.L_=void 0}async function rA(t){t.N_.set("Online")}async function iA(t){t.F_.forEach((e,n)=>{Tf(t,e)})}async function oA(t,e){i_(t),Sf(t)?(t.N_.D_(e),If(t)):t.N_.set("Unknown")}async function sA(t,e,n){if(t.N_.set("Online"),e instanceof Wv&&e.state===2&&e.cause)try{await async function(i,o){const a=o.cause;for(const l of o.targetIds)i.F_.has(l)&&(await i.remoteSyncer.rejectListen(l,a),i.F_.delete(l),i.L_.removeTarget(l))}(t,e)}catch(r){X("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await hl(t,r)}else if(e instanceof ka?t.L_.Ke(e):e instanceof $v?t.L_.He(e):t.L_.We(e),!n.isEqual(ne.min()))try{const r=await Zv(t.localStore);n.compareTo(r)>=0&&await function(o,a){const l=o.L_.rt(a);return l.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const d=o.F_.get(h);d&&o.F_.set(h,d.withResumeToken(u.resumeToken,a))}}),l.targetMismatches.forEach((u,h)=>{const d=o.F_.get(u);if(!d)return;o.F_.set(u,d.withResumeToken(dt.EMPTY_BYTE_STRING,d.snapshotVersion)),r_(o,u);const p=new Kn(d.target,u,h,d.sequenceNumber);Tf(o,p)}),o.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){X("RemoteStore","Failed to raise snapshot:",r),await hl(t,r)}}async function hl(t,e,n){if(!Es(e))throw e;t.M_.add(1),await Is(t),t.N_.set("Offline"),n||(n=()=>Zv(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{X("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await Bl(t)})}function o_(t,e){return e().catch(n=>hl(t,n,e))}async function zl(t){const e=oe(t),n=hr(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;aA(e);)try{const i=await WS(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,lA(e,i)}catch(i){await hl(e,i)}s_(e)&&a_(e)}function aA(t){return Kr(t)&&t.v_.length<10}function lA(t,e){t.v_.push(e);const n=hr(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function s_(t){return Kr(t)&&!hr(t).Zo()&&t.v_.length>0}function a_(t){hr(t).start()}async function uA(t){hr(t).V_()}async function cA(t){const e=hr(t);for(const n of t.v_)e.d_(n.mutations)}async function hA(t,e,n){const r=t.v_.shift(),i=mf.from(r,e,n);await o_(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await zl(t)}async function fA(t,e){e&&hr(t).E_&&await async function(r,i){if(function(a){return tS(a)&&a!==j.ABORTED}(i.code)){const o=r.v_.shift();hr(r).t_(),await o_(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await zl(r)}}(t,e),s_(t)&&a_(t)}async function Em(t,e){const n=oe(t);n.asyncQueue.verifyOperationInProgress(),X("RemoteStore","RemoteStore received new credentials");const r=Kr(n);n.M_.add(3),await Is(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await Bl(n)}async function dA(t,e){const n=oe(t);e?(n.M_.delete(2),await Bl(n)):e||(n.M_.add(2),await Is(n),n.N_.set("Unknown"))}function Qi(t){return t.B_||(t.B_=function(n,r,i){const o=oe(n);return o.f_(),new JS(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:rA.bind(null,t),To:iA.bind(null,t),Ao:oA.bind(null,t),h_:sA.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),Sf(t)?If(t):t.N_.set("Unknown")):(await t.B_.stop(),i_(t))})),t.B_}function hr(t){return t.k_||(t.k_=function(n,r,i){const o=oe(n);return o.f_(),new ZS(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:uA.bind(null,t),Ao:fA.bind(null,t),R_:cA.bind(null,t),A_:hA.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.t_(),await zl(t)):(await t.k_.stop(),t.v_.length>0&&(X("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const a=Date.now()+r,l=new Af(e,n,a,i,o);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Z(j.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pf(t,e){if(Vn("AsyncQueue",`${e}: ${t}`),Es(t))return new Z(j.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ee.comparator(n.key,r.key):(n,r)=>ee.comparator(n.key,r.key),this.keyedMap=So(),this.sortedSet=new De(this.comparator)}static emptySet(e){return new Si(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Si)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Si;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(){this.q_=new De(ee.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):te():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class bi{constructor(e,n,r,i,o,a,l,u,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,o){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new bi(e,n,Si.emptySet(n),a,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ml(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class mA{constructor(){this.queries=new Hi(e=>Rv(e),Ml),this.onlineState="Unknown",this.z_=new Set}}async function gA(t,e){const n=oe(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.W_()&&e.G_()&&(r=2):(o=new pA,r=e.G_()?0:1);try{switch(r){case 0:o.K_=await n.onListen(i,!0);break;case 1:o.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const l=Pf(a,`Initialization of query '${ti(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,o),o.U_.push(e),e.j_(n.onlineState),o.K_&&e.H_(o.K_)&&Cf(n)}async function yA(t,e){const n=oe(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const a=o.U_.indexOf(e);a>=0&&(o.U_.splice(a,1),o.U_.length===0?i=e.G_()?0:1:!o.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function vA(t,e){const n=oe(t);let r=!1;for(const i of e){const o=i.query,a=n.queries.get(o);if(a){for(const l of a.U_)l.H_(i)&&(r=!0);a.K_=i}}r&&Cf(n)}function _A(t,e,n){const r=oe(t),i=r.queries.get(e);if(i)for(const o of i.U_)o.onError(n);r.queries.delete(e)}function Cf(t){t.z_.forEach(e=>{e.next()})}var nh,Tm;(Tm=nh||(nh={})).J_="default",Tm.Cache="cache";class EA{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new bi(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=bi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==nh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(e){this.key=e}}class u_{constructor(e){this.key=e}}class wA{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=ue(),this.mutatedKeys=ue(),this.Ia=kv(e),this.Ta=new Si(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new wm,i=n?n.Ta:this.Ta;let o=n?n.mutatedKeys:this.mutatedKeys,a=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,p)=>{const v=i.get(d),P=Ll(this.query,p)?p:null,x=!!v&&this.mutatedKeys.has(v.key),O=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let M=!1;v&&P?v.data.isEqual(P.data)?x!==O&&(r.track({type:3,doc:P}),M=!0):this.Ra(v,P)||(r.track({type:2,doc:P}),M=!0,(u&&this.Ia(P,u)>0||h&&this.Ia(P,h)<0)&&(l=!0)):!v&&P?(r.track({type:0,doc:P}),M=!0):v&&!P&&(r.track({type:1,doc:v}),M=!0,(u||h)&&(l=!0)),M&&(P?(a=a.add(P),o=O?o.add(d):o.delete(d)):(a=a.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{Ta:a,Aa:r,Xi:l,mutatedKeys:o}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const a=e.Aa.Q_();a.sort((d,p)=>function(P,x){const O=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return te()}};return O(P)-O(x)}(d.type,p.type)||this.Ia(d.doc,p.doc)),this.Va(r),i=i!=null&&i;const l=n&&!i?this.ma():[],u=this.Pa.size===0&&this.current&&!i?1:0,h=u!==this.ha;return this.ha=u,a.length!==0||h?{snapshot:new bi(this.query,e.Ta,o,a,e.mutatedKeys,u===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:l}:{fa:l}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new wm,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=ue(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new u_(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new l_(r))}),n}pa(e){this.la=e.hs,this.Pa=ue();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return bi.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class TA{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class IA{constructor(e){this.key=e,this.wa=!1}}class SA{constructor(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Sa={},this.ba=new Hi(l=>Rv(l),Ml),this.Da=new Map,this.Ca=new Set,this.va=new De(ee.comparator),this.Fa=new Map,this.Ma=new vf,this.xa={},this.Oa=new Map,this.Na=Li.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function AA(t,e,n=!0){const r=m_(t);let i;const o=r.ba.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ya()):i=await c_(r,e,n,!0),i}async function PA(t,e){const n=m_(t);await c_(n,e,!0,!1)}async function c_(t,e,n,r){const i=await qS(t.localStore,fn(e)),o=i.targetId,a=n?t.sharedClientState.addLocalQueryTarget(o):"not-current";let l;return r&&(l=await CA(t,e,o,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&n_(t.remoteStore,i),l}async function CA(t,e,n,r,i){t.Ba=(p,v,P)=>async function(O,M,S,g){let _=M.view.da(S);_.Xi&&(_=await ym(O.localStore,M.query,!1).then(({documents:E})=>M.view.da(E,_)));const D=g&&g.targetChanges.get(M.targetId),b=g&&g.targetMismatches.get(M.targetId)!=null,z=M.view.applyChanges(_,O.isPrimaryClient,D,b);return Sm(O,M.targetId,z.fa),z.snapshot}(t,p,v,P);const o=await ym(t.localStore,e,!0),a=new wA(e,o.hs),l=a.da(o.documents),u=Ts.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=a.applyChanges(l,t.isPrimaryClient,u);Sm(t,n,h.fa);const d=new TA(e,n,a);return t.ba.set(e,d),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),h.snapshot}async function RA(t,e,n){const r=oe(t),i=r.ba.get(e),o=r.Da.get(i.targetId);if(o.length>1)return r.Da.set(i.targetId,o.filter(a=>!Ml(a,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await th(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&wf(r.remoteStore,i.targetId),rh(r,i.targetId)}).catch(_s)):(rh(r,i.targetId),await th(r.localStore,i.targetId,!0))}async function kA(t,e){const n=oe(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),wf(n.remoteStore,r.targetId))}async function xA(t,e,n){const r=bA(t);try{const i=await function(a,l){const u=oe(a),h=qe.now(),d=l.reduce((P,x)=>P.add(x.key),ue());let p,v;return u.persistence.runTransaction("Locally write mutations","readwrite",P=>{let x=Dn(),O=ue();return u.os.getEntries(P,d).next(M=>{x=M,x.forEach((S,g)=>{g.isValidDocument()||(O=O.add(S))})}).next(()=>u.localDocuments.getOverlayedDocuments(P,x)).next(M=>{p=M;const S=[];for(const g of l){const _=XI(g,p.get(g.key).overlayedDocument);_!=null&&S.push(new yr(g.key,_,wv(_.value.mapValue),dn.exists(!0)))}return u.mutationQueue.addMutationBatch(P,h,S,l)}).next(M=>{v=M;const S=M.applyToLocalDocumentSet(p,O);return u.documentOverlayCache.saveOverlays(P,M.batchId,S)})}).then(()=>({batchId:v.batchId,changes:Vv(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,l,u){let h=a.xa[a.currentUser.toKey()];h||(h=new De(pe)),h=h.insert(l,u),a.xa[a.currentUser.toKey()]=h}(r,i.batchId,n),await Ss(r,i.changes),await zl(r.remoteStore)}catch(i){const o=Pf(i,"Failed to persist write");n.reject(o)}}async function h_(t,e){const n=oe(t);try{const r=await zS(n.localStore,e);e.targetChanges.forEach((i,o)=>{const a=n.Fa.get(o);a&&(Ee(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.wa=!0:i.modifiedDocuments.size>0?Ee(a.wa):i.removedDocuments.size>0&&(Ee(a.wa),a.wa=!1))}),await Ss(n,r,e)}catch(r){await _s(r)}}function Im(t,e,n){const r=oe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((o,a)=>{const l=a.view.j_(e);l.snapshot&&i.push(l.snapshot)}),function(a,l){const u=oe(a);u.onlineState=l;let h=!1;u.queries.forEach((d,p)=>{for(const v of p.U_)v.j_(l)&&(h=!0)}),h&&Cf(u)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function VA(t,e,n){const r=oe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),o=i&&i.key;if(o){let a=new De(ee.comparator);a=a.insert(o,ht.newNoDocument(o,ne.min()));const l=ue().add(o),u=new Ul(ne.min(),new Map,new De(pe),a,l);await h_(r,u),r.va=r.va.remove(o),r.Fa.delete(e),Rf(r)}else await th(r.localStore,e,!1).then(()=>rh(r,e,n)).catch(_s)}async function DA(t,e){const n=oe(t),r=e.batch.batchId;try{const i=await BS(n.localStore,e);d_(n,r,null),f_(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ss(n,i)}catch(i){await _s(i)}}async function NA(t,e,n){const r=oe(t);try{const i=await function(a,l){const u=oe(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let d;return u.mutationQueue.lookupMutationBatch(h,l).next(p=>(Ee(p!==null),d=p.keys(),u.mutationQueue.removeMutationBatch(h,p))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,d,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d)).next(()=>u.localDocuments.getDocuments(h,d))})}(r.localStore,e);d_(r,e,n),f_(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ss(r,i)}catch(i){await _s(i)}}function f_(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function d_(t,e,n){const r=oe(t);let i=r.xa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function rh(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||p_(t,r)})}function p_(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(wf(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),Rf(t))}function Sm(t,e,n){for(const r of n)r instanceof l_?(t.Ma.addReference(r.key,e),OA(t,r)):r instanceof u_?(X("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||p_(t,r.key)):te()}function OA(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(X("SyncEngine","New document in limbo: "+n),t.Ca.add(r),Rf(t))}function Rf(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new ee(Me.fromString(e)),r=t.Na.next();t.Fa.set(r,new IA(n)),t.va=t.va.insert(n,r),n_(t.remoteStore,new Kn(fn(pf(n.path)),r,"TargetPurposeLimboResolution",lf.oe))}}async function Ss(t,e,n){const r=oe(t),i=[],o=[],a=[];r.ba.isEmpty()||(r.ba.forEach((l,u)=>{a.push(r.Ba(u,e,n).then(h=>{var d;if((h||n)&&r.isPrimaryClient){const p=h?!h.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(h){i.push(h);const p=Ef.Ki(u.targetId,h);o.push(p)}}))}),await Promise.all(a),r.Sa.h_(i),await async function(u,h){const d=oe(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>F.forEach(h,v=>F.forEach(v.qi,P=>d.persistence.referenceDelegate.addReference(p,v.targetId,P)).next(()=>F.forEach(v.Qi,P=>d.persistence.referenceDelegate.removeReference(p,v.targetId,P)))))}catch(p){if(!Es(p))throw p;X("LocalStore","Failed to update sequence numbers: "+p)}for(const p of h){const v=p.targetId;if(!p.fromCache){const P=d.ns.get(v),x=P.snapshotVersion,O=P.withLastLimboFreeSnapshotVersion(x);d.ns=d.ns.insert(v,O)}}}(r.localStore,o))}async function MA(t,e){const n=oe(t);if(!n.currentUser.isEqual(e)){X("SyncEngine","User change. New user:",e.toKey());const r=await Jv(n.localStore,e);n.currentUser=e,function(o,a){o.Oa.forEach(l=>{l.forEach(u=>{u.reject(new Z(j.CANCELLED,a))})}),o.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ss(n,r.us)}}function LA(t,e){const n=oe(t),r=n.Fa.get(e);if(r&&r.wa)return ue().add(r.key);{let i=ue();const o=n.Da.get(e);if(!o)return i;for(const a of o){const l=n.ba.get(a);i=i.unionWith(l.view.Ea)}return i}}function m_(t){const e=oe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=h_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=LA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VA.bind(null,e),e.Sa.h_=vA.bind(null,e.eventManager),e.Sa.ka=_A.bind(null,e.eventManager),e}function bA(t){const e=oe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=DA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=NA.bind(null,e),e}class Am{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=jl(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return jS(this.persistence,new FS,e.initialUser,this.serializer)}createPersistence(e){return new MS(_f.Hr,this.serializer)}createSharedClientState(e){return new QS}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class FA{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Im(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=MA.bind(null,this.syncEngine),await dA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new mA}()}createDatastore(e){const n=jl(e.databaseInfo.databaseId),r=function(o){return new YS(o)}(e.databaseInfo);return function(o,a,l,u){return new eA(o,a,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,a,l){return new nA(r,i,o,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>Im(this.syncEngine,n,0),function(){return _m.D()?new _m:new KS}())}createSyncEngine(e,n){return function(i,o,a,l,u,h,d){const p=new SA(i,o,a,l,u,h);return d&&(p.La=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=oe(r);X("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await Is(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Vn("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ut.UNAUTHENTICATED,this.clientId=vv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{X("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(X("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Z(j.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Pf(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function zu(t,e){t.asyncQueue.verifyOperationInProgress(),X("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Jv(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Pm(t,e){t.asyncQueue.verifyOperationInProgress();const n=await zA(t);X("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Em(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Em(e.remoteStore,i)),t._onlineComponents=e}function BA(t){return t.name==="FirebaseError"?t.code===j.FAILED_PRECONDITION||t.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function zA(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){X("FirestoreClient","Using user provided OfflineComponentProvider");try{await zu(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!BA(n))throw n;Di("Error using user provided cache. Falling back to memory cache: "+n),await zu(t,new Am)}}else X("FirestoreClient","Using default OfflineComponentProvider"),await zu(t,new Am);return t._offlineComponents}async function g_(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(X("FirestoreClient","Using user provided OnlineComponentProvider"),await Pm(t,t._uninitializedComponentsProvider._online)):(X("FirestoreClient","Using default OnlineComponentProvider"),await Pm(t,new FA))),t._onlineComponents}function $A(t){return g_(t).then(e=>e.syncEngine)}async function WA(t){const e=await g_(t),n=e.eventManager;return n.onListen=AA.bind(null,e.syncEngine),n.onUnlisten=RA.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=PA.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=kA.bind(null,e.syncEngine),n}function qA(t,e,n={}){const r=new sr;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,l,u,h){const d=new UA({next:v=>{a.enqueueAndForget(()=>yA(o,p));const P=v.docs.has(l);!P&&v.fromCache?h.reject(new Z(j.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&v.fromCache&&u&&u.source==="server"?h.reject(new Z(j.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(v)},error:v=>h.reject(v)}),p=new EA(pf(l.path),d,{includeMetadataChanges:!0,ra:!0});return gA(o,p)}(await WA(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y_(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(t,e,n){if(!n)throw new Z(j.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function QA(t,e,n,r){if(e===!0&&r===!0)throw new Z(j.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Rm(t){if(!ee.isDocumentKey(t))throw new Z(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function kf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":te()}function Wr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Z(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=kf(t);throw new Z(j.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Z(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Z(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}QA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=y_((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Z(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Z(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Z(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new km({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Z(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Z(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new km(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new oI;switch(r.type){case"firstParty":return new uI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Z(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Cm.get(n);r&&(X("ComponentProvider","Removing Datastore"),Cm.delete(n),r.terminate())}(this),Promise.resolve()}}function KA(t,e,n,r={}){var i;const o=(t=Wr(t,xf))._getSettings(),a=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==a&&Di("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=ut.MOCK_USER;else{l=B1(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new Z(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ut(h)}t._authCredentials=new sI(new yv(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Vf(this.firestore,e,this._query)}}class Dt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dt(this.firestore,e,this._key)}}class fs extends Vf{constructor(e,n,r){super(e,n,pf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dt(this.firestore,null,new ee(e))}withConverter(e){return new fs(this.firestore,e,this._path)}}function fl(t,e,...n){if(t=Ur(t),arguments.length===1&&(e=vv.newId()),HA("doc","path",e),t instanceof xf){const r=Me.fromString(e,...n);return Rm(r),new Dt(t,null,new ee(r))}{if(!(t instanceof Dt||t instanceof fs))throw new Z(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Me.fromString(e,...n));return Rm(r),new Dt(t.firestore,t instanceof fs?t.converter:null,new ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new e_(this,"async_queue_retry"),this.hu=()=>{const n=Bu();n&&X("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=Bu();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=Bu();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new sr;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!Es(e))throw e;X("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),l}(r);throw Vn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=Af.createAndSchedule(this,e,n,r,o=>this.Eu(o));return this._u.push(i),i}Pu(){this.au&&te()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}class $l extends xf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new GA}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||__(this),this._firestoreClient.terminate()}}function XA(t,e){const n=typeof t=="object"?t:GT(),r=typeof t=="string"?t:"(default)",i=qT(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=U1("firestore");o&&KA(i,...o)}return i}function v_(t){return t._firestoreClient||__(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function __(t){var e,n,r;const i=t._freezeSettings(),o=function(l,u,h,d){return new TI(l,u,h,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,y_(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new jA(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fi(dt.fromBase64String(e))}catch(n){throw new Z(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Fi(dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Z(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new et(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Z(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Z(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return pe(this._lat,e._lat)||pe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA=/^__.*__$/;class JA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new yr(e,this.data,this.fieldMask,n,this.fieldTransforms):new ws(e,this.data,n,this.fieldTransforms)}}class E_{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new yr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function w_(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw te()}}class Of{constructor(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.mu(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new Of(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return dl(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(w_(this.fu)&&YA.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class ZA{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||jl(e)}Fu(e,n,r,i=!1){return new Of({fu:e,methodName:n,vu:r,path:et.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function T_(t){const e=t._freezeSettings(),n=jl(t._databaseId);return new ZA(t._databaseId,!!e.ignoreUndefinedProperties,n)}function eP(t,e,n,r,i,o={}){const a=t.Fu(o.merge||o.mergeFields?2:0,e,n,i);Mf("Data must be an object, but it was:",a,r);const l=I_(r,a);let u,h;if(o.merge)u=new xt(a.fieldMask),h=a.fieldTransforms;else if(o.mergeFields){const d=[];for(const p of o.mergeFields){const v=ih(e,p,n);if(!a.contains(v))throw new Z(j.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);A_(d,v)||d.push(v)}u=new xt(d),h=a.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,h=a.fieldTransforms;return new JA(new Tt(l),u,h)}class ql extends Df{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ql}}function tP(t,e,n,r){const i=t.Fu(1,e,n);Mf("Data must be an object, but it was:",i,r);const o=[],a=Tt.empty();Qr(r,(u,h)=>{const d=Lf(e,u,n);h=Ur(h);const p=i.Su(d);if(h instanceof ql)o.push(d);else{const v=Hl(h,p);v!=null&&(o.push(d),a.set(d,v))}});const l=new xt(o);return new E_(a,l,i.fieldTransforms)}function nP(t,e,n,r,i,o){const a=t.Fu(1,e,n),l=[ih(e,r,n)],u=[i];if(o.length%2!=0)throw new Z(j.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)l.push(ih(e,o[v])),u.push(o[v+1]);const h=[],d=Tt.empty();for(let v=l.length-1;v>=0;--v)if(!A_(h,l[v])){const P=l[v];let x=u[v];x=Ur(x);const O=a.Su(P);if(x instanceof ql)h.push(P);else{const M=Hl(x,O);M!=null&&(h.push(P),d.set(P,M))}}const p=new xt(h);return new E_(d,p,a.fieldTransforms)}function Hl(t,e){if(S_(t=Ur(t)))return Mf("Unsupported field value:",e,t),I_(t,e);if(t instanceof Df)return function(r,i){if(!w_(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){const o=[];let a=0;for(const l of r){let u=Hl(l,i.bu(a));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),a++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Ur(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return WI(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=qe.fromDate(r);return{timestampValue:cl(i.serializer,o)}}if(r instanceof qe){const o=new qe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:cl(i.serializer,o)}}if(r instanceof Nf)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Fi)return{bytesValue:qv(i.serializer,r._byteString)};if(r instanceof Dt){const o=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw i.Du(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:yf(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${kf(r)}`)}(t,e)}function I_(t,e){const n={};return _v(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qr(t,(r,i)=>{const o=Hl(i,e.pu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function S_(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof qe||t instanceof Nf||t instanceof Fi||t instanceof Dt||t instanceof Df)}function Mf(t,e,n){if(!S_(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=kf(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function ih(t,e,n){if((e=Ur(e))instanceof Wl)return e._internalPath;if(typeof e=="string")return Lf(t,e);throw dl("Field path arguments must be of type string or ",t,!1,void 0,n)}const rP=new RegExp("[~\\*/\\[\\]]");function Lf(t,e,n){if(e.search(rP)>=0)throw dl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Wl(...e.split("."))._internalPath}catch{throw dl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function dl(t,e,n,r,i){const o=r&&!r.isEmpty(),a=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(o||a)&&(u+=" (found",o&&(u+=` in field ${r}`),a&&(u+=` in document ${i}`),u+=")"),new Z(j.INVALID_ARGUMENT,l+t+u)}function A_(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(C_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class iP extends P_{data(){return super.data()}}function C_(t,e){return typeof e=="string"?Lf(t,e):e instanceof Wl?e._internalPath:e._delegate._internalPath}class oP{convertValue(e,n="none"){switch($r(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ue(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(zr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Qr(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new Nf(Ue(e.latitude),Ue(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=cf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(as(e));default:return null}}convertTimestamp(e){const n=cr(e);return new qe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Me.fromString(e);Ee(Yv(r));const i=new ls(r.get(1),r.get(3)),o=new ee(r.popFirst(5));return i.isEqual(n)||Vn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sP(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class R_ extends P_{constructor(e,n,r,i,o,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new lP(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(C_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class lP extends R_{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bf(t){t=Wr(t,Dt);const e=Wr(t.firestore,$l);return qA(v_(e),t._key).then(n=>hP(e,t,n))}class uP extends oP{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Dt(this.firestore,null,n)}}function k_(t,e,n){t=Wr(t,Dt);const r=Wr(t.firestore,$l),i=sP(t.converter,e,n);return x_(r,[eP(T_(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,dn.none())])}function cP(t,e,n,...r){t=Wr(t,Dt);const i=Wr(t.firestore,$l),o=T_(i);let a;return a=typeof(e=Ur(e))=="string"||e instanceof Wl?nP(o,"updateDoc",t._key,e,n,r):tP(o,"updateDoc",t._key,e),x_(i,[a.toMutation(t._key,dn.exists(!0))])}function x_(t,e){return function(r,i){const o=new sr;return r.asyncQueue.enqueueAndForget(async()=>xA(await $A(r),i,o)),o.promise}(v_(t),e)}function hP(t,e,n){const r=n.docs.get(e._key),i=new uP(t);return new R_(t,i,e._key,r,new aP(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){qi=i})(KT),il(new is("firestore",(r,{instanceIdentifier:i,options:o})=>{const a=r.getProvider("app").getImmediate(),l=new $l(new aI(r.getProvider("auth-internal")),new hI(r.getProvider("app-check-internal")),function(h,d){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Z(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ls(h.options.projectId,d)}(a,i),a);return o=Object.assign({useFetchStreams:n},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),Ii(Yp,"4.6.4",e),Ii(Yp,"4.6.4","esm2017")})();var fP="firebase",dP="10.12.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ii(fP,dP,"app");const pP={apiKey:"AIzaSyBQwjgfS2FZWZJtGJPFAJNS58YcAdUVDeE",authDomain:"telegram-cc828.firebaseapp.com",projectId:"telegram-cc828",storageBucket:"telegram-cc828.appspot.com",messagingSenderId:"541310609374",appId:"1:541310609374:web:5c046692c1ee59ba981f4f",measurementId:"G-7XGPVD7NY4"},mP=av(pP),pl=XA(mP),gP=({userId:t})=>{const[e,n]=q.useState(null),[r,i]=q.useState(!0);return q.useEffect(()=>{(async()=>{try{const a=fl(pl,"users",t),l=await bf(a);if(l.exists()){const u=l.data();n(u.invite_link||null)}else console.log("No such document!")}catch(a){console.error("Error fetching invite link:",a)}finally{i(!1)}})()},[t]),r?K.jsx("p",{children:"Loading..."}):K.jsxs("div",{children:[K.jsx("h2",{children:"Invite Link"}),e?K.jsx("p",{children:e}):K.jsx("p",{children:"No invite link found."})]})},yP=()=>{const[t,e]=q.useState(null);return q.useEffect(()=>{var r;const n=(r=rf.initDataUnsafe)==null?void 0:r.user;n?e(n):console.error("User data is not available")},[]),t?K.jsxs("div",{children:[K.jsx("h2",{children:"User Details"}),K.jsxs("p",{children:[K.jsx("strong",{children:"Username:"})," ",t.username||"No username available"]}),K.jsxs("p",{children:[K.jsx("strong",{children:"ID:"})," ",t.id]}),K.jsxs("p",{children:[K.jsx("strong",{children:"First Name:"})," ",t.first_name]}),K.jsxs("p",{children:[K.jsx("strong",{children:"Last Name:"})," ",t.last_name||"No last name available"]}),K.jsxs("p",{children:[K.jsx("strong",{children:"Language Code:"})," ",t.language_code]}),K.jsxs("p",{children:[K.jsx("strong",{children:"Profile Photo:"}),K.jsx("br",{}),t.photo?K.jsx("img",{src:`https://api.telegram.org/file/bot<YOUR_BOT_TOKEN>/${t.photo.big_file_id}`,alt:"Profile"}):"No photo available"]})]}):K.jsx("div",{children:"Loading..."})},vP=({userId:t})=>{const[e,n]=q.useState(0);q.useEffect(()=>{(async()=>{try{const o=fl(pl,"users",t),a=await bf(o);if(a.exists()){const l=a.data();l&&l.clicks&&n(l.clicks)}}catch(o){console.error("Error fetching user data:",o)}})()},[t]);const r=async()=>{try{const i=e+1,o=fl(pl,"users",t);await k_(o,{clicks:i},{merge:!0}),n(i)}catch(i){console.error("Error updating clicks:",i)}};return K.jsxs("div",{children:[K.jsx("h2",{children:"Tap to Earn"}),K.jsxs("p",{children:["Puanlarınız: ",e]}),K.jsx("button",{onClick:r,children:"Tap Here!"})]})};async function _P(t){const e=fl(pl,"users",t.id.toString());(await bf(e)).exists()?await cP(e,{first_name:t.first_name}):await k_(e,t)}const EP=()=>K.jsxs("div",{children:[K.jsx("h2",{children:"Ana Sayfa"}),K.jsx("p",{children:"Hoş geldiniz!"}),K.jsx(Ti,{to:"/profile",children:K.jsx("button",{children:"Profil Sayfasına Git"})}),K.jsx(Ti,{to:"/user-data",children:K.jsx("button",{children:"Kullanıcı Verilerine Git"})}),K.jsx(Ti,{to:"/tap-to-earn",children:K.jsx("button",{children:"oyna"})})]});function wP(){const[t,e]=q.useState(""),[n,r]=q.useState(0),[i,o]=q.useState("");return q.useEffect(()=>{(async()=>{var u;const l=(u=rf.initDataUnsafe)==null?void 0:u.user;l&&(e(l.username||"Kullanıcı adı yok"),r(l.id),o(l.photo?l.photo.big_file_id:"default-profile-pic.png"),await _P(l))})()},[]),K.jsx(T1,{basename:"/webapp342/myweb",children:K.jsxs("div",{children:[K.jsx(Ti,{to:"/profile",children:K.jsx("button",{children:"Profil Sayfasına Git"})}),K.jsx(Ti,{to:"/user-data",children:K.jsx("button",{children:"Kullanıcı Verilerine Git"})}),K.jsx(Ti,{to:"/tap-to-earn",children:K.jsx("button",{children:"oyna"})}),K.jsxs(m1,{children:[K.jsx(Ar,{path:"/",element:K.jsx(EP,{})}),K.jsx(Ar,{path:"/profile",element:K.jsx(k1,{username:t,userId:n,photoUrl:i})}),K.jsx(Ar,{path:"/user-data",element:K.jsx(gP,{userId:n.toString()})}),K.jsx(Ar,{path:"/tap-to-earn",element:K.jsx(vP,{userId:n.toString()})}),K.jsx(Ar,{path:"/user-details",element:K.jsx(yP,{})}),K.jsx(Ar,{path:"*",element:K.jsx(d1,{to:"/"})})," "]})]})})}rf.ready();$u.createRoot(document.getElementById("root")).render(K.jsx(jm.StrictMode,{children:K.jsx(wP,{})}));
