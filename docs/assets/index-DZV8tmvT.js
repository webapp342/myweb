function Y_(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function J_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Rm={exports:{}},dl={},km={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hs=Symbol.for("react.element"),Z_=Symbol.for("react.portal"),e0=Symbol.for("react.fragment"),t0=Symbol.for("react.strict_mode"),n0=Symbol.for("react.profiler"),r0=Symbol.for("react.provider"),i0=Symbol.for("react.context"),o0=Symbol.for("react.forward_ref"),s0=Symbol.for("react.suspense"),a0=Symbol.for("react.memo"),l0=Symbol.for("react.lazy"),wd=Symbol.iterator;function u0(t){return t===null||typeof t!="object"?null:(t=wd&&t[wd]||t["@@iterator"],typeof t=="function"?t:null)}var xm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Vm=Object.assign,Dm={};function Fi(t,e,n){this.props=t,this.context=e,this.refs=Dm,this.updater=n||xm}Fi.prototype.isReactComponent={};Fi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Fi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Nm(){}Nm.prototype=Fi.prototype;function oh(t,e,n){this.props=t,this.context=e,this.refs=Dm,this.updater=n||xm}var sh=oh.prototype=new Nm;sh.constructor=oh;Vm(sh,Fi.prototype);sh.isPureReactComponent=!0;var Td=Array.isArray,Om=Object.prototype.hasOwnProperty,ah={current:null},Mm={key:!0,ref:!0,__self:!0,__source:!0};function Lm(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)Om.call(e,r)&&!Mm.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),h=0;h<l;h++)u[h]=arguments[h+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:hs,type:t,key:o,ref:a,props:i,_owner:ah.current}}function c0(t,e){return{$$typeof:hs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function lh(t){return typeof t=="object"&&t!==null&&t.$$typeof===hs}function h0(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Id=/\/+/g;function au(t,e){return typeof t=="object"&&t!==null&&t.key!=null?h0(""+t.key):e.toString(36)}function fa(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case hs:case Z_:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+au(a,0):r,Td(i)?(n="",t!=null&&(n=t.replace(Id,"$&/")+"/"),fa(i,e,n,"",function(h){return h})):i!=null&&(lh(i)&&(i=c0(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Id,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",Td(t))for(var l=0;l<t.length;l++){o=t[l];var u=r+au(o,l);a+=fa(o,e,n,u,i)}else if(u=u0(t),typeof u=="function")for(t=u.call(t),l=0;!(o=t.next()).done;)o=o.value,u=r+au(o,l++),a+=fa(o,e,n,u,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function qs(t,e,n){if(t==null)return t;var r=[],i=0;return fa(t,r,"","",function(o){return e.call(n,o,i++)}),r}function f0(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var yt={current:null},da={transition:null},d0={ReactCurrentDispatcher:yt,ReactCurrentBatchConfig:da,ReactCurrentOwner:ah};function bm(){throw Error("act(...) is not supported in production builds of React.")}le.Children={map:qs,forEach:function(t,e,n){qs(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return qs(t,function(){e++}),e},toArray:function(t){return qs(t,function(e){return e})||[]},only:function(t){if(!lh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};le.Component=Fi;le.Fragment=e0;le.Profiler=n0;le.PureComponent=oh;le.StrictMode=t0;le.Suspense=s0;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=d0;le.act=bm;le.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Vm({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=ah.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)Om.call(e,u)&&!Mm.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var h=0;h<u;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:hs,type:t.type,key:i,ref:o,props:r,_owner:a}};le.createContext=function(t){return t={$$typeof:i0,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:r0,_context:t},t.Consumer=t};le.createElement=Lm;le.createFactory=function(t){var e=Lm.bind(null,t);return e.type=t,e};le.createRef=function(){return{current:null}};le.forwardRef=function(t){return{$$typeof:o0,render:t}};le.isValidElement=lh;le.lazy=function(t){return{$$typeof:l0,_payload:{_status:-1,_result:t},_init:f0}};le.memo=function(t,e){return{$$typeof:a0,type:t,compare:e===void 0?null:e}};le.startTransition=function(t){var e=da.transition;da.transition={};try{t()}finally{da.transition=e}};le.unstable_act=bm;le.useCallback=function(t,e){return yt.current.useCallback(t,e)};le.useContext=function(t){return yt.current.useContext(t)};le.useDebugValue=function(){};le.useDeferredValue=function(t){return yt.current.useDeferredValue(t)};le.useEffect=function(t,e){return yt.current.useEffect(t,e)};le.useId=function(){return yt.current.useId()};le.useImperativeHandle=function(t,e,n){return yt.current.useImperativeHandle(t,e,n)};le.useInsertionEffect=function(t,e){return yt.current.useInsertionEffect(t,e)};le.useLayoutEffect=function(t,e){return yt.current.useLayoutEffect(t,e)};le.useMemo=function(t,e){return yt.current.useMemo(t,e)};le.useReducer=function(t,e,n){return yt.current.useReducer(t,e,n)};le.useRef=function(t){return yt.current.useRef(t)};le.useState=function(t){return yt.current.useState(t)};le.useSyncExternalStore=function(t,e,n){return yt.current.useSyncExternalStore(t,e,n)};le.useTransition=function(){return yt.current.useTransition()};le.version="18.3.1";km.exports=le;var q=km.exports;const Fm=J_(q),p0=Y_({__proto__:null,default:Fm},[q]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m0=q,g0=Symbol.for("react.element"),y0=Symbol.for("react.fragment"),v0=Object.prototype.hasOwnProperty,_0=m0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,E0={key:!0,ref:!0,__self:!0,__source:!0};function Um(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)v0.call(e,r)&&!E0.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:g0,type:t,key:o,ref:a,props:i,_owner:_0.current}}dl.Fragment=y0;dl.jsx=Um;dl.jsxs=Um;Rm.exports=dl;var X=Rm.exports,$u={},jm={exports:{}},Ot={},Bm={exports:{}},zm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(W,J){var re=W.length;W.push(J);e:for(;0<re;){var we=re-1>>>1,me=W[we];if(0<i(me,J))W[we]=J,W[re]=me,re=we;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var J=W[0],re=W.pop();if(re!==J){W[0]=re;e:for(var we=0,me=W.length,Te=me>>>1;we<Te;){var Lt=2*(we+1)-1,_t=W[Lt],bt=Lt+1,Qt=W[bt];if(0>i(_t,re))bt<me&&0>i(Qt,_t)?(W[we]=Qt,W[bt]=re,we=bt):(W[we]=_t,W[Lt]=re,we=Lt);else if(bt<me&&0>i(Qt,re))W[we]=Qt,W[bt]=re,we=bt;else break e}}return J}function i(W,J){var re=W.sortIndex-J.sortIndex;return re!==0?re:W.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],h=[],d=1,m=null,v=3,P=!1,x=!1,O=!1,M=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(W){for(var J=n(h);J!==null;){if(J.callback===null)r(h);else if(J.startTime<=W)r(h),J.sortIndex=J.expirationTime,e(u,J);else break;J=n(h)}}function D(W){if(O=!1,_(W),!x)if(n(u)!==null)x=!0,yn(b);else{var J=n(h);J!==null&&Ht(D,J.startTime-W)}}function b(W,J){x=!1,O&&(O=!1,S(y),y=-1),P=!0;var re=v;try{for(_(J),m=n(u);m!==null&&(!(m.expirationTime>J)||W&&!R());){var we=m.callback;if(typeof we=="function"){m.callback=null,v=m.priorityLevel;var me=we(m.expirationTime<=J);J=t.unstable_now(),typeof me=="function"?m.callback=me:m===n(u)&&r(u),_(J)}else r(u);m=n(u)}if(m!==null)var Te=!0;else{var Lt=n(h);Lt!==null&&Ht(D,Lt.startTime-J),Te=!1}return Te}finally{m=null,v=re,P=!1}}var z=!1,E=null,y=-1,w=5,T=-1;function R(){return!(t.unstable_now()-T<w)}function k(){if(E!==null){var W=t.unstable_now();T=W;var J=!0;try{J=E(!0,W)}finally{J?I():(z=!1,E=null)}}else z=!1}var I;if(typeof g=="function")I=function(){g(k)};else if(typeof MessageChannel<"u"){var pt=new MessageChannel,qt=pt.port2;pt.port1.onmessage=k,I=function(){qt.postMessage(null)}}else I=function(){M(k,0)};function yn(W){E=W,z||(z=!0,I())}function Ht(W,J){y=M(function(){W(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){x||P||(x=!0,yn(b))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(W){switch(v){case 1:case 2:case 3:var J=3;break;default:J=v}var re=v;v=J;try{return W()}finally{v=re}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,J){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var re=v;v=W;try{return J()}finally{v=re}},t.unstable_scheduleCallback=function(W,J,re){var we=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?we+re:we):re=we,W){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=re+me,W={id:d++,callback:J,priorityLevel:W,startTime:re,expirationTime:me,sortIndex:-1},re>we?(W.sortIndex=re,e(h,W),n(u)===null&&W===n(h)&&(O?(S(y),y=-1):O=!0,Ht(D,re-we))):(W.sortIndex=me,e(u,W),x||P||(x=!0,yn(b))),W},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(W){var J=v;return function(){var re=v;v=J;try{return W.apply(this,arguments)}finally{v=re}}}})(zm);Bm.exports=zm;var w0=Bm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T0=q,Nt=w0;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $m=new Set,bo={};function zr(t,e){Si(t,e),Si(t+"Capture",e)}function Si(t,e){for(bo[t]=e,t=0;t<e.length;t++)$m.add(e[t])}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wu=Object.prototype.hasOwnProperty,I0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Sd={},Ad={};function S0(t){return Wu.call(Ad,t)?!0:Wu.call(Sd,t)?!1:I0.test(t)?Ad[t]=!0:(Sd[t]=!0,!1)}function A0(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function P0(t,e,n,r){if(e===null||typeof e>"u"||A0(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function vt(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){rt[t]=new vt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];rt[e]=new vt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){rt[t]=new vt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){rt[t]=new vt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){rt[t]=new vt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){rt[t]=new vt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){rt[t]=new vt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){rt[t]=new vt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){rt[t]=new vt(t,5,!1,t.toLowerCase(),null,!1,!1)});var uh=/[\-:]([a-z])/g;function ch(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(uh,ch);rt[e]=new vt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(uh,ch);rt[e]=new vt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(uh,ch);rt[e]=new vt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){rt[t]=new vt(t,1,!1,t.toLowerCase(),null,!1,!1)});rt.xlinkHref=new vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){rt[t]=new vt(t,1,!1,t.toLowerCase(),null,!0,!0)});function hh(t,e,n,r){var i=rt.hasOwnProperty(e)?rt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(P0(e,n,i,r)&&(n=null),r||i===null?S0(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Nn=T0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hs=Symbol.for("react.element"),ii=Symbol.for("react.portal"),oi=Symbol.for("react.fragment"),fh=Symbol.for("react.strict_mode"),qu=Symbol.for("react.profiler"),Wm=Symbol.for("react.provider"),qm=Symbol.for("react.context"),dh=Symbol.for("react.forward_ref"),Hu=Symbol.for("react.suspense"),Qu=Symbol.for("react.suspense_list"),ph=Symbol.for("react.memo"),Bn=Symbol.for("react.lazy"),Hm=Symbol.for("react.offscreen"),Pd=Symbol.iterator;function ao(t){return t===null||typeof t!="object"?null:(t=Pd&&t[Pd]||t["@@iterator"],typeof t=="function"?t:null)}var Ve=Object.assign,lu;function yo(t){if(lu===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);lu=e&&e[1]||""}return`
`+lu+t}var uu=!1;function cu(t,e){if(!t||uu)return"";uu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,l=o.length-1;1<=a&&0<=l&&i[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==o[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==o[l]){var u=`
`+i[a].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=a&&0<=l);break}}}finally{uu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?yo(t):""}function C0(t){switch(t.tag){case 5:return yo(t.type);case 16:return yo("Lazy");case 13:return yo("Suspense");case 19:return yo("SuspenseList");case 0:case 2:case 15:return t=cu(t.type,!1),t;case 11:return t=cu(t.type.render,!1),t;case 1:return t=cu(t.type,!0),t;default:return""}}function Ku(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case oi:return"Fragment";case ii:return"Portal";case qu:return"Profiler";case fh:return"StrictMode";case Hu:return"Suspense";case Qu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case qm:return(t.displayName||"Context")+".Consumer";case Wm:return(t._context.displayName||"Context")+".Provider";case dh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ph:return e=t.displayName||null,e!==null?e:Ku(t.type)||"Memo";case Bn:e=t._payload,t=t._init;try{return Ku(t(e))}catch{}}return null}function R0(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ku(e);case 8:return e===fh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ar(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Qm(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function k0(t){var e=Qm(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Qs(t){t._valueTracker||(t._valueTracker=k0(t))}function Km(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Qm(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ra(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Gu(t,e){var n=e.checked;return Ve({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Cd(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ar(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Gm(t,e){e=e.checked,e!=null&&hh(t,"checked",e,!1)}function Xu(t,e){Gm(t,e);var n=ar(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Yu(t,e.type,n):e.hasOwnProperty("defaultValue")&&Yu(t,e.type,ar(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Rd(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Yu(t,e,n){(e!=="number"||Ra(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var vo=Array.isArray;function gi(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ar(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ju(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return Ve({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function kd(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(vo(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ar(n)}}function Xm(t,e){var n=ar(e.value),r=ar(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function xd(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Ym(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Ym(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ks,Jm=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ks=Ks||document.createElement("div"),Ks.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ks.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Fo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var So={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},x0=["Webkit","ms","Moz","O"];Object.keys(So).forEach(function(t){x0.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),So[e]=So[t]})});function Zm(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||So.hasOwnProperty(t)&&So[t]?(""+e).trim():e+"px"}function eg(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Zm(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var V0=Ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ec(t,e){if(e){if(V0[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function tc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nc=null;function mh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var rc=null,yi=null,vi=null;function Vd(t){if(t=ps(t)){if(typeof rc!="function")throw Error(B(280));var e=t.stateNode;e&&(e=vl(e),rc(t.stateNode,t.type,e))}}function tg(t){yi?vi?vi.push(t):vi=[t]:yi=t}function ng(){if(yi){var t=yi,e=vi;if(vi=yi=null,Vd(t),e)for(t=0;t<e.length;t++)Vd(e[t])}}function rg(t,e){return t(e)}function ig(){}var hu=!1;function og(t,e,n){if(hu)return t(e,n);hu=!0;try{return rg(t,e,n)}finally{hu=!1,(yi!==null||vi!==null)&&(ig(),ng())}}function Uo(t,e){var n=t.stateNode;if(n===null)return null;var r=vl(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var ic=!1;if(Cn)try{var lo={};Object.defineProperty(lo,"passive",{get:function(){ic=!0}}),window.addEventListener("test",lo,lo),window.removeEventListener("test",lo,lo)}catch{ic=!1}function D0(t,e,n,r,i,o,a,l,u){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(d){this.onError(d)}}var Ao=!1,ka=null,xa=!1,oc=null,N0={onError:function(t){Ao=!0,ka=t}};function O0(t,e,n,r,i,o,a,l,u){Ao=!1,ka=null,D0.apply(N0,arguments)}function M0(t,e,n,r,i,o,a,l,u){if(O0.apply(this,arguments),Ao){if(Ao){var h=ka;Ao=!1,ka=null}else throw Error(B(198));xa||(xa=!0,oc=h)}}function $r(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function sg(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Dd(t){if($r(t)!==t)throw Error(B(188))}function L0(t){var e=t.alternate;if(!e){if(e=$r(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Dd(i),t;if(o===r)return Dd(i),e;o=o.sibling}throw Error(B(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function ag(t){return t=L0(t),t!==null?lg(t):null}function lg(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=lg(t);if(e!==null)return e;t=t.sibling}return null}var ug=Nt.unstable_scheduleCallback,Nd=Nt.unstable_cancelCallback,b0=Nt.unstable_shouldYield,F0=Nt.unstable_requestPaint,Le=Nt.unstable_now,U0=Nt.unstable_getCurrentPriorityLevel,gh=Nt.unstable_ImmediatePriority,cg=Nt.unstable_UserBlockingPriority,Va=Nt.unstable_NormalPriority,j0=Nt.unstable_LowPriority,hg=Nt.unstable_IdlePriority,pl=null,cn=null;function B0(t){if(cn&&typeof cn.onCommitFiberRoot=="function")try{cn.onCommitFiberRoot(pl,t,void 0,(t.current.flags&128)===128)}catch{}}var tn=Math.clz32?Math.clz32:W0,z0=Math.log,$0=Math.LN2;function W0(t){return t>>>=0,t===0?32:31-(z0(t)/$0|0)|0}var Gs=64,Xs=4194304;function _o(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Da(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var l=a&~i;l!==0?r=_o(l):(o&=a,o!==0&&(r=_o(o)))}else a=n&~i,a!==0?r=_o(a):o!==0&&(r=_o(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-tn(e),i=1<<n,r|=t[n],e&=~i;return r}function q0(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function H0(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-tn(o),l=1<<a,u=i[a];u===-1?(!(l&n)||l&r)&&(i[a]=q0(l,e)):u<=e&&(t.expiredLanes|=l),o&=~l}}function sc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function fg(){var t=Gs;return Gs<<=1,!(Gs&4194240)&&(Gs=64),t}function fu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function fs(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-tn(e),t[e]=n}function Q0(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-tn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function yh(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-tn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ge=0;function dg(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var pg,vh,mg,gg,yg,ac=!1,Ys=[],Gn=null,Xn=null,Yn=null,jo=new Map,Bo=new Map,$n=[],K0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Od(t,e){switch(t){case"focusin":case"focusout":Gn=null;break;case"dragenter":case"dragleave":Xn=null;break;case"mouseover":case"mouseout":Yn=null;break;case"pointerover":case"pointerout":jo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bo.delete(e.pointerId)}}function uo(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=ps(e),e!==null&&vh(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function G0(t,e,n,r,i){switch(e){case"focusin":return Gn=uo(Gn,t,e,n,r,i),!0;case"dragenter":return Xn=uo(Xn,t,e,n,r,i),!0;case"mouseover":return Yn=uo(Yn,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return jo.set(o,uo(jo.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Bo.set(o,uo(Bo.get(o)||null,t,e,n,r,i)),!0}return!1}function vg(t){var e=Sr(t.target);if(e!==null){var n=$r(e);if(n!==null){if(e=n.tag,e===13){if(e=sg(n),e!==null){t.blockedOn=e,yg(t.priority,function(){mg(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function pa(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=lc(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);nc=r,n.target.dispatchEvent(r),nc=null}else return e=ps(n),e!==null&&vh(e),t.blockedOn=n,!1;e.shift()}return!0}function Md(t,e,n){pa(t)&&n.delete(e)}function X0(){ac=!1,Gn!==null&&pa(Gn)&&(Gn=null),Xn!==null&&pa(Xn)&&(Xn=null),Yn!==null&&pa(Yn)&&(Yn=null),jo.forEach(Md),Bo.forEach(Md)}function co(t,e){t.blockedOn===e&&(t.blockedOn=null,ac||(ac=!0,Nt.unstable_scheduleCallback(Nt.unstable_NormalPriority,X0)))}function zo(t){function e(i){return co(i,t)}if(0<Ys.length){co(Ys[0],t);for(var n=1;n<Ys.length;n++){var r=Ys[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Gn!==null&&co(Gn,t),Xn!==null&&co(Xn,t),Yn!==null&&co(Yn,t),jo.forEach(e),Bo.forEach(e),n=0;n<$n.length;n++)r=$n[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<$n.length&&(n=$n[0],n.blockedOn===null);)vg(n),n.blockedOn===null&&$n.shift()}var _i=Nn.ReactCurrentBatchConfig,Na=!0;function Y0(t,e,n,r){var i=ge,o=_i.transition;_i.transition=null;try{ge=1,_h(t,e,n,r)}finally{ge=i,_i.transition=o}}function J0(t,e,n,r){var i=ge,o=_i.transition;_i.transition=null;try{ge=4,_h(t,e,n,r)}finally{ge=i,_i.transition=o}}function _h(t,e,n,r){if(Na){var i=lc(t,e,n,r);if(i===null)Tu(t,e,r,Oa,n),Od(t,r);else if(G0(i,t,e,n,r))r.stopPropagation();else if(Od(t,r),e&4&&-1<K0.indexOf(t)){for(;i!==null;){var o=ps(i);if(o!==null&&pg(o),o=lc(t,e,n,r),o===null&&Tu(t,e,r,Oa,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Tu(t,e,r,null,n)}}var Oa=null;function lc(t,e,n,r){if(Oa=null,t=mh(r),t=Sr(t),t!==null)if(e=$r(t),e===null)t=null;else if(n=e.tag,n===13){if(t=sg(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Oa=t,null}function _g(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(U0()){case gh:return 1;case cg:return 4;case Va:case j0:return 16;case hg:return 536870912;default:return 16}default:return 16}}var qn=null,Eh=null,ma=null;function Eg(){if(ma)return ma;var t,e=Eh,n=e.length,r,i="value"in qn?qn.value:qn.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return ma=i.slice(t,1<r?1-r:void 0)}function ga(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Js(){return!0}function Ld(){return!1}function Mt(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Js:Ld,this.isPropagationStopped=Ld,this}return Ve(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Js)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Js)},persist:function(){},isPersistent:Js}),e}var Ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wh=Mt(Ui),ds=Ve({},Ui,{view:0,detail:0}),Z0=Mt(ds),du,pu,ho,ml=Ve({},ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Th,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ho&&(ho&&t.type==="mousemove"?(du=t.screenX-ho.screenX,pu=t.screenY-ho.screenY):pu=du=0,ho=t),du)},movementY:function(t){return"movementY"in t?t.movementY:pu}}),bd=Mt(ml),eE=Ve({},ml,{dataTransfer:0}),tE=Mt(eE),nE=Ve({},ds,{relatedTarget:0}),mu=Mt(nE),rE=Ve({},Ui,{animationName:0,elapsedTime:0,pseudoElement:0}),iE=Mt(rE),oE=Ve({},Ui,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),sE=Mt(oE),aE=Ve({},Ui,{data:0}),Fd=Mt(aE),lE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hE(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=cE[t])?!!e[t]:!1}function Th(){return hE}var fE=Ve({},ds,{key:function(t){if(t.key){var e=lE[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ga(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?uE[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Th,charCode:function(t){return t.type==="keypress"?ga(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ga(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),dE=Mt(fE),pE=Ve({},ml,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ud=Mt(pE),mE=Ve({},ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Th}),gE=Mt(mE),yE=Ve({},Ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),vE=Mt(yE),_E=Ve({},ml,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),EE=Mt(_E),wE=[9,13,27,32],Ih=Cn&&"CompositionEvent"in window,Po=null;Cn&&"documentMode"in document&&(Po=document.documentMode);var TE=Cn&&"TextEvent"in window&&!Po,wg=Cn&&(!Ih||Po&&8<Po&&11>=Po),jd=" ",Bd=!1;function Tg(t,e){switch(t){case"keyup":return wE.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ig(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var si=!1;function IE(t,e){switch(t){case"compositionend":return Ig(e);case"keypress":return e.which!==32?null:(Bd=!0,jd);case"textInput":return t=e.data,t===jd&&Bd?null:t;default:return null}}function SE(t,e){if(si)return t==="compositionend"||!Ih&&Tg(t,e)?(t=Eg(),ma=Eh=qn=null,si=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return wg&&e.locale!=="ko"?null:e.data;default:return null}}var AE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!AE[t.type]:e==="textarea"}function Sg(t,e,n,r){tg(r),e=Ma(e,"onChange"),0<e.length&&(n=new wh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Co=null,$o=null;function PE(t){Mg(t,0)}function gl(t){var e=ui(t);if(Km(e))return t}function CE(t,e){if(t==="change")return e}var Ag=!1;if(Cn){var gu;if(Cn){var yu="oninput"in document;if(!yu){var $d=document.createElement("div");$d.setAttribute("oninput","return;"),yu=typeof $d.oninput=="function"}gu=yu}else gu=!1;Ag=gu&&(!document.documentMode||9<document.documentMode)}function Wd(){Co&&(Co.detachEvent("onpropertychange",Pg),$o=Co=null)}function Pg(t){if(t.propertyName==="value"&&gl($o)){var e=[];Sg(e,$o,t,mh(t)),og(PE,e)}}function RE(t,e,n){t==="focusin"?(Wd(),Co=e,$o=n,Co.attachEvent("onpropertychange",Pg)):t==="focusout"&&Wd()}function kE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return gl($o)}function xE(t,e){if(t==="click")return gl(e)}function VE(t,e){if(t==="input"||t==="change")return gl(e)}function DE(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var rn=typeof Object.is=="function"?Object.is:DE;function Wo(t,e){if(rn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Wu.call(e,i)||!rn(t[i],e[i]))return!1}return!0}function qd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Hd(t,e){var n=qd(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=qd(n)}}function Cg(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Cg(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Rg(){for(var t=window,e=Ra();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ra(t.document)}return e}function Sh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function NE(t){var e=Rg(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Cg(n.ownerDocument.documentElement,n)){if(r!==null&&Sh(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Hd(n,o);var a=Hd(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var OE=Cn&&"documentMode"in document&&11>=document.documentMode,ai=null,uc=null,Ro=null,cc=!1;function Qd(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;cc||ai==null||ai!==Ra(r)||(r=ai,"selectionStart"in r&&Sh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ro&&Wo(Ro,r)||(Ro=r,r=Ma(uc,"onSelect"),0<r.length&&(e=new wh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ai)))}function Zs(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var li={animationend:Zs("Animation","AnimationEnd"),animationiteration:Zs("Animation","AnimationIteration"),animationstart:Zs("Animation","AnimationStart"),transitionend:Zs("Transition","TransitionEnd")},vu={},kg={};Cn&&(kg=document.createElement("div").style,"AnimationEvent"in window||(delete li.animationend.animation,delete li.animationiteration.animation,delete li.animationstart.animation),"TransitionEvent"in window||delete li.transitionend.transition);function yl(t){if(vu[t])return vu[t];if(!li[t])return t;var e=li[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in kg)return vu[t]=e[n];return t}var xg=yl("animationend"),Vg=yl("animationiteration"),Dg=yl("animationstart"),Ng=yl("transitionend"),Og=new Map,Kd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fr(t,e){Og.set(t,e),zr(e,[t])}for(var _u=0;_u<Kd.length;_u++){var Eu=Kd[_u],ME=Eu.toLowerCase(),LE=Eu[0].toUpperCase()+Eu.slice(1);fr(ME,"on"+LE)}fr(xg,"onAnimationEnd");fr(Vg,"onAnimationIteration");fr(Dg,"onAnimationStart");fr("dblclick","onDoubleClick");fr("focusin","onFocus");fr("focusout","onBlur");fr(Ng,"onTransitionEnd");Si("onMouseEnter",["mouseout","mouseover"]);Si("onMouseLeave",["mouseout","mouseover"]);Si("onPointerEnter",["pointerout","pointerover"]);Si("onPointerLeave",["pointerout","pointerover"]);zr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zr("onBeforeInput",["compositionend","keypress","textInput","paste"]);zr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bE=new Set("cancel close invalid load scroll toggle".split(" ").concat(Eo));function Gd(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,M0(r,e,void 0,t),t.currentTarget=null}function Mg(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var l=r[a],u=l.instance,h=l.currentTarget;if(l=l.listener,u!==o&&i.isPropagationStopped())break e;Gd(i,l,h),o=u}else for(a=0;a<r.length;a++){if(l=r[a],u=l.instance,h=l.currentTarget,l=l.listener,u!==o&&i.isPropagationStopped())break e;Gd(i,l,h),o=u}}}if(xa)throw t=oc,xa=!1,oc=null,t}function Se(t,e){var n=e[mc];n===void 0&&(n=e[mc]=new Set);var r=t+"__bubble";n.has(r)||(Lg(e,t,2,!1),n.add(r))}function wu(t,e,n){var r=0;e&&(r|=4),Lg(n,t,r,e)}var ea="_reactListening"+Math.random().toString(36).slice(2);function qo(t){if(!t[ea]){t[ea]=!0,$m.forEach(function(n){n!=="selectionchange"&&(bE.has(n)||wu(n,!1,t),wu(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ea]||(e[ea]=!0,wu("selectionchange",!1,e))}}function Lg(t,e,n,r){switch(_g(e)){case 1:var i=Y0;break;case 4:i=J0;break;default:i=_h}n=i.bind(null,e,n,t),i=void 0,!ic||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Tu(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;a=a.return}for(;l!==null;){if(a=Sr(l),a===null)return;if(u=a.tag,u===5||u===6){r=o=a;continue e}l=l.parentNode}}r=r.return}og(function(){var h=o,d=mh(n),m=[];e:{var v=Og.get(t);if(v!==void 0){var P=wh,x=t;switch(t){case"keypress":if(ga(n)===0)break e;case"keydown":case"keyup":P=dE;break;case"focusin":x="focus",P=mu;break;case"focusout":x="blur",P=mu;break;case"beforeblur":case"afterblur":P=mu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=tE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=gE;break;case xg:case Vg:case Dg:P=iE;break;case Ng:P=vE;break;case"scroll":P=Z0;break;case"wheel":P=EE;break;case"copy":case"cut":case"paste":P=sE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=Ud}var O=(e&4)!==0,M=!O&&t==="scroll",S=O?v!==null?v+"Capture":null:v;O=[];for(var g=h,_;g!==null;){_=g;var D=_.stateNode;if(_.tag===5&&D!==null&&(_=D,S!==null&&(D=Uo(g,S),D!=null&&O.push(Ho(g,D,_)))),M)break;g=g.return}0<O.length&&(v=new P(v,x,null,n,d),m.push({event:v,listeners:O}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",P=t==="mouseout"||t==="pointerout",v&&n!==nc&&(x=n.relatedTarget||n.fromElement)&&(Sr(x)||x[Rn]))break e;if((P||v)&&(v=d.window===d?d:(v=d.ownerDocument)?v.defaultView||v.parentWindow:window,P?(x=n.relatedTarget||n.toElement,P=h,x=x?Sr(x):null,x!==null&&(M=$r(x),x!==M||x.tag!==5&&x.tag!==6)&&(x=null)):(P=null,x=h),P!==x)){if(O=bd,D="onMouseLeave",S="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(O=Ud,D="onPointerLeave",S="onPointerEnter",g="pointer"),M=P==null?v:ui(P),_=x==null?v:ui(x),v=new O(D,g+"leave",P,n,d),v.target=M,v.relatedTarget=_,D=null,Sr(d)===h&&(O=new O(S,g+"enter",x,n,d),O.target=_,O.relatedTarget=M,D=O),M=D,P&&x)t:{for(O=P,S=x,g=0,_=O;_;_=Zr(_))g++;for(_=0,D=S;D;D=Zr(D))_++;for(;0<g-_;)O=Zr(O),g--;for(;0<_-g;)S=Zr(S),_--;for(;g--;){if(O===S||S!==null&&O===S.alternate)break t;O=Zr(O),S=Zr(S)}O=null}else O=null;P!==null&&Xd(m,v,P,O,!1),x!==null&&M!==null&&Xd(m,M,x,O,!0)}}e:{if(v=h?ui(h):window,P=v.nodeName&&v.nodeName.toLowerCase(),P==="select"||P==="input"&&v.type==="file")var b=CE;else if(zd(v))if(Ag)b=VE;else{b=kE;var z=RE}else(P=v.nodeName)&&P.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(b=xE);if(b&&(b=b(t,h))){Sg(m,b,n,d);break e}z&&z(t,v,h),t==="focusout"&&(z=v._wrapperState)&&z.controlled&&v.type==="number"&&Yu(v,"number",v.value)}switch(z=h?ui(h):window,t){case"focusin":(zd(z)||z.contentEditable==="true")&&(ai=z,uc=h,Ro=null);break;case"focusout":Ro=uc=ai=null;break;case"mousedown":cc=!0;break;case"contextmenu":case"mouseup":case"dragend":cc=!1,Qd(m,n,d);break;case"selectionchange":if(OE)break;case"keydown":case"keyup":Qd(m,n,d)}var E;if(Ih)e:{switch(t){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else si?Tg(t,n)&&(y="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(wg&&n.locale!=="ko"&&(si||y!=="onCompositionStart"?y==="onCompositionEnd"&&si&&(E=Eg()):(qn=d,Eh="value"in qn?qn.value:qn.textContent,si=!0)),z=Ma(h,y),0<z.length&&(y=new Fd(y,t,null,n,d),m.push({event:y,listeners:z}),E?y.data=E:(E=Ig(n),E!==null&&(y.data=E)))),(E=TE?IE(t,n):SE(t,n))&&(h=Ma(h,"onBeforeInput"),0<h.length&&(d=new Fd("onBeforeInput","beforeinput",null,n,d),m.push({event:d,listeners:h}),d.data=E))}Mg(m,e)})}function Ho(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ma(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Uo(t,n),o!=null&&r.unshift(Ho(t,o,i)),o=Uo(t,e),o!=null&&r.push(Ho(t,o,i))),t=t.return}return r}function Zr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Xd(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var l=n,u=l.alternate,h=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&h!==null&&(l=h,i?(u=Uo(n,o),u!=null&&a.unshift(Ho(n,u,l))):i||(u=Uo(n,o),u!=null&&a.push(Ho(n,u,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var FE=/\r\n?/g,UE=/\u0000|\uFFFD/g;function Yd(t){return(typeof t=="string"?t:""+t).replace(FE,`
`).replace(UE,"")}function ta(t,e,n){if(e=Yd(e),Yd(t)!==e&&n)throw Error(B(425))}function La(){}var hc=null,fc=null;function dc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var pc=typeof setTimeout=="function"?setTimeout:void 0,jE=typeof clearTimeout=="function"?clearTimeout:void 0,Jd=typeof Promise=="function"?Promise:void 0,BE=typeof queueMicrotask=="function"?queueMicrotask:typeof Jd<"u"?function(t){return Jd.resolve(null).then(t).catch(zE)}:pc;function zE(t){setTimeout(function(){throw t})}function Iu(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),zo(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);zo(e)}function Jn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Zd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ji=Math.random().toString(36).slice(2),un="__reactFiber$"+ji,Qo="__reactProps$"+ji,Rn="__reactContainer$"+ji,mc="__reactEvents$"+ji,$E="__reactListeners$"+ji,WE="__reactHandles$"+ji;function Sr(t){var e=t[un];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Rn]||n[un]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Zd(t);t!==null;){if(n=t[un])return n;t=Zd(t)}return e}t=n,n=t.parentNode}return null}function ps(t){return t=t[un]||t[Rn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ui(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function vl(t){return t[Qo]||null}var gc=[],ci=-1;function dr(t){return{current:t}}function Ae(t){0>ci||(t.current=gc[ci],gc[ci]=null,ci--)}function _e(t,e){ci++,gc[ci]=t.current,t.current=e}var lr={},ft=dr(lr),St=dr(!1),Vr=lr;function Ai(t,e){var n=t.type.contextTypes;if(!n)return lr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function At(t){return t=t.childContextTypes,t!=null}function ba(){Ae(St),Ae(ft)}function ep(t,e,n){if(ft.current!==lr)throw Error(B(168));_e(ft,e),_e(St,n)}function bg(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(B(108,R0(t)||"Unknown",i));return Ve({},n,r)}function Fa(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||lr,Vr=ft.current,_e(ft,t),_e(St,St.current),!0}function tp(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=bg(t,e,Vr),r.__reactInternalMemoizedMergedChildContext=t,Ae(St),Ae(ft),_e(ft,t)):Ae(St),_e(St,n)}var In=null,_l=!1,Su=!1;function Fg(t){In===null?In=[t]:In.push(t)}function qE(t){_l=!0,Fg(t)}function pr(){if(!Su&&In!==null){Su=!0;var t=0,e=ge;try{var n=In;for(ge=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}In=null,_l=!1}catch(i){throw In!==null&&(In=In.slice(t+1)),ug(gh,pr),i}finally{ge=e,Su=!1}}return null}var hi=[],fi=0,Ua=null,ja=0,Ut=[],jt=0,Dr=null,Sn=1,An="";function wr(t,e){hi[fi++]=ja,hi[fi++]=Ua,Ua=t,ja=e}function Ug(t,e,n){Ut[jt++]=Sn,Ut[jt++]=An,Ut[jt++]=Dr,Dr=t;var r=Sn;t=An;var i=32-tn(r)-1;r&=~(1<<i),n+=1;var o=32-tn(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Sn=1<<32-tn(e)+i|n<<i|r,An=o+t}else Sn=1<<o|n<<i|r,An=t}function Ah(t){t.return!==null&&(wr(t,1),Ug(t,1,0))}function Ph(t){for(;t===Ua;)Ua=hi[--fi],hi[fi]=null,ja=hi[--fi],hi[fi]=null;for(;t===Dr;)Dr=Ut[--jt],Ut[jt]=null,An=Ut[--jt],Ut[jt]=null,Sn=Ut[--jt],Ut[jt]=null}var Vt=null,kt=null,Re=!1,en=null;function jg(t,e){var n=Bt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function np(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Vt=t,kt=Jn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Vt=t,kt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Dr!==null?{id:Sn,overflow:An}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Bt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Vt=t,kt=null,!0):!1;default:return!1}}function yc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function vc(t){if(Re){var e=kt;if(e){var n=e;if(!np(t,e)){if(yc(t))throw Error(B(418));e=Jn(n.nextSibling);var r=Vt;e&&np(t,e)?jg(r,n):(t.flags=t.flags&-4097|2,Re=!1,Vt=t)}}else{if(yc(t))throw Error(B(418));t.flags=t.flags&-4097|2,Re=!1,Vt=t}}}function rp(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Vt=t}function na(t){if(t!==Vt)return!1;if(!Re)return rp(t),Re=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!dc(t.type,t.memoizedProps)),e&&(e=kt)){if(yc(t))throw Bg(),Error(B(418));for(;e;)jg(t,e),e=Jn(e.nextSibling)}if(rp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){kt=Jn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}kt=null}}else kt=Vt?Jn(t.stateNode.nextSibling):null;return!0}function Bg(){for(var t=kt;t;)t=Jn(t.nextSibling)}function Pi(){kt=Vt=null,Re=!1}function Ch(t){en===null?en=[t]:en.push(t)}var HE=Nn.ReactCurrentBatchConfig;function fo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var l=i.refs;a===null?delete l[o]:l[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function ra(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ip(t){var e=t._init;return e(t._payload)}function zg(t){function e(S,g){if(t){var _=S.deletions;_===null?(S.deletions=[g],S.flags|=16):_.push(g)}}function n(S,g){if(!t)return null;for(;g!==null;)e(S,g),g=g.sibling;return null}function r(S,g){for(S=new Map;g!==null;)g.key!==null?S.set(g.key,g):S.set(g.index,g),g=g.sibling;return S}function i(S,g){return S=nr(S,g),S.index=0,S.sibling=null,S}function o(S,g,_){return S.index=_,t?(_=S.alternate,_!==null?(_=_.index,_<g?(S.flags|=2,g):_):(S.flags|=2,g)):(S.flags|=1048576,g)}function a(S){return t&&S.alternate===null&&(S.flags|=2),S}function l(S,g,_,D){return g===null||g.tag!==6?(g=Vu(_,S.mode,D),g.return=S,g):(g=i(g,_),g.return=S,g)}function u(S,g,_,D){var b=_.type;return b===oi?d(S,g,_.props.children,D,_.key):g!==null&&(g.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Bn&&ip(b)===g.type)?(D=i(g,_.props),D.ref=fo(S,g,_),D.return=S,D):(D=Ia(_.type,_.key,_.props,null,S.mode,D),D.ref=fo(S,g,_),D.return=S,D)}function h(S,g,_,D){return g===null||g.tag!==4||g.stateNode.containerInfo!==_.containerInfo||g.stateNode.implementation!==_.implementation?(g=Du(_,S.mode,D),g.return=S,g):(g=i(g,_.children||[]),g.return=S,g)}function d(S,g,_,D,b){return g===null||g.tag!==7?(g=kr(_,S.mode,D,b),g.return=S,g):(g=i(g,_),g.return=S,g)}function m(S,g,_){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Vu(""+g,S.mode,_),g.return=S,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Hs:return _=Ia(g.type,g.key,g.props,null,S.mode,_),_.ref=fo(S,null,g),_.return=S,_;case ii:return g=Du(g,S.mode,_),g.return=S,g;case Bn:var D=g._init;return m(S,D(g._payload),_)}if(vo(g)||ao(g))return g=kr(g,S.mode,_,null),g.return=S,g;ra(S,g)}return null}function v(S,g,_,D){var b=g!==null?g.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return b!==null?null:l(S,g,""+_,D);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Hs:return _.key===b?u(S,g,_,D):null;case ii:return _.key===b?h(S,g,_,D):null;case Bn:return b=_._init,v(S,g,b(_._payload),D)}if(vo(_)||ao(_))return b!==null?null:d(S,g,_,D,null);ra(S,_)}return null}function P(S,g,_,D,b){if(typeof D=="string"&&D!==""||typeof D=="number")return S=S.get(_)||null,l(g,S,""+D,b);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Hs:return S=S.get(D.key===null?_:D.key)||null,u(g,S,D,b);case ii:return S=S.get(D.key===null?_:D.key)||null,h(g,S,D,b);case Bn:var z=D._init;return P(S,g,_,z(D._payload),b)}if(vo(D)||ao(D))return S=S.get(_)||null,d(g,S,D,b,null);ra(g,D)}return null}function x(S,g,_,D){for(var b=null,z=null,E=g,y=g=0,w=null;E!==null&&y<_.length;y++){E.index>y?(w=E,E=null):w=E.sibling;var T=v(S,E,_[y],D);if(T===null){E===null&&(E=w);break}t&&E&&T.alternate===null&&e(S,E),g=o(T,g,y),z===null?b=T:z.sibling=T,z=T,E=w}if(y===_.length)return n(S,E),Re&&wr(S,y),b;if(E===null){for(;y<_.length;y++)E=m(S,_[y],D),E!==null&&(g=o(E,g,y),z===null?b=E:z.sibling=E,z=E);return Re&&wr(S,y),b}for(E=r(S,E);y<_.length;y++)w=P(E,S,y,_[y],D),w!==null&&(t&&w.alternate!==null&&E.delete(w.key===null?y:w.key),g=o(w,g,y),z===null?b=w:z.sibling=w,z=w);return t&&E.forEach(function(R){return e(S,R)}),Re&&wr(S,y),b}function O(S,g,_,D){var b=ao(_);if(typeof b!="function")throw Error(B(150));if(_=b.call(_),_==null)throw Error(B(151));for(var z=b=null,E=g,y=g=0,w=null,T=_.next();E!==null&&!T.done;y++,T=_.next()){E.index>y?(w=E,E=null):w=E.sibling;var R=v(S,E,T.value,D);if(R===null){E===null&&(E=w);break}t&&E&&R.alternate===null&&e(S,E),g=o(R,g,y),z===null?b=R:z.sibling=R,z=R,E=w}if(T.done)return n(S,E),Re&&wr(S,y),b;if(E===null){for(;!T.done;y++,T=_.next())T=m(S,T.value,D),T!==null&&(g=o(T,g,y),z===null?b=T:z.sibling=T,z=T);return Re&&wr(S,y),b}for(E=r(S,E);!T.done;y++,T=_.next())T=P(E,S,y,T.value,D),T!==null&&(t&&T.alternate!==null&&E.delete(T.key===null?y:T.key),g=o(T,g,y),z===null?b=T:z.sibling=T,z=T);return t&&E.forEach(function(k){return e(S,k)}),Re&&wr(S,y),b}function M(S,g,_,D){if(typeof _=="object"&&_!==null&&_.type===oi&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Hs:e:{for(var b=_.key,z=g;z!==null;){if(z.key===b){if(b=_.type,b===oi){if(z.tag===7){n(S,z.sibling),g=i(z,_.props.children),g.return=S,S=g;break e}}else if(z.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Bn&&ip(b)===z.type){n(S,z.sibling),g=i(z,_.props),g.ref=fo(S,z,_),g.return=S,S=g;break e}n(S,z);break}else e(S,z);z=z.sibling}_.type===oi?(g=kr(_.props.children,S.mode,D,_.key),g.return=S,S=g):(D=Ia(_.type,_.key,_.props,null,S.mode,D),D.ref=fo(S,g,_),D.return=S,S=D)}return a(S);case ii:e:{for(z=_.key;g!==null;){if(g.key===z)if(g.tag===4&&g.stateNode.containerInfo===_.containerInfo&&g.stateNode.implementation===_.implementation){n(S,g.sibling),g=i(g,_.children||[]),g.return=S,S=g;break e}else{n(S,g);break}else e(S,g);g=g.sibling}g=Du(_,S.mode,D),g.return=S,S=g}return a(S);case Bn:return z=_._init,M(S,g,z(_._payload),D)}if(vo(_))return x(S,g,_,D);if(ao(_))return O(S,g,_,D);ra(S,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,g!==null&&g.tag===6?(n(S,g.sibling),g=i(g,_),g.return=S,S=g):(n(S,g),g=Vu(_,S.mode,D),g.return=S,S=g),a(S)):n(S,g)}return M}var Ci=zg(!0),$g=zg(!1),Ba=dr(null),za=null,di=null,Rh=null;function kh(){Rh=di=za=null}function xh(t){var e=Ba.current;Ae(Ba),t._currentValue=e}function _c(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ei(t,e){za=t,Rh=di=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(It=!0),t.firstContext=null)}function $t(t){var e=t._currentValue;if(Rh!==t)if(t={context:t,memoizedValue:e,next:null},di===null){if(za===null)throw Error(B(308));di=t,za.dependencies={lanes:0,firstContext:t}}else di=di.next=t;return e}var Ar=null;function Vh(t){Ar===null?Ar=[t]:Ar.push(t)}function Wg(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Vh(e)):(n.next=i.next,i.next=n),e.interleaved=n,kn(t,r)}function kn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var zn=!1;function Dh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qg(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Pn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Zn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,fe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,kn(t,n)}return i=r.interleaved,i===null?(e.next=e,Vh(r)):(e.next=i.next,i.next=e),r.interleaved=e,kn(t,n)}function ya(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,yh(t,n)}}function op(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function $a(t,e,n,r){var i=t.updateQueue;zn=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,h=u.next;u.next=null,a===null?o=h:a.next=h,a=u;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=h:l.next=h,d.lastBaseUpdate=u))}if(o!==null){var m=i.baseState;a=0,d=h=u=null,l=o;do{var v=l.lane,P=l.eventTime;if((r&v)===v){d!==null&&(d=d.next={eventTime:P,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=t,O=l;switch(v=e,P=n,O.tag){case 1:if(x=O.payload,typeof x=="function"){m=x.call(P,m,v);break e}m=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=O.payload,v=typeof x=="function"?x.call(P,m,v):x,v==null)break e;m=Ve({},m,v);break e;case 2:zn=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,v=i.effects,v===null?i.effects=[l]:v.push(l))}else P={eventTime:P,lane:v,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(h=d=P,u=m):d=d.next=P,a|=v;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;v=l,l=v.next,v.next=null,i.lastBaseUpdate=v,i.shared.pending=null}}while(!0);if(d===null&&(u=m),i.baseState=u,i.firstBaseUpdate=h,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Or|=a,t.lanes=a,t.memoizedState=m}}function sp(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(B(191,i));i.call(r)}}}var ms={},hn=dr(ms),Ko=dr(ms),Go=dr(ms);function Pr(t){if(t===ms)throw Error(B(174));return t}function Nh(t,e){switch(_e(Go,e),_e(Ko,t),_e(hn,ms),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Zu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Zu(e,t)}Ae(hn),_e(hn,e)}function Ri(){Ae(hn),Ae(Ko),Ae(Go)}function Hg(t){Pr(Go.current);var e=Pr(hn.current),n=Zu(e,t.type);e!==n&&(_e(Ko,t),_e(hn,n))}function Oh(t){Ko.current===t&&(Ae(hn),Ae(Ko))}var ke=dr(0);function Wa(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Au=[];function Mh(){for(var t=0;t<Au.length;t++)Au[t]._workInProgressVersionPrimary=null;Au.length=0}var va=Nn.ReactCurrentDispatcher,Pu=Nn.ReactCurrentBatchConfig,Nr=0,xe=null,ze=null,Ke=null,qa=!1,ko=!1,Xo=0,QE=0;function st(){throw Error(B(321))}function Lh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!rn(t[n],e[n]))return!1;return!0}function bh(t,e,n,r,i,o){if(Nr=o,xe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,va.current=t===null||t.memoizedState===null?YE:JE,t=n(r,i),ko){o=0;do{if(ko=!1,Xo=0,25<=o)throw Error(B(301));o+=1,Ke=ze=null,e.updateQueue=null,va.current=ZE,t=n(r,i)}while(ko)}if(va.current=Ha,e=ze!==null&&ze.next!==null,Nr=0,Ke=ze=xe=null,qa=!1,e)throw Error(B(300));return t}function Fh(){var t=Xo!==0;return Xo=0,t}function ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?xe.memoizedState=Ke=t:Ke=Ke.next=t,Ke}function Wt(){if(ze===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=ze.next;var e=Ke===null?xe.memoizedState:Ke.next;if(e!==null)Ke=e,ze=t;else{if(t===null)throw Error(B(310));ze=t,t={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},Ke===null?xe.memoizedState=Ke=t:Ke=Ke.next=t}return Ke}function Yo(t,e){return typeof e=="function"?e(t):e}function Cu(t){var e=Wt(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=ze,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=a=null,u=null,h=o;do{var d=h.lane;if((Nr&d)===d)u!==null&&(u=u.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var m={lane:d,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};u===null?(l=u=m,a=r):u=u.next=m,xe.lanes|=d,Or|=d}h=h.next}while(h!==null&&h!==o);u===null?a=r:u.next=l,rn(r,e.memoizedState)||(It=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,xe.lanes|=o,Or|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ru(t){var e=Wt(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);rn(o,e.memoizedState)||(It=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function Qg(){}function Kg(t,e){var n=xe,r=Wt(),i=e(),o=!rn(r.memoizedState,i);if(o&&(r.memoizedState=i,It=!0),r=r.queue,Uh(Yg.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Ke!==null&&Ke.memoizedState.tag&1){if(n.flags|=2048,Jo(9,Xg.bind(null,n,r,i,e),void 0,null),Ge===null)throw Error(B(349));Nr&30||Gg(n,e,i)}return i}function Gg(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=xe.updateQueue,e===null?(e={lastEffect:null,stores:null},xe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Xg(t,e,n,r){e.value=n,e.getSnapshot=r,Jg(e)&&Zg(t)}function Yg(t,e,n){return n(function(){Jg(e)&&Zg(t)})}function Jg(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!rn(t,n)}catch{return!0}}function Zg(t){var e=kn(t,1);e!==null&&nn(e,t,1,-1)}function ap(t){var e=ln();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yo,lastRenderedState:t},e.queue=t,t=t.dispatch=XE.bind(null,xe,t),[e.memoizedState,t]}function Jo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=xe.updateQueue,e===null?(e={lastEffect:null,stores:null},xe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ey(){return Wt().memoizedState}function _a(t,e,n,r){var i=ln();xe.flags|=t,i.memoizedState=Jo(1|e,n,void 0,r===void 0?null:r)}function El(t,e,n,r){var i=Wt();r=r===void 0?null:r;var o=void 0;if(ze!==null){var a=ze.memoizedState;if(o=a.destroy,r!==null&&Lh(r,a.deps)){i.memoizedState=Jo(e,n,o,r);return}}xe.flags|=t,i.memoizedState=Jo(1|e,n,o,r)}function lp(t,e){return _a(8390656,8,t,e)}function Uh(t,e){return El(2048,8,t,e)}function ty(t,e){return El(4,2,t,e)}function ny(t,e){return El(4,4,t,e)}function ry(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function iy(t,e,n){return n=n!=null?n.concat([t]):null,El(4,4,ry.bind(null,e,t),n)}function jh(){}function oy(t,e){var n=Wt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Lh(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function sy(t,e){var n=Wt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Lh(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ay(t,e,n){return Nr&21?(rn(n,e)||(n=fg(),xe.lanes|=n,Or|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,It=!0),t.memoizedState=n)}function KE(t,e){var n=ge;ge=n!==0&&4>n?n:4,t(!0);var r=Pu.transition;Pu.transition={};try{t(!1),e()}finally{ge=n,Pu.transition=r}}function ly(){return Wt().memoizedState}function GE(t,e,n){var r=tr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},uy(t))cy(e,n);else if(n=Wg(t,e,n,r),n!==null){var i=gt();nn(n,t,r,i),hy(n,e,r)}}function XE(t,e,n){var r=tr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(uy(t))cy(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,l=o(a,n);if(i.hasEagerState=!0,i.eagerState=l,rn(l,a)){var u=e.interleaved;u===null?(i.next=i,Vh(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=Wg(t,e,i,r),n!==null&&(i=gt(),nn(n,t,r,i),hy(n,e,r))}}function uy(t){var e=t.alternate;return t===xe||e!==null&&e===xe}function cy(t,e){ko=qa=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function hy(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,yh(t,n)}}var Ha={readContext:$t,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useInsertionEffect:st,useLayoutEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useMutableSource:st,useSyncExternalStore:st,useId:st,unstable_isNewReconciler:!1},YE={readContext:$t,useCallback:function(t,e){return ln().memoizedState=[t,e===void 0?null:e],t},useContext:$t,useEffect:lp,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,_a(4194308,4,ry.bind(null,e,t),n)},useLayoutEffect:function(t,e){return _a(4194308,4,t,e)},useInsertionEffect:function(t,e){return _a(4,2,t,e)},useMemo:function(t,e){var n=ln();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ln();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=GE.bind(null,xe,t),[r.memoizedState,t]},useRef:function(t){var e=ln();return t={current:t},e.memoizedState=t},useState:ap,useDebugValue:jh,useDeferredValue:function(t){return ln().memoizedState=t},useTransition:function(){var t=ap(!1),e=t[0];return t=KE.bind(null,t[1]),ln().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=xe,i=ln();if(Re){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),Ge===null)throw Error(B(349));Nr&30||Gg(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,lp(Yg.bind(null,r,o,t),[t]),r.flags|=2048,Jo(9,Xg.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=ln(),e=Ge.identifierPrefix;if(Re){var n=An,r=Sn;n=(r&~(1<<32-tn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Xo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=QE++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},JE={readContext:$t,useCallback:oy,useContext:$t,useEffect:Uh,useImperativeHandle:iy,useInsertionEffect:ty,useLayoutEffect:ny,useMemo:sy,useReducer:Cu,useRef:ey,useState:function(){return Cu(Yo)},useDebugValue:jh,useDeferredValue:function(t){var e=Wt();return ay(e,ze.memoizedState,t)},useTransition:function(){var t=Cu(Yo)[0],e=Wt().memoizedState;return[t,e]},useMutableSource:Qg,useSyncExternalStore:Kg,useId:ly,unstable_isNewReconciler:!1},ZE={readContext:$t,useCallback:oy,useContext:$t,useEffect:Uh,useImperativeHandle:iy,useInsertionEffect:ty,useLayoutEffect:ny,useMemo:sy,useReducer:Ru,useRef:ey,useState:function(){return Ru(Yo)},useDebugValue:jh,useDeferredValue:function(t){var e=Wt();return ze===null?e.memoizedState=t:ay(e,ze.memoizedState,t)},useTransition:function(){var t=Ru(Yo)[0],e=Wt().memoizedState;return[t,e]},useMutableSource:Qg,useSyncExternalStore:Kg,useId:ly,unstable_isNewReconciler:!1};function Jt(t,e){if(t&&t.defaultProps){e=Ve({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ec(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ve({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var wl={isMounted:function(t){return(t=t._reactInternals)?$r(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=gt(),i=tr(t),o=Pn(r,i);o.payload=e,n!=null&&(o.callback=n),e=Zn(t,o,i),e!==null&&(nn(e,t,i,r),ya(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=gt(),i=tr(t),o=Pn(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Zn(t,o,i),e!==null&&(nn(e,t,i,r),ya(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=gt(),r=tr(t),i=Pn(n,r);i.tag=2,e!=null&&(i.callback=e),e=Zn(t,i,r),e!==null&&(nn(e,t,r,n),ya(e,t,r))}};function up(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!Wo(n,r)||!Wo(i,o):!0}function fy(t,e,n){var r=!1,i=lr,o=e.contextType;return typeof o=="object"&&o!==null?o=$t(o):(i=At(e)?Vr:ft.current,r=e.contextTypes,o=(r=r!=null)?Ai(t,i):lr),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=wl,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function cp(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&wl.enqueueReplaceState(e,e.state,null)}function wc(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Dh(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=$t(o):(o=At(e)?Vr:ft.current,i.context=Ai(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Ec(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&wl.enqueueReplaceState(i,i.state,null),$a(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ki(t,e){try{var n="",r=e;do n+=C0(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function ku(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Tc(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var ew=typeof WeakMap=="function"?WeakMap:Map;function dy(t,e,n){n=Pn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ka||(Ka=!0,Dc=r),Tc(t,e)},n}function py(t,e,n){n=Pn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Tc(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Tc(t,e),typeof r!="function"&&(er===null?er=new Set([this]):er.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function hp(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new ew;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=pw.bind(null,t,e,n),e.then(t,t))}function fp(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function dp(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Pn(-1,1),e.tag=2,Zn(n,e,1))),n.lanes|=1),t)}var tw=Nn.ReactCurrentOwner,It=!1;function mt(t,e,n,r){e.child=t===null?$g(e,null,n,r):Ci(e,t.child,n,r)}function pp(t,e,n,r,i){n=n.render;var o=e.ref;return Ei(e,i),r=bh(t,e,n,r,o,i),n=Fh(),t!==null&&!It?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,xn(t,e,i)):(Re&&n&&Ah(e),e.flags|=1,mt(t,e,r,i),e.child)}function mp(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Kh(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,my(t,e,o,r,i)):(t=Ia(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Wo,n(a,r)&&t.ref===e.ref)return xn(t,e,i)}return e.flags|=1,t=nr(o,r),t.ref=e.ref,t.return=e,e.child=t}function my(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Wo(o,r)&&t.ref===e.ref)if(It=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(It=!0);else return e.lanes=t.lanes,xn(t,e,i)}return Ic(t,e,n,r,i)}function gy(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e(mi,Rt),Rt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,_e(mi,Rt),Rt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,_e(mi,Rt),Rt|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,_e(mi,Rt),Rt|=r;return mt(t,e,i,n),e.child}function yy(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ic(t,e,n,r,i){var o=At(n)?Vr:ft.current;return o=Ai(e,o),Ei(e,i),n=bh(t,e,n,r,o,i),r=Fh(),t!==null&&!It?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,xn(t,e,i)):(Re&&r&&Ah(e),e.flags|=1,mt(t,e,n,i),e.child)}function gp(t,e,n,r,i){if(At(n)){var o=!0;Fa(e)}else o=!1;if(Ei(e,i),e.stateNode===null)Ea(t,e),fy(e,n,r),wc(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var u=a.context,h=n.contextType;typeof h=="object"&&h!==null?h=$t(h):(h=At(n)?Vr:ft.current,h=Ai(e,h));var d=n.getDerivedStateFromProps,m=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";m||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||u!==h)&&cp(e,a,r,h),zn=!1;var v=e.memoizedState;a.state=v,$a(e,r,a,i),u=e.memoizedState,l!==r||v!==u||St.current||zn?(typeof d=="function"&&(Ec(e,n,d,r),u=e.memoizedState),(l=zn||up(e,n,l,r,v,u,h))?(m||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=h,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,qg(t,e),l=e.memoizedProps,h=e.type===e.elementType?l:Jt(e.type,l),a.props=h,m=e.pendingProps,v=a.context,u=n.contextType,typeof u=="object"&&u!==null?u=$t(u):(u=At(n)?Vr:ft.current,u=Ai(e,u));var P=n.getDerivedStateFromProps;(d=typeof P=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==m||v!==u)&&cp(e,a,r,u),zn=!1,v=e.memoizedState,a.state=v,$a(e,r,a,i);var x=e.memoizedState;l!==m||v!==x||St.current||zn?(typeof P=="function"&&(Ec(e,n,P,r),x=e.memoizedState),(h=zn||up(e,n,h,r,v,x,u)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,x,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,x,u)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),a.props=r,a.state=x,a.context=u,r=h):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),r=!1)}return Sc(t,e,n,r,o,i)}function Sc(t,e,n,r,i,o){yy(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&tp(e,n,!1),xn(t,e,o);r=e.stateNode,tw.current=e;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Ci(e,t.child,null,o),e.child=Ci(e,null,l,o)):mt(t,e,l,o),e.memoizedState=r.state,i&&tp(e,n,!0),e.child}function vy(t){var e=t.stateNode;e.pendingContext?ep(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ep(t,e.context,!1),Nh(t,e.containerInfo)}function yp(t,e,n,r,i){return Pi(),Ch(i),e.flags|=256,mt(t,e,n,r),e.child}var Ac={dehydrated:null,treeContext:null,retryLane:0};function Pc(t){return{baseLanes:t,cachePool:null,transitions:null}}function _y(t,e,n){var r=e.pendingProps,i=ke.current,o=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),_e(ke,i&1),t===null)return vc(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Sl(a,r,0,null),t=kr(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Pc(n),e.memoizedState=Ac,t):Bh(e,a));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return nw(t,e,a,r,l,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=nr(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=nr(l,o):(o=kr(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?Pc(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=Ac,r}return o=t.child,t=o.sibling,r=nr(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Bh(t,e){return e=Sl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ia(t,e,n,r){return r!==null&&Ch(r),Ci(e,t.child,null,n),t=Bh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function nw(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=ku(Error(B(422))),ia(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Sl({mode:"visible",children:r.children},i,0,null),o=kr(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Ci(e,t.child,null,a),e.child.memoizedState=Pc(a),e.memoizedState=Ac,o);if(!(e.mode&1))return ia(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(B(419)),r=ku(o,r,void 0),ia(t,e,a,r)}if(l=(a&t.childLanes)!==0,It||l){if(r=Ge,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,kn(t,i),nn(r,t,i,-1))}return Qh(),r=ku(Error(B(421))),ia(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=mw.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,kt=Jn(i.nextSibling),Vt=e,Re=!0,en=null,t!==null&&(Ut[jt++]=Sn,Ut[jt++]=An,Ut[jt++]=Dr,Sn=t.id,An=t.overflow,Dr=e),e=Bh(e,r.children),e.flags|=4096,e)}function vp(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),_c(t.return,e,n)}function xu(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Ey(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(mt(t,e,r.children,n),r=ke.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&vp(t,n,e);else if(t.tag===19)vp(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(_e(ke,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Wa(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),xu(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Wa(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}xu(e,!0,n,null,o);break;case"together":xu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ea(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function xn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Or|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=nr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=nr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function rw(t,e,n){switch(e.tag){case 3:vy(e),Pi();break;case 5:Hg(e);break;case 1:At(e.type)&&Fa(e);break;case 4:Nh(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;_e(Ba,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(_e(ke,ke.current&1),e.flags|=128,null):n&e.child.childLanes?_y(t,e,n):(_e(ke,ke.current&1),t=xn(t,e,n),t!==null?t.sibling:null);_e(ke,ke.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Ey(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),_e(ke,ke.current),r)break;return null;case 22:case 23:return e.lanes=0,gy(t,e,n)}return xn(t,e,n)}var wy,Cc,Ty,Iy;wy=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Cc=function(){};Ty=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Pr(hn.current);var o=null;switch(n){case"input":i=Gu(t,i),r=Gu(t,r),o=[];break;case"select":i=Ve({},i,{value:void 0}),r=Ve({},r,{value:void 0}),o=[];break;case"textarea":i=Ju(t,i),r=Ju(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=La)}ec(n,r);var a;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var l=i[h];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(bo.hasOwnProperty(h)?o||(o=[]):(o=o||[]).push(h,null));for(h in r){var u=r[h];if(l=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&u!==l&&(u!=null||l!=null))if(h==="style")if(l){for(a in l)!l.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&l[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(o||(o=[]),o.push(h,n)),n=u;else h==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(o=o||[]).push(h,u)):h==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(h,""+u):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(bo.hasOwnProperty(h)?(u!=null&&h==="onScroll"&&Se("scroll",t),o||l===u||(o=[])):(o=o||[]).push(h,u))}n&&(o=o||[]).push("style",n);var h=o;(e.updateQueue=h)&&(e.flags|=4)}};Iy=function(t,e,n,r){n!==r&&(e.flags|=4)};function po(t,e){if(!Re)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function at(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function iw(t,e,n){var r=e.pendingProps;switch(Ph(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(e),null;case 1:return At(e.type)&&ba(),at(e),null;case 3:return r=e.stateNode,Ri(),Ae(St),Ae(ft),Mh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(na(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,en!==null&&(Mc(en),en=null))),Cc(t,e),at(e),null;case 5:Oh(e);var i=Pr(Go.current);if(n=e.type,t!==null&&e.stateNode!=null)Ty(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return at(e),null}if(t=Pr(hn.current),na(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[un]=e,r[Qo]=o,t=(e.mode&1)!==0,n){case"dialog":Se("cancel",r),Se("close",r);break;case"iframe":case"object":case"embed":Se("load",r);break;case"video":case"audio":for(i=0;i<Eo.length;i++)Se(Eo[i],r);break;case"source":Se("error",r);break;case"img":case"image":case"link":Se("error",r),Se("load",r);break;case"details":Se("toggle",r);break;case"input":Cd(r,o),Se("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Se("invalid",r);break;case"textarea":kd(r,o),Se("invalid",r)}ec(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&ta(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&ta(r.textContent,l,t),i=["children",""+l]):bo.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Se("scroll",r)}switch(n){case"input":Qs(r),Rd(r,o,!0);break;case"textarea":Qs(r),xd(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=La)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ym(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[un]=e,t[Qo]=r,wy(t,e,!1,!1),e.stateNode=t;e:{switch(a=tc(n,r),n){case"dialog":Se("cancel",t),Se("close",t),i=r;break;case"iframe":case"object":case"embed":Se("load",t),i=r;break;case"video":case"audio":for(i=0;i<Eo.length;i++)Se(Eo[i],t);i=r;break;case"source":Se("error",t),i=r;break;case"img":case"image":case"link":Se("error",t),Se("load",t),i=r;break;case"details":Se("toggle",t),i=r;break;case"input":Cd(t,r),i=Gu(t,r),Se("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ve({},r,{value:void 0}),Se("invalid",t);break;case"textarea":kd(t,r),i=Ju(t,r),Se("invalid",t);break;default:i=r}ec(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var u=l[o];o==="style"?eg(t,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Jm(t,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Fo(t,u):typeof u=="number"&&Fo(t,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(bo.hasOwnProperty(o)?u!=null&&o==="onScroll"&&Se("scroll",t):u!=null&&hh(t,o,u,a))}switch(n){case"input":Qs(t),Rd(t,r,!1);break;case"textarea":Qs(t),xd(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ar(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?gi(t,!!r.multiple,o,!1):r.defaultValue!=null&&gi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=La)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return at(e),null;case 6:if(t&&e.stateNode!=null)Iy(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=Pr(Go.current),Pr(hn.current),na(e)){if(r=e.stateNode,n=e.memoizedProps,r[un]=e,(o=r.nodeValue!==n)&&(t=Vt,t!==null))switch(t.tag){case 3:ta(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ta(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[un]=e,e.stateNode=r}return at(e),null;case 13:if(Ae(ke),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Re&&kt!==null&&e.mode&1&&!(e.flags&128))Bg(),Pi(),e.flags|=98560,o=!1;else if(o=na(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(B(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(B(317));o[un]=e}else Pi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;at(e),o=!1}else en!==null&&(Mc(en),en=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ke.current&1?We===0&&(We=3):Qh())),e.updateQueue!==null&&(e.flags|=4),at(e),null);case 4:return Ri(),Cc(t,e),t===null&&qo(e.stateNode.containerInfo),at(e),null;case 10:return xh(e.type._context),at(e),null;case 17:return At(e.type)&&ba(),at(e),null;case 19:if(Ae(ke),o=e.memoizedState,o===null)return at(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)po(o,!1);else{if(We!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Wa(t),a!==null){for(e.flags|=128,po(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return _e(ke,ke.current&1|2),e.child}t=t.sibling}o.tail!==null&&Le()>xi&&(e.flags|=128,r=!0,po(o,!1),e.lanes=4194304)}else{if(!r)if(t=Wa(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),po(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!Re)return at(e),null}else 2*Le()-o.renderingStartTime>xi&&n!==1073741824&&(e.flags|=128,r=!0,po(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Le(),e.sibling=null,n=ke.current,_e(ke,r?n&1|2:n&1),e):(at(e),null);case 22:case 23:return Hh(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Rt&1073741824&&(at(e),e.subtreeFlags&6&&(e.flags|=8192)):at(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function ow(t,e){switch(Ph(e),e.tag){case 1:return At(e.type)&&ba(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ri(),Ae(St),Ae(ft),Mh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Oh(e),null;case 13:if(Ae(ke),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));Pi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ae(ke),null;case 4:return Ri(),null;case 10:return xh(e.type._context),null;case 22:case 23:return Hh(),null;case 24:return null;default:return null}}var oa=!1,ct=!1,sw=typeof WeakSet=="function"?WeakSet:Set,Q=null;function pi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Oe(t,e,r)}else n.current=null}function Rc(t,e,n){try{n()}catch(r){Oe(t,e,r)}}var _p=!1;function aw(t,e){if(hc=Na,t=Rg(),Sh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,l=-1,u=-1,h=0,d=0,m=t,v=null;t:for(;;){for(var P;m!==n||i!==0&&m.nodeType!==3||(l=a+i),m!==o||r!==0&&m.nodeType!==3||(u=a+r),m.nodeType===3&&(a+=m.nodeValue.length),(P=m.firstChild)!==null;)v=m,m=P;for(;;){if(m===t)break t;if(v===n&&++h===i&&(l=a),v===o&&++d===r&&(u=a),(P=m.nextSibling)!==null)break;m=v,v=m.parentNode}m=P}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(fc={focusedElem:t,selectionRange:n},Na=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var O=x.memoizedProps,M=x.memoizedState,S=e.stateNode,g=S.getSnapshotBeforeUpdate(e.elementType===e.type?O:Jt(e.type,O),M);S.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(D){Oe(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return x=_p,_p=!1,x}function xo(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Rc(e,n,o)}i=i.next}while(i!==r)}}function Tl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function kc(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Sy(t){var e=t.alternate;e!==null&&(t.alternate=null,Sy(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[un],delete e[Qo],delete e[mc],delete e[$E],delete e[WE])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Ay(t){return t.tag===5||t.tag===3||t.tag===4}function Ep(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ay(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=La));else if(r!==4&&(t=t.child,t!==null))for(xc(t,e,n),t=t.sibling;t!==null;)xc(t,e,n),t=t.sibling}function Vc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Vc(t,e,n),t=t.sibling;t!==null;)Vc(t,e,n),t=t.sibling}var Je=null,Zt=!1;function jn(t,e,n){for(n=n.child;n!==null;)Py(t,e,n),n=n.sibling}function Py(t,e,n){if(cn&&typeof cn.onCommitFiberUnmount=="function")try{cn.onCommitFiberUnmount(pl,n)}catch{}switch(n.tag){case 5:ct||pi(n,e);case 6:var r=Je,i=Zt;Je=null,jn(t,e,n),Je=r,Zt=i,Je!==null&&(Zt?(t=Je,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Je.removeChild(n.stateNode));break;case 18:Je!==null&&(Zt?(t=Je,n=n.stateNode,t.nodeType===8?Iu(t.parentNode,n):t.nodeType===1&&Iu(t,n),zo(t)):Iu(Je,n.stateNode));break;case 4:r=Je,i=Zt,Je=n.stateNode.containerInfo,Zt=!0,jn(t,e,n),Je=r,Zt=i;break;case 0:case 11:case 14:case 15:if(!ct&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Rc(n,e,a),i=i.next}while(i!==r)}jn(t,e,n);break;case 1:if(!ct&&(pi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Oe(n,e,l)}jn(t,e,n);break;case 21:jn(t,e,n);break;case 22:n.mode&1?(ct=(r=ct)||n.memoizedState!==null,jn(t,e,n),ct=r):jn(t,e,n);break;default:jn(t,e,n)}}function wp(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new sw),e.forEach(function(r){var i=gw.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Yt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:Je=l.stateNode,Zt=!1;break e;case 3:Je=l.stateNode.containerInfo,Zt=!0;break e;case 4:Je=l.stateNode.containerInfo,Zt=!0;break e}l=l.return}if(Je===null)throw Error(B(160));Py(o,a,i),Je=null,Zt=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(h){Oe(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Cy(e,t),e=e.sibling}function Cy(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Yt(e,t),an(t),r&4){try{xo(3,t,t.return),Tl(3,t)}catch(O){Oe(t,t.return,O)}try{xo(5,t,t.return)}catch(O){Oe(t,t.return,O)}}break;case 1:Yt(e,t),an(t),r&512&&n!==null&&pi(n,n.return);break;case 5:if(Yt(e,t),an(t),r&512&&n!==null&&pi(n,n.return),t.flags&32){var i=t.stateNode;try{Fo(i,"")}catch(O){Oe(t,t.return,O)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Gm(i,o),tc(l,a);var h=tc(l,o);for(a=0;a<u.length;a+=2){var d=u[a],m=u[a+1];d==="style"?eg(i,m):d==="dangerouslySetInnerHTML"?Jm(i,m):d==="children"?Fo(i,m):hh(i,d,m,h)}switch(l){case"input":Xu(i,o);break;case"textarea":Xm(i,o);break;case"select":var v=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var P=o.value;P!=null?gi(i,!!o.multiple,P,!1):v!==!!o.multiple&&(o.defaultValue!=null?gi(i,!!o.multiple,o.defaultValue,!0):gi(i,!!o.multiple,o.multiple?[]:"",!1))}i[Qo]=o}catch(O){Oe(t,t.return,O)}}break;case 6:if(Yt(e,t),an(t),r&4){if(t.stateNode===null)throw Error(B(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(O){Oe(t,t.return,O)}}break;case 3:if(Yt(e,t),an(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{zo(e.containerInfo)}catch(O){Oe(t,t.return,O)}break;case 4:Yt(e,t),an(t);break;case 13:Yt(e,t),an(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Wh=Le())),r&4&&wp(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(ct=(h=ct)||d,Yt(e,t),ct=h):Yt(e,t),an(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!d&&t.mode&1)for(Q=t,d=t.child;d!==null;){for(m=Q=d;Q!==null;){switch(v=Q,P=v.child,v.tag){case 0:case 11:case 14:case 15:xo(4,v,v.return);break;case 1:pi(v,v.return);var x=v.stateNode;if(typeof x.componentWillUnmount=="function"){r=v,n=v.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(O){Oe(r,n,O)}}break;case 5:pi(v,v.return);break;case 22:if(v.memoizedState!==null){Ip(m);continue}}P!==null?(P.return=v,Q=P):Ip(m)}d=d.sibling}e:for(d=null,m=t;;){if(m.tag===5){if(d===null){d=m;try{i=m.stateNode,h?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=m.stateNode,u=m.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=Zm("display",a))}catch(O){Oe(t,t.return,O)}}}else if(m.tag===6){if(d===null)try{m.stateNode.nodeValue=h?"":m.memoizedProps}catch(O){Oe(t,t.return,O)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;d===m&&(d=null),m=m.return}d===m&&(d=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Yt(e,t),an(t),r&4&&wp(t);break;case 21:break;default:Yt(e,t),an(t)}}function an(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Ay(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Fo(i,""),r.flags&=-33);var o=Ep(t);Vc(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,l=Ep(t);xc(t,l,a);break;default:throw Error(B(161))}}catch(u){Oe(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function lw(t,e,n){Q=t,Ry(t)}function Ry(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var i=Q,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||oa;if(!a){var l=i.alternate,u=l!==null&&l.memoizedState!==null||ct;l=oa;var h=ct;if(oa=a,(ct=u)&&!h)for(Q=i;Q!==null;)a=Q,u=a.child,a.tag===22&&a.memoizedState!==null?Sp(i):u!==null?(u.return=a,Q=u):Sp(i);for(;o!==null;)Q=o,Ry(o),o=o.sibling;Q=i,oa=l,ct=h}Tp(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Q=o):Tp(t)}}function Tp(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ct||Tl(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ct)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Jt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&sp(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}sp(e,a,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var d=h.memoizedState;if(d!==null){var m=d.dehydrated;m!==null&&zo(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}ct||e.flags&512&&kc(e)}catch(v){Oe(e,e.return,v)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function Ip(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function Sp(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Tl(4,e)}catch(u){Oe(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Oe(e,i,u)}}var o=e.return;try{kc(e)}catch(u){Oe(e,o,u)}break;case 5:var a=e.return;try{kc(e)}catch(u){Oe(e,a,u)}}}catch(u){Oe(e,e.return,u)}if(e===t){Q=null;break}var l=e.sibling;if(l!==null){l.return=e.return,Q=l;break}Q=e.return}}var uw=Math.ceil,Qa=Nn.ReactCurrentDispatcher,zh=Nn.ReactCurrentOwner,zt=Nn.ReactCurrentBatchConfig,fe=0,Ge=null,Ue=null,tt=0,Rt=0,mi=dr(0),We=0,Zo=null,Or=0,Il=0,$h=0,Vo=null,wt=null,Wh=0,xi=1/0,Tn=null,Ka=!1,Dc=null,er=null,sa=!1,Hn=null,Ga=0,Do=0,Nc=null,wa=-1,Ta=0;function gt(){return fe&6?Le():wa!==-1?wa:wa=Le()}function tr(t){return t.mode&1?fe&2&&tt!==0?tt&-tt:HE.transition!==null?(Ta===0&&(Ta=fg()),Ta):(t=ge,t!==0||(t=window.event,t=t===void 0?16:_g(t.type)),t):1}function nn(t,e,n,r){if(50<Do)throw Do=0,Nc=null,Error(B(185));fs(t,n,r),(!(fe&2)||t!==Ge)&&(t===Ge&&(!(fe&2)&&(Il|=n),We===4&&Wn(t,tt)),Pt(t,r),n===1&&fe===0&&!(e.mode&1)&&(xi=Le()+500,_l&&pr()))}function Pt(t,e){var n=t.callbackNode;H0(t,e);var r=Da(t,t===Ge?tt:0);if(r===0)n!==null&&Nd(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Nd(n),e===1)t.tag===0?qE(Ap.bind(null,t)):Fg(Ap.bind(null,t)),BE(function(){!(fe&6)&&pr()}),n=null;else{switch(dg(r)){case 1:n=gh;break;case 4:n=cg;break;case 16:n=Va;break;case 536870912:n=hg;break;default:n=Va}n=Ly(n,ky.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ky(t,e){if(wa=-1,Ta=0,fe&6)throw Error(B(327));var n=t.callbackNode;if(wi()&&t.callbackNode!==n)return null;var r=Da(t,t===Ge?tt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Xa(t,r);else{e=r;var i=fe;fe|=2;var o=Vy();(Ge!==t||tt!==e)&&(Tn=null,xi=Le()+500,Rr(t,e));do try{fw();break}catch(l){xy(t,l)}while(!0);kh(),Qa.current=o,fe=i,Ue!==null?e=0:(Ge=null,tt=0,e=We)}if(e!==0){if(e===2&&(i=sc(t),i!==0&&(r=i,e=Oc(t,i))),e===1)throw n=Zo,Rr(t,0),Wn(t,r),Pt(t,Le()),n;if(e===6)Wn(t,r);else{if(i=t.current.alternate,!(r&30)&&!cw(i)&&(e=Xa(t,r),e===2&&(o=sc(t),o!==0&&(r=o,e=Oc(t,o))),e===1))throw n=Zo,Rr(t,0),Wn(t,r),Pt(t,Le()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:Tr(t,wt,Tn);break;case 3:if(Wn(t,r),(r&130023424)===r&&(e=Wh+500-Le(),10<e)){if(Da(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){gt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=pc(Tr.bind(null,t,wt,Tn),e);break}Tr(t,wt,Tn);break;case 4:if(Wn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-tn(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=Le()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*uw(r/1960))-r,10<r){t.timeoutHandle=pc(Tr.bind(null,t,wt,Tn),r);break}Tr(t,wt,Tn);break;case 5:Tr(t,wt,Tn);break;default:throw Error(B(329))}}}return Pt(t,Le()),t.callbackNode===n?ky.bind(null,t):null}function Oc(t,e){var n=Vo;return t.current.memoizedState.isDehydrated&&(Rr(t,e).flags|=256),t=Xa(t,e),t!==2&&(e=wt,wt=n,e!==null&&Mc(e)),t}function Mc(t){wt===null?wt=t:wt.push.apply(wt,t)}function cw(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!rn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Wn(t,e){for(e&=~$h,e&=~Il,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-tn(e),r=1<<n;t[n]=-1,e&=~r}}function Ap(t){if(fe&6)throw Error(B(327));wi();var e=Da(t,0);if(!(e&1))return Pt(t,Le()),null;var n=Xa(t,e);if(t.tag!==0&&n===2){var r=sc(t);r!==0&&(e=r,n=Oc(t,r))}if(n===1)throw n=Zo,Rr(t,0),Wn(t,e),Pt(t,Le()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Tr(t,wt,Tn),Pt(t,Le()),null}function qh(t,e){var n=fe;fe|=1;try{return t(e)}finally{fe=n,fe===0&&(xi=Le()+500,_l&&pr())}}function Mr(t){Hn!==null&&Hn.tag===0&&!(fe&6)&&wi();var e=fe;fe|=1;var n=zt.transition,r=ge;try{if(zt.transition=null,ge=1,t)return t()}finally{ge=r,zt.transition=n,fe=e,!(fe&6)&&pr()}}function Hh(){Rt=mi.current,Ae(mi)}function Rr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,jE(n)),Ue!==null)for(n=Ue.return;n!==null;){var r=n;switch(Ph(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ba();break;case 3:Ri(),Ae(St),Ae(ft),Mh();break;case 5:Oh(r);break;case 4:Ri();break;case 13:Ae(ke);break;case 19:Ae(ke);break;case 10:xh(r.type._context);break;case 22:case 23:Hh()}n=n.return}if(Ge=t,Ue=t=nr(t.current,null),tt=Rt=e,We=0,Zo=null,$h=Il=Or=0,wt=Vo=null,Ar!==null){for(e=0;e<Ar.length;e++)if(n=Ar[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}Ar=null}return t}function xy(t,e){do{var n=Ue;try{if(kh(),va.current=Ha,qa){for(var r=xe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}qa=!1}if(Nr=0,Ke=ze=xe=null,ko=!1,Xo=0,zh.current=null,n===null||n.return===null){We=1,Zo=e,Ue=null;break}e:{var o=t,a=n.return,l=n,u=e;if(e=tt,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=u,d=l,m=d.tag;if(!(d.mode&1)&&(m===0||m===11||m===15)){var v=d.alternate;v?(d.updateQueue=v.updateQueue,d.memoizedState=v.memoizedState,d.lanes=v.lanes):(d.updateQueue=null,d.memoizedState=null)}var P=fp(a);if(P!==null){P.flags&=-257,dp(P,a,l,o,e),P.mode&1&&hp(o,h,e),e=P,u=h;var x=e.updateQueue;if(x===null){var O=new Set;O.add(u),e.updateQueue=O}else x.add(u);break e}else{if(!(e&1)){hp(o,h,e),Qh();break e}u=Error(B(426))}}else if(Re&&l.mode&1){var M=fp(a);if(M!==null){!(M.flags&65536)&&(M.flags|=256),dp(M,a,l,o,e),Ch(ki(u,l));break e}}o=u=ki(u,l),We!==4&&(We=2),Vo===null?Vo=[o]:Vo.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var S=dy(o,u,e);op(o,S);break e;case 1:l=u;var g=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(er===null||!er.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e;var D=py(o,l,e);op(o,D);break e}}o=o.return}while(o!==null)}Ny(n)}catch(b){e=b,Ue===n&&n!==null&&(Ue=n=n.return);continue}break}while(!0)}function Vy(){var t=Qa.current;return Qa.current=Ha,t===null?Ha:t}function Qh(){(We===0||We===3||We===2)&&(We=4),Ge===null||!(Or&268435455)&&!(Il&268435455)||Wn(Ge,tt)}function Xa(t,e){var n=fe;fe|=2;var r=Vy();(Ge!==t||tt!==e)&&(Tn=null,Rr(t,e));do try{hw();break}catch(i){xy(t,i)}while(!0);if(kh(),fe=n,Qa.current=r,Ue!==null)throw Error(B(261));return Ge=null,tt=0,We}function hw(){for(;Ue!==null;)Dy(Ue)}function fw(){for(;Ue!==null&&!b0();)Dy(Ue)}function Dy(t){var e=My(t.alternate,t,Rt);t.memoizedProps=t.pendingProps,e===null?Ny(t):Ue=e,zh.current=null}function Ny(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=ow(n,e),n!==null){n.flags&=32767,Ue=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{We=6,Ue=null;return}}else if(n=iw(n,e,Rt),n!==null){Ue=n;return}if(e=e.sibling,e!==null){Ue=e;return}Ue=e=t}while(e!==null);We===0&&(We=5)}function Tr(t,e,n){var r=ge,i=zt.transition;try{zt.transition=null,ge=1,dw(t,e,n,r)}finally{zt.transition=i,ge=r}return null}function dw(t,e,n,r){do wi();while(Hn!==null);if(fe&6)throw Error(B(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(Q0(t,o),t===Ge&&(Ue=Ge=null,tt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||sa||(sa=!0,Ly(Va,function(){return wi(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=zt.transition,zt.transition=null;var a=ge;ge=1;var l=fe;fe|=4,zh.current=null,aw(t,n),Cy(n,t),NE(fc),Na=!!hc,fc=hc=null,t.current=n,lw(n),F0(),fe=l,ge=a,zt.transition=o}else t.current=n;if(sa&&(sa=!1,Hn=t,Ga=i),o=t.pendingLanes,o===0&&(er=null),B0(n.stateNode),Pt(t,Le()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ka)throw Ka=!1,t=Dc,Dc=null,t;return Ga&1&&t.tag!==0&&wi(),o=t.pendingLanes,o&1?t===Nc?Do++:(Do=0,Nc=t):Do=0,pr(),null}function wi(){if(Hn!==null){var t=dg(Ga),e=zt.transition,n=ge;try{if(zt.transition=null,ge=16>t?16:t,Hn===null)var r=!1;else{if(t=Hn,Hn=null,Ga=0,fe&6)throw Error(B(331));var i=fe;for(fe|=4,Q=t.current;Q!==null;){var o=Q,a=o.child;if(Q.flags&16){var l=o.deletions;if(l!==null){for(var u=0;u<l.length;u++){var h=l[u];for(Q=h;Q!==null;){var d=Q;switch(d.tag){case 0:case 11:case 15:xo(8,d,o)}var m=d.child;if(m!==null)m.return=d,Q=m;else for(;Q!==null;){d=Q;var v=d.sibling,P=d.return;if(Sy(d),d===h){Q=null;break}if(v!==null){v.return=P,Q=v;break}Q=P}}}var x=o.alternate;if(x!==null){var O=x.child;if(O!==null){x.child=null;do{var M=O.sibling;O.sibling=null,O=M}while(O!==null)}}Q=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,Q=a;else e:for(;Q!==null;){if(o=Q,o.flags&2048)switch(o.tag){case 0:case 11:case 15:xo(9,o,o.return)}var S=o.sibling;if(S!==null){S.return=o.return,Q=S;break e}Q=o.return}}var g=t.current;for(Q=g;Q!==null;){a=Q;var _=a.child;if(a.subtreeFlags&2064&&_!==null)_.return=a,Q=_;else e:for(a=g;Q!==null;){if(l=Q,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Tl(9,l)}}catch(b){Oe(l,l.return,b)}if(l===a){Q=null;break e}var D=l.sibling;if(D!==null){D.return=l.return,Q=D;break e}Q=l.return}}if(fe=i,pr(),cn&&typeof cn.onPostCommitFiberRoot=="function")try{cn.onPostCommitFiberRoot(pl,t)}catch{}r=!0}return r}finally{ge=n,zt.transition=e}}return!1}function Pp(t,e,n){e=ki(n,e),e=dy(t,e,1),t=Zn(t,e,1),e=gt(),t!==null&&(fs(t,1,e),Pt(t,e))}function Oe(t,e,n){if(t.tag===3)Pp(t,t,n);else for(;e!==null;){if(e.tag===3){Pp(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(er===null||!er.has(r))){t=ki(n,t),t=py(e,t,1),e=Zn(e,t,1),t=gt(),e!==null&&(fs(e,1,t),Pt(e,t));break}}e=e.return}}function pw(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=gt(),t.pingedLanes|=t.suspendedLanes&n,Ge===t&&(tt&n)===n&&(We===4||We===3&&(tt&130023424)===tt&&500>Le()-Wh?Rr(t,0):$h|=n),Pt(t,e)}function Oy(t,e){e===0&&(t.mode&1?(e=Xs,Xs<<=1,!(Xs&130023424)&&(Xs=4194304)):e=1);var n=gt();t=kn(t,e),t!==null&&(fs(t,e,n),Pt(t,n))}function mw(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Oy(t,n)}function gw(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),Oy(t,n)}var My;My=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||St.current)It=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return It=!1,rw(t,e,n);It=!!(t.flags&131072)}else It=!1,Re&&e.flags&1048576&&Ug(e,ja,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ea(t,e),t=e.pendingProps;var i=Ai(e,ft.current);Ei(e,n),i=bh(null,e,r,t,i,n);var o=Fh();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,At(r)?(o=!0,Fa(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Dh(e),i.updater=wl,e.stateNode=i,i._reactInternals=e,wc(e,r,t,n),e=Sc(null,e,r,!0,o,n)):(e.tag=0,Re&&o&&Ah(e),mt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ea(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=vw(r),t=Jt(r,t),i){case 0:e=Ic(null,e,r,t,n);break e;case 1:e=gp(null,e,r,t,n);break e;case 11:e=pp(null,e,r,t,n);break e;case 14:e=mp(null,e,r,Jt(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jt(r,i),Ic(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jt(r,i),gp(t,e,r,i,n);case 3:e:{if(vy(e),t===null)throw Error(B(387));r=e.pendingProps,o=e.memoizedState,i=o.element,qg(t,e),$a(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=ki(Error(B(423)),e),e=yp(t,e,r,n,i);break e}else if(r!==i){i=ki(Error(B(424)),e),e=yp(t,e,r,n,i);break e}else for(kt=Jn(e.stateNode.containerInfo.firstChild),Vt=e,Re=!0,en=null,n=$g(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Pi(),r===i){e=xn(t,e,n);break e}mt(t,e,r,n)}e=e.child}return e;case 5:return Hg(e),t===null&&vc(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,dc(r,i)?a=null:o!==null&&dc(r,o)&&(e.flags|=32),yy(t,e),mt(t,e,a,n),e.child;case 6:return t===null&&vc(e),null;case 13:return _y(t,e,n);case 4:return Nh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ci(e,null,r,n):mt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jt(r,i),pp(t,e,r,i,n);case 7:return mt(t,e,e.pendingProps,n),e.child;case 8:return mt(t,e,e.pendingProps.children,n),e.child;case 12:return mt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,_e(Ba,r._currentValue),r._currentValue=a,o!==null)if(rn(o.value,a)){if(o.children===i.children&&!St.current){e=xn(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){a=o.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=Pn(-1,n&-n),u.tag=2;var h=o.updateQueue;if(h!==null){h=h.shared;var d=h.pending;d===null?u.next=u:(u.next=d.next,d.next=u),h.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),_c(o.return,n,e),l.lanes|=n;break}u=u.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(B(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),_c(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}mt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ei(e,n),i=$t(i),r=r(i),e.flags|=1,mt(t,e,r,n),e.child;case 14:return r=e.type,i=Jt(r,e.pendingProps),i=Jt(r.type,i),mp(t,e,r,i,n);case 15:return my(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jt(r,i),Ea(t,e),e.tag=1,At(r)?(t=!0,Fa(e)):t=!1,Ei(e,n),fy(e,r,i),wc(e,r,i,n),Sc(null,e,r,!0,t,n);case 19:return Ey(t,e,n);case 22:return gy(t,e,n)}throw Error(B(156,e.tag))};function Ly(t,e){return ug(t,e)}function yw(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bt(t,e,n,r){return new yw(t,e,n,r)}function Kh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function vw(t){if(typeof t=="function")return Kh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===dh)return 11;if(t===ph)return 14}return 2}function nr(t,e){var n=t.alternate;return n===null?(n=Bt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ia(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")Kh(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case oi:return kr(n.children,i,o,e);case fh:a=8,i|=8;break;case qu:return t=Bt(12,n,e,i|2),t.elementType=qu,t.lanes=o,t;case Hu:return t=Bt(13,n,e,i),t.elementType=Hu,t.lanes=o,t;case Qu:return t=Bt(19,n,e,i),t.elementType=Qu,t.lanes=o,t;case Hm:return Sl(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Wm:a=10;break e;case qm:a=9;break e;case dh:a=11;break e;case ph:a=14;break e;case Bn:a=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=Bt(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function kr(t,e,n,r){return t=Bt(7,t,r,e),t.lanes=n,t}function Sl(t,e,n,r){return t=Bt(22,t,r,e),t.elementType=Hm,t.lanes=n,t.stateNode={isHidden:!1},t}function Vu(t,e,n){return t=Bt(6,t,null,e),t.lanes=n,t}function Du(t,e,n){return e=Bt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function _w(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fu(0),this.expirationTimes=fu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fu(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Gh(t,e,n,r,i,o,a,l,u){return t=new _w(t,e,n,l,u),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Bt(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dh(o),t}function Ew(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ii,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function by(t){if(!t)return lr;t=t._reactInternals;e:{if($r(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(At(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(At(n))return bg(t,n,e)}return e}function Fy(t,e,n,r,i,o,a,l,u){return t=Gh(n,r,!0,t,i,o,a,l,u),t.context=by(null),n=t.current,r=gt(),i=tr(n),o=Pn(r,i),o.callback=e??null,Zn(n,o,i),t.current.lanes=i,fs(t,i,r),Pt(t,r),t}function Al(t,e,n,r){var i=e.current,o=gt(),a=tr(i);return n=by(n),e.context===null?e.context=n:e.pendingContext=n,e=Pn(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Zn(i,e,a),t!==null&&(nn(t,i,a,o),ya(t,i,a)),a}function Ya(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Cp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Xh(t,e){Cp(t,e),(t=t.alternate)&&Cp(t,e)}function ww(){return null}var Uy=typeof reportError=="function"?reportError:function(t){console.error(t)};function Yh(t){this._internalRoot=t}Pl.prototype.render=Yh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));Al(t,e,null,null)};Pl.prototype.unmount=Yh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Mr(function(){Al(null,t,null,null)}),e[Rn]=null}};function Pl(t){this._internalRoot=t}Pl.prototype.unstable_scheduleHydration=function(t){if(t){var e=gg();t={blockedOn:null,target:t,priority:e};for(var n=0;n<$n.length&&e!==0&&e<$n[n].priority;n++);$n.splice(n,0,t),n===0&&vg(t)}};function Jh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Cl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Rp(){}function Tw(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var h=Ya(a);o.call(h)}}var a=Fy(e,r,t,0,null,!1,!1,"",Rp);return t._reactRootContainer=a,t[Rn]=a.current,qo(t.nodeType===8?t.parentNode:t),Mr(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var h=Ya(u);l.call(h)}}var u=Gh(t,0,!1,null,null,!1,!1,"",Rp);return t._reactRootContainer=u,t[Rn]=u.current,qo(t.nodeType===8?t.parentNode:t),Mr(function(){Al(e,u,n,r)}),u}function Rl(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var l=i;i=function(){var u=Ya(a);l.call(u)}}Al(e,a,t,i)}else a=Tw(n,e,t,i,r);return Ya(a)}pg=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=_o(e.pendingLanes);n!==0&&(yh(e,n|1),Pt(e,Le()),!(fe&6)&&(xi=Le()+500,pr()))}break;case 13:Mr(function(){var r=kn(t,1);if(r!==null){var i=gt();nn(r,t,1,i)}}),Xh(t,1)}};vh=function(t){if(t.tag===13){var e=kn(t,134217728);if(e!==null){var n=gt();nn(e,t,134217728,n)}Xh(t,134217728)}};mg=function(t){if(t.tag===13){var e=tr(t),n=kn(t,e);if(n!==null){var r=gt();nn(n,t,e,r)}Xh(t,e)}};gg=function(){return ge};yg=function(t,e){var n=ge;try{return ge=t,e()}finally{ge=n}};rc=function(t,e,n){switch(e){case"input":if(Xu(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=vl(r);if(!i)throw Error(B(90));Km(r),Xu(r,i)}}}break;case"textarea":Xm(t,n);break;case"select":e=n.value,e!=null&&gi(t,!!n.multiple,e,!1)}};rg=qh;ig=Mr;var Iw={usingClientEntryPoint:!1,Events:[ps,ui,vl,tg,ng,qh]},mo={findFiberByHostInstance:Sr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Sw={bundleType:mo.bundleType,version:mo.version,rendererPackageName:mo.rendererPackageName,rendererConfig:mo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Nn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ag(t),t===null?null:t.stateNode},findFiberByHostInstance:mo.findFiberByHostInstance||ww,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var aa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!aa.isDisabled&&aa.supportsFiber)try{pl=aa.inject(Sw),cn=aa}catch{}}Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Iw;Ot.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jh(e))throw Error(B(200));return Ew(t,e,null,n)};Ot.createRoot=function(t,e){if(!Jh(t))throw Error(B(299));var n=!1,r="",i=Uy;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Gh(t,1,!1,null,null,n,!1,r,i),t[Rn]=e.current,qo(t.nodeType===8?t.parentNode:t),new Yh(e)};Ot.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=ag(e),t=t===null?null:t.stateNode,t};Ot.flushSync=function(t){return Mr(t)};Ot.hydrate=function(t,e,n){if(!Cl(e))throw Error(B(200));return Rl(null,t,e,!0,n)};Ot.hydrateRoot=function(t,e,n){if(!Jh(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=Uy;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=Fy(e,null,t,1,n??null,i,!1,o,a),t[Rn]=e.current,qo(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Pl(e)};Ot.render=function(t,e,n){if(!Cl(e))throw Error(B(200));return Rl(null,t,e,!1,n)};Ot.unmountComponentAtNode=function(t){if(!Cl(t))throw Error(B(40));return t._reactRootContainer?(Mr(function(){Rl(null,null,t,!1,function(){t._reactRootContainer=null,t[Rn]=null})}),!0):!1};Ot.unstable_batchedUpdates=qh;Ot.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Cl(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return Rl(t,e,n,!1,r)};Ot.version="18.3.1-next-f1338f8080-20240426";function jy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jy)}catch(t){console.error(t)}}jy(),jm.exports=Ot;var Aw=jm.exports,kp=Aw;$u.createRoot=kp.createRoot,$u.hydrateRoot=kp.hydrateRoot;/**
 * @remix-run/router v1.17.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function es(){return es=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},es.apply(this,arguments)}var Qn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Qn||(Qn={}));const xp="popstate";function Pw(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:a,hash:l}=r.location;return Lc("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ja(i)}return Rw(e,n,null,t)}function je(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function By(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Cw(){return Math.random().toString(36).substr(2,8)}function Vp(t,e){return{usr:t.state,key:t.key,idx:e}}function Lc(t,e,n,r){return n===void 0&&(n=null),es({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Bi(e):e,{state:n,key:e&&e.key||r||Cw()})}function Ja(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Bi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Rw(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,l=Qn.Pop,u=null,h=d();h==null&&(h=0,a.replaceState(es({},a.state,{idx:h}),""));function d(){return(a.state||{idx:null}).idx}function m(){l=Qn.Pop;let M=d(),S=M==null?null:M-h;h=M,u&&u({action:l,location:O.location,delta:S})}function v(M,S){l=Qn.Push;let g=Lc(O.location,M,S);h=d()+1;let _=Vp(g,h),D=O.createHref(g);try{a.pushState(_,"",D)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;i.location.assign(D)}o&&u&&u({action:l,location:O.location,delta:1})}function P(M,S){l=Qn.Replace;let g=Lc(O.location,M,S);h=d();let _=Vp(g,h),D=O.createHref(g);a.replaceState(_,"",D),o&&u&&u({action:l,location:O.location,delta:0})}function x(M){let S=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof M=="string"?M:Ja(M);return g=g.replace(/ $/,"%20"),je(S,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,S)}let O={get action(){return l},get location(){return t(i,a)},listen(M){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(xp,m),u=M,()=>{i.removeEventListener(xp,m),u=null}},createHref(M){return e(i,M)},createURL:x,encodeLocation(M){let S=x(M);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:v,replace:P,go(M){return a.go(M)}};return O}var Dp;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Dp||(Dp={}));function kw(t,e,n){return n===void 0&&(n="/"),xw(t,e,n,!1)}function xw(t,e,n,r){let i=typeof e=="string"?Bi(e):e,o=Zh(i.pathname||"/",n);if(o==null)return null;let a=zy(t);Vw(a);let l=null;for(let u=0;l==null&&u<a.length;++u){let h=zw(o);l=jw(a[u],h,r)}return l}function zy(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,l)=>{let u={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};u.relativePath.startsWith("/")&&(je(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let h=rr([r,u.relativePath]),d=n.concat(u);o.children&&o.children.length>0&&(je(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),zy(o.children,e,d,h)),!(o.path==null&&!o.index)&&e.push({path:h,score:Fw(h,o.index),routesMeta:d})};return t.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,a);else for(let u of $y(o.path))i(o,a,u)}),e}function $y(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=$y(r.join("/")),l=[];return l.push(...a.map(u=>u===""?o:[o,u].join("/"))),i&&l.push(...a),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function Vw(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Uw(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Dw=/^:[\w-]+$/,Nw=3,Ow=2,Mw=1,Lw=10,bw=-2,Np=t=>t==="*";function Fw(t,e){let n=t.split("/"),r=n.length;return n.some(Np)&&(r+=bw),e&&(r+=Ow),n.filter(i=>!Np(i)).reduce((i,o)=>i+(Dw.test(o)?Nw:o===""?Mw:Lw),r)}function Uw(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function jw(t,e,n){let{routesMeta:r}=t,i={},o="/",a=[];for(let l=0;l<r.length;++l){let u=r[l],h=l===r.length-1,d=o==="/"?e:e.slice(o.length)||"/",m=Op({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},d),v=u.route;if(!m&&h&&n&&!r[r.length-1].route.index&&(m=Op({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!m)return null;Object.assign(i,m.params),a.push({params:i,pathname:rr([o,m.pathname]),pathnameBase:Hw(rr([o,m.pathnameBase])),route:v}),m.pathnameBase!=="/"&&(o=rr([o,m.pathnameBase]))}return a}function Op(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Bw(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((h,d,m)=>{let{paramName:v,isOptional:P}=d;if(v==="*"){let O=l[m]||"";a=o.slice(0,o.length-O.length).replace(/(.)\/+$/,"$1")}const x=l[m];return P&&!x?h[v]=void 0:h[v]=(x||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:a,pattern:t}}function Bw(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),By(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function zw(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return By(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Zh(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function $w(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Bi(t):t;return{pathname:n?n.startsWith("/")?n:Ww(n,e):e,search:Qw(r),hash:Kw(i)}}function Ww(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Nu(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function qw(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Wy(t,e){let n=qw(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function qy(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Bi(t):(i=es({},t),je(!i.pathname||!i.pathname.includes("?"),Nu("?","pathname","search",i)),je(!i.pathname||!i.pathname.includes("#"),Nu("#","pathname","hash",i)),je(!i.search||!i.search.includes("#"),Nu("#","search","hash",i)));let o=t===""||i.pathname==="",a=o?"/":i.pathname,l;if(a==null)l=n;else{let m=e.length-1;if(!r&&a.startsWith("..")){let v=a.split("/");for(;v[0]==="..";)v.shift(),m-=1;i.pathname=v.join("/")}l=m>=0?e[m]:"/"}let u=$w(i,l),h=a&&a!=="/"&&a.endsWith("/"),d=(o||a===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(h||d)&&(u.pathname+="/"),u}const rr=t=>t.join("/").replace(/\/\/+/g,"/"),Hw=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Qw=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Kw=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Gw(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Hy=["post","put","patch","delete"];new Set(Hy);const Xw=["get",...Hy];new Set(Xw);/**
 * React Router v6.24.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ts(){return ts=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ts.apply(this,arguments)}const ef=q.createContext(null),Yw=q.createContext(null),Wr=q.createContext(null),kl=q.createContext(null),qr=q.createContext({outlet:null,matches:[],isDataRoute:!1}),Qy=q.createContext(null);function Jw(t,e){let{relative:n}=e===void 0?{}:e;gs()||je(!1);let{basename:r,navigator:i}=q.useContext(Wr),{hash:o,pathname:a,search:l}=Gy(t,{relative:n}),u=a;return r!=="/"&&(u=a==="/"?r:rr([r,a])),i.createHref({pathname:u,search:l,hash:o})}function gs(){return q.useContext(kl)!=null}function xl(){return gs()||je(!1),q.useContext(kl).location}function Ky(t){q.useContext(Wr).static||q.useLayoutEffect(t)}function Zw(){let{isDataRoute:t}=q.useContext(qr);return t?f1():e1()}function e1(){gs()||je(!1);let t=q.useContext(ef),{basename:e,future:n,navigator:r}=q.useContext(Wr),{matches:i}=q.useContext(qr),{pathname:o}=xl(),a=JSON.stringify(Wy(i,n.v7_relativeSplatPath)),l=q.useRef(!1);return Ky(()=>{l.current=!0}),q.useCallback(function(h,d){if(d===void 0&&(d={}),!l.current)return;if(typeof h=="number"){r.go(h);return}let m=qy(h,JSON.parse(a),o,d.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:rr([e,m.pathname])),(d.replace?r.replace:r.push)(m,d.state,d)},[e,r,a,o,t])}function Gy(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=q.useContext(Wr),{matches:i}=q.useContext(qr),{pathname:o}=xl(),a=JSON.stringify(Wy(i,r.v7_relativeSplatPath));return q.useMemo(()=>qy(t,JSON.parse(a),o,n==="path"),[t,a,o,n])}function t1(t,e){return n1(t,e)}function n1(t,e,n,r){gs()||je(!1);let{navigator:i}=q.useContext(Wr),{matches:o}=q.useContext(qr),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let h=xl(),d;if(e){var m;let M=typeof e=="string"?Bi(e):e;u==="/"||(m=M.pathname)!=null&&m.startsWith(u)||je(!1),d=M}else d=h;let v=d.pathname||"/",P=v;if(u!=="/"){let M=u.replace(/^\//,"").split("/");P="/"+v.replace(/^\//,"").split("/").slice(M.length).join("/")}let x=kw(t,{pathname:P}),O=a1(x&&x.map(M=>Object.assign({},M,{params:Object.assign({},l,M.params),pathname:rr([u,i.encodeLocation?i.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?u:rr([u,i.encodeLocation?i.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),o,n,r);return e&&O?q.createElement(kl.Provider,{value:{location:ts({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Qn.Pop}},O):O}function r1(){let t=h1(),e=Gw(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),n?q.createElement("pre",{style:i},n):null,null)}const i1=q.createElement(r1,null);class o1 extends q.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?q.createElement(qr.Provider,{value:this.props.routeContext},q.createElement(Qy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function s1(t){let{routeContext:e,match:n,children:r}=t,i=q.useContext(ef);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),q.createElement(qr.Provider,{value:e},r)}function a1(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if((o=n)!=null&&o.errors)t=n.matches;else return null}let a=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let d=a.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);d>=0||je(!1),a=a.slice(0,Math.min(a.length,d+1))}let u=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let m=a[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=d),m.route.id){let{loaderData:v,errors:P}=n,x=m.route.loader&&v[m.route.id]===void 0&&(!P||P[m.route.id]===void 0);if(m.route.lazy||x){u=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((d,m,v)=>{let P,x=!1,O=null,M=null;n&&(P=l&&m.route.id?l[m.route.id]:void 0,O=m.route.errorElement||i1,u&&(h<0&&v===0?(x=!0,M=null):h===v&&(x=!0,M=m.route.hydrateFallbackElement||null)));let S=e.concat(a.slice(0,v+1)),g=()=>{let _;return P?_=O:x?_=M:m.route.Component?_=q.createElement(m.route.Component,null):m.route.element?_=m.route.element:_=d,q.createElement(s1,{match:m,routeContext:{outlet:d,matches:S,isDataRoute:n!=null},children:_})};return n&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?q.createElement(o1,{location:n.location,revalidation:n.revalidation,component:O,error:P,children:g(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):g()},null)}var Xy=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Xy||{}),Za=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Za||{});function l1(t){let e=q.useContext(ef);return e||je(!1),e}function u1(t){let e=q.useContext(Yw);return e||je(!1),e}function c1(t){let e=q.useContext(qr);return e||je(!1),e}function Yy(t){let e=c1(),n=e.matches[e.matches.length-1];return n.route.id||je(!1),n.route.id}function h1(){var t;let e=q.useContext(Qy),n=u1(Za.UseRouteError),r=Yy(Za.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function f1(){let{router:t}=l1(Xy.UseNavigateStable),e=Yy(Za.UseNavigateStable),n=q.useRef(!1);return Ky(()=>{n.current=!0}),q.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ts({fromRouteId:e},o)))},[t,e])}function ei(t){je(!1)}function d1(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Qn.Pop,navigator:o,static:a=!1,future:l}=t;gs()&&je(!1);let u=e.replace(/^\/*/,"/"),h=q.useMemo(()=>({basename:u,navigator:o,static:a,future:ts({v7_relativeSplatPath:!1},l)}),[u,l,o,a]);typeof r=="string"&&(r=Bi(r));let{pathname:d="/",search:m="",hash:v="",state:P=null,key:x="default"}=r,O=q.useMemo(()=>{let M=Zh(d,u);return M==null?null:{location:{pathname:M,search:m,hash:v,state:P,key:x},navigationType:i}},[u,d,m,v,P,x,i]);return O==null?null:q.createElement(Wr.Provider,{value:h},q.createElement(kl.Provider,{children:n,value:O}))}function p1(t){let{children:e,location:n}=t;return t1(bc(e),n)}new Promise(()=>{});function bc(t,e){e===void 0&&(e=[]);let n=[];return q.Children.forEach(t,(r,i)=>{if(!q.isValidElement(r))return;let o=[...e,i];if(r.type===q.Fragment){n.push.apply(n,bc(r.props.children,o));return}r.type!==ei&&je(!1),!r.props.index||!r.props.children||je(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=bc(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.24.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fc(){return Fc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fc.apply(this,arguments)}function m1(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function g1(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function y1(t,e){return t.button===0&&(!e||e==="_self")&&!g1(t)}const v1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],_1="6";try{window.__reactRouterVersion=_1}catch{}const E1="startTransition",Mp=p0[E1];function w1(t){let{basename:e,children:n,future:r,window:i}=t,o=q.useRef();o.current==null&&(o.current=Pw({window:i,v5Compat:!0}));let a=o.current,[l,u]=q.useState({action:a.action,location:a.location}),{v7_startTransition:h}=r||{},d=q.useCallback(m=>{h&&Mp?Mp(()=>u(m)):u(m)},[u,h]);return q.useLayoutEffect(()=>a.listen(d),[a,d]),q.createElement(d1,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const T1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",I1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ou=q.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:a,state:l,target:u,to:h,preventScrollReset:d,unstable_viewTransition:m}=e,v=m1(e,v1),{basename:P}=q.useContext(Wr),x,O=!1;if(typeof h=="string"&&I1.test(h)&&(x=h,T1))try{let _=new URL(window.location.href),D=h.startsWith("//")?new URL(_.protocol+h):new URL(h),b=Zh(D.pathname,P);D.origin===_.origin&&b!=null?h=b+D.search+D.hash:O=!0}catch{}let M=Jw(h,{relative:i}),S=S1(h,{replace:a,state:l,target:u,preventScrollReset:d,relative:i,unstable_viewTransition:m});function g(_){r&&r(_),_.defaultPrevented||S(_)}return q.createElement("a",Fc({},v,{href:x||M,onClick:O||o?r:g,ref:n,target:u}))});var Lp;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Lp||(Lp={}));var bp;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(bp||(bp={}));function S1(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a,unstable_viewTransition:l}=e===void 0?{}:e,u=Zw(),h=xl(),d=Gy(t,{relative:a});return q.useCallback(m=>{if(y1(m,n)){m.preventDefault();let v=r!==void 0?r:Ja(h)===Ja(d);u(t,{replace:v,state:i,preventScrollReset:o,relative:a,unstable_viewTransition:l})}},[h,u,d,r,i,n,t,o,a,l])}var Jy={},Vl={};(function(){var t={},e="";try{e=location.hash.toString()}catch{}var n=u(e),r=S("initParams");if(r)for(var i in r)typeof n[i]>"u"&&(n[i]=r[i]);M("initParams",n);var o=!1,a;try{if(o=window.parent!=null&&window!=window.parent,o){window.addEventListener("message",function(g){if(g.source===window.parent){try{var _=JSON.parse(g.data)}catch{return}if(!(!_||!_.eventType))if(_.eventType=="set_custom_style")g.origin==="https://web.telegram.org"&&(a.innerHTML=_.eventData);else if(_.eventType=="reload_iframe"){try{window.parent.postMessage(JSON.stringify({eventType:"iframe_will_reload"}),"*")}catch{}location.reload()}else v(_.eventType,_.eventData)}}),a=document.createElement("style"),document.head.appendChild(a);try{window.parent.postMessage(JSON.stringify({eventType:"iframe_ready",eventData:{reload_supported:!0}}),"*")}catch{}}}catch{}function l(g){try{return g=g.replace(/\+/g,"%20"),decodeURIComponent(g)}catch{return g}}function u(g){g=g.replace(/^#/,"");var _={};if(!g.length)return _;if(g.indexOf("=")<0&&g.indexOf("?")<0)return _._path=l(g),_;var D=g.indexOf("?");if(D>=0){var b=g.substr(0,D);_._path=l(b),g=g.substr(D+1)}var z=h(g);for(var E in z)_[E]=z[E];return _}function h(g){var _={};if(!g.length)return _;var D=g.split("&"),b,z,E,y;for(b=0;b<D.length;b++)z=D[b].split("="),E=l(z[0]),y=z[1]==null?null:l(z[1]),_[E]=y;return _}function d(g,_){var D=g.indexOf("#");if(D<0)return g+"#"+_;var b=g.substr(D+1);return b.indexOf("=")>=0||b.indexOf("?")>=0?g+"&"+_:b.length>0?g+"?"+_:g+_}function m(g,_,D){if(_||(_=function(){}),D===void 0&&(D=""),console.log("[Telegram.WebView] > postEvent",g,D),window.TelegramWebviewProxy!==void 0)TelegramWebviewProxy.postEvent(g,JSON.stringify(D)),_();else if(window.external&&"notify"in window.external)window.external.notify(JSON.stringify({eventType:g,eventData:D})),_();else if(o)try{var b="https://web.telegram.org";b="*",window.parent.postMessage(JSON.stringify({eventType:g,eventData:D}),b),_()}catch(z){_(z)}else _({notAvailable:!0})}function v(g,_){console.log("[Telegram.WebView] < receiveEvent",g,_),P(g,function(D){D(g,_)})}function P(g,_){var D=t[g];if(!(D===void 0||!D.length))for(var b=0;b<D.length;b++)try{_(D[b])}catch{}}function x(g,_){t[g]===void 0&&(t[g]=[]);var D=t[g].indexOf(_);D===-1&&t[g].push(_)}function O(g,_){if(t[g]!==void 0){var D=t[g].indexOf(_);D!==-1&&t[g].splice(D,1)}}function M(g,_){try{return window.sessionStorage.setItem("__telegram__"+g,JSON.stringify(_)),!0}catch{}return!1}function S(g){try{return JSON.parse(window.sessionStorage.getItem("__telegram__"+g))}catch{}return null}window.Telegram||(window.Telegram={}),window.Telegram.WebView={initParams:n,isIframe:o,onEvent:x,offEvent:O,postEvent:m,receiveEvent:v,callEventCallbacks:P},window.Telegram.Utils={urlSafeDecode:l,urlParseQueryString:h,urlParseHashParams:u,urlAppendHashParams:d,sessionStorageSet:M,sessionStorageGet:S},window.TelegramGameProxy_receiveEvent=v,window.TelegramGameProxy={receiveEvent:v}})();(function(){var t=window.Telegram.Utils,e=window.Telegram.WebView,n=e.initParams,r=e.isIframe,i={},o="",a={},l={},u="light",h="6.0",d="unknown";if(n.tgWebAppData&&n.tgWebAppData.length){o=n.tgWebAppData,a=t.urlParseQueryString(o);for(var m in a){var v=a[m];try{(v.substr(0,1)=="{"&&v.substr(-1)=="}"||v.substr(0,1)=="["&&v.substr(-1)=="]")&&(a[m]=JSON.parse(v))}catch{}}}if(n.tgWebAppThemeParams&&n.tgWebAppThemeParams.length){var P=n.tgWebAppThemeParams;try{var x=JSON.parse(P);x&&w(x)}catch{}}var x=t.sessionStorageGet("themeParams");x&&w(x),n.tgWebAppVersion&&(h=n.tgWebAppVersion),n.tgWebAppPlatform&&(d=n.tgWebAppPlatform);function O(A,C){C.theme_params&&(w(C.theme_params),window.Telegram.WebApp.MainButton.setParams({}),Hi(),b("themeChanged"))}var M=window.innerHeight;function S(A,C){C.height&&(window.removeEventListener("resize",g),qt(C))}function g(A){M!=window.innerHeight&&(M=window.innerHeight,b("viewportChanged",{isStateStable:!0}))}function _(A){if(!(A.metaKey||A.ctrlKey)){for(var C=A.target;C.tagName!="A"&&C.parentNode;)C=C.parentNode;C.tagName=="A"&&C.target!="_blank"&&(C.protocol=="http:"||C.protocol=="https:")&&C.hostname=="t.me"&&(i.openTgLink(C.href),A.preventDefault())}}function D(A){return A.toString().replace(/^\s+|\s+$/g,"")}function b(A){var C=Array.prototype.slice.call(arguments);A=C.shift(),e.callEventCallbacks("webview:"+A,function(N){N.apply(i,C)})}function z(A,C){e.onEvent("webview:"+A,C)}function E(A,C){e.offEvent("webview:"+A,C)}function y(A,C){var N=document.documentElement;N&&N.style&&N.style.setProperty&&N.style.setProperty("--tg-"+A,C)}function w(A){A.bg_color=="#1c1c1d"&&A.bg_color==A.secondary_bg_color&&(A.secondary_bg_color="#2c2c2e");var C;for(var N in A)(C=on(A[N]))&&(l[N]=C,N=="bg_color"&&(u=Kr(C)?"dark":"light",y("color-scheme",u)),N="theme-"+N.split("_").join("-"),y(N,C));t.sessionStorageSet("themeParams",l)}var T={};function R(A){for(var C=100;--C;){for(var N="",U="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",H=U.length,se=0;se<A;se++)N+=U[Math.floor(Math.random()*H)];if(!T[N])return T[N]={},N}throw Error("WebAppCallbackIdGenerateFailed")}var k=!1,I=!1,pt=!0;function qt(A){typeof A<"u"&&(pt=!!A.is_expanded,k=A.height,A.is_state_stable&&(I=A.height),b("viewportChanged",{isStateStable:!!A.is_state_stable}));var C,N;k!==!1?C=k-Et+"px":C=Et?"calc(100vh - "+Et+"px)":"100vh",I!==!1?N=I-Et+"px":N=Et?"calc(100vh - "+Et+"px)":"100vh",y("viewport-height",C),y("viewport-stable-height",N)}var yn=!1;function Ht(A){if(!ye("6.2")){console.warn("[Telegram.WebApp] Closing confirmation is not supported in version "+h);return}yn=!!A,e.postEvent("web_app_setup_closing_behavior",!1,{need_confirmation:yn})}var W="bg_color",J=null;function re(){return W=="secondary_bg_color"?l.secondary_bg_color:W=="bg_color"?l.bg_color:J}function we(A){if(!ye("6.1")){console.warn("[Telegram.WebApp] Header color is not supported in version "+h);return}ye("6.9")||(l.bg_color&&l.bg_color==A?A="bg_color":l.secondary_bg_color&&l.secondary_bg_color==A&&(A="secondary_bg_color"));var C=null,N=null;if(A=="bg_color"||A=="secondary_bg_color")N=A;else if(ye("6.9")&&(C=on(A),!C))throw console.error("[Telegram.WebApp] Header color format is invalid",A),Error("WebAppHeaderColorInvalid");if(!ye("6.9")&&N!="bg_color"&&N!="secondary_bg_color")throw console.error("[Telegram.WebApp] Header color key should be one of Telegram.WebApp.themeParams.bg_color, Telegram.WebApp.themeParams.secondary_bg_color, 'bg_color', 'secondary_bg_color'",A),Error("WebAppHeaderColorKeyInvalid");W=N,J=C,Lt()}var me=null,Te=null;function Lt(){(me!=W||Te!=J)&&(me=W,Te=J,Te?e.postEvent("web_app_set_header_color",!1,{color:J}):e.postEvent("web_app_set_header_color",!1,{color_key:W}))}var _t="bg_color";function bt(){return _t=="secondary_bg_color"?l.secondary_bg_color:_t=="bg_color"?l.bg_color:_t}function Qt(A){if(!ye("6.1")){console.warn("[Telegram.WebApp] Background color is not supported in version "+h);return}var C;if(A=="bg_color"||A=="secondary_bg_color")C=A;else if(C=on(A),!C)throw console.error("[Telegram.WebApp] Background color format is invalid",A),Error("WebAppBackgroundColorInvalid");_t=C,Hi()}var Is=null;function Hi(){var A=bt();Is!=A&&(Is=A,e.postEvent("web_app_set_background_color",!1,{color:A}))}function on(A){A+="";var C;if(C=/^\s*#([0-9a-f]{6})\s*$/i.exec(A))return"#"+C[1].toLowerCase();if(C=/^\s*#([0-9a-f])([0-9a-f])([0-9a-f])\s*$/i.exec(A))return("#"+C[1]+C[1]+C[2]+C[2]+C[3]+C[3]).toLowerCase();if(C=/^\s*rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+\.{0,1}\d*))?\)\s*$/.exec(A)){var N=parseInt(C[1]),U=parseInt(C[2]),H=parseInt(C[3]);return N=(N<16?"0":"")+N.toString(16),U=(U<16?"0":"")+U.toString(16),H=(H<16?"0":"")+H.toString(16),"#"+N+U+H}return!1}function Kr(A){A=A.replace(/[\s#]/g,""),A.length==3&&(A=A[0]+A[0]+A[1]+A[1]+A[2]+A[2]);var C=parseInt(A.substr(0,2),16),N=parseInt(A.substr(2,2),16),U=parseInt(A.substr(4,2),16),H=Math.sqrt(.299*(C*C)+.587*(N*N)+.114*(U*U));return H<120}function Qi(A,C){typeof A!="string"&&(A=""),typeof C!="string"&&(C=""),A=A.replace(/^\s+|\s+$/g,"").split("."),C=C.replace(/^\s+|\s+$/g,"").split(".");var N=Math.max(A.length,C.length),U,H,se;for(U=0;U<N;U++)if(H=parseInt(A[U])||0,se=parseInt(C[U])||0,H!=se)return H>se?1:-1;return 0}function ye(A){return Qi(h,A)>=0}function Ki(A){if(window.Blob)try{return new Blob([A]).size}catch{}for(var C=A.length,N=A.length-1;N>=0;N--){var U=A.charCodeAt(N);U>127&&U<=2047?C++:U>2047&&U<=65535&&(C+=2),U>=56320&&U<=57343&&N--}return C}var Gi=function(){var A=!1,C={};Object.defineProperty(C,"isVisible",{set:function(ie){ae({is_visible:ie})},get:function(){return A},enumerable:!0});var N=null;e.onEvent("back_button_pressed",U);function U(){b("backButtonClicked")}function H(){return{is_visible:A}}function se(ie){return typeof ie>"u"&&(ie=H()),JSON.stringify(ie)}function Y(){return ye("6.1")?!0:(console.warn("[Telegram.WebApp] BackButton is not supported in version "+h),!1)}function Pe(){var ie=H(),Ce=se(ie);N!==Ce&&(N=Ce,e.postEvent("web_app_setup_back_button",!1,ie))}function ae(ie){return Y()&&(typeof ie.is_visible<"u"&&(A=!!ie.is_visible),Pe()),C}return C.onClick=function(ie){return Y()&&z("backButtonClicked",ie),C},C.offClick=function(ie){return Y()&&E("backButtonClicked",ie),C},C.show=function(){return ae({is_visible:!0})},C.hide=function(){return ae({is_visible:!1})},C}(),Et=0,Hl=function(){var A=!1,C=!0,N=!1,U="CONTINUE",H=!1,se=!1,Y={};Object.defineProperty(Y,"text",{set:function(K){Y.setParams({text:K})},get:function(){return U},enumerable:!0}),Object.defineProperty(Y,"color",{set:function(K){Y.setParams({color:K})},get:function(){return H||l.button_color||"#2481cc"},enumerable:!0}),Object.defineProperty(Y,"textColor",{set:function(K){Y.setParams({text_color:K})},get:function(){return se||l.button_text_color||"#ffffff"},enumerable:!0}),Object.defineProperty(Y,"isVisible",{set:function(K){Y.setParams({is_visible:K})},get:function(){return A},enumerable:!0}),Object.defineProperty(Y,"isProgressVisible",{get:function(){return N},enumerable:!0}),Object.defineProperty(Y,"isActive",{set:function(K){Y.setParams({is_active:K})},get:function(){return C},enumerable:!0});var Pe=null;e.onEvent("main_button_pressed",Gt);var ae=null,ie={};if(n.tgWebAppDebug){ae=document.createElement("tg-main-button"),ie={font:"600 14px/18px sans-serif",display:"none",width:"100%",height:"48px",borderRadius:"0",background:"no-repeat right center",position:"fixed",left:"0",right:"0",bottom:"0",margin:"0",padding:"15px 20px",textAlign:"center",boxSizing:"border-box",zIndex:"10000"};for(var Ce in ie)ae.style[Ce]=ie[Ce];document.addEventListener("DOMContentLoaded",function K(Ft){document.removeEventListener("DOMContentLoaded",K),document.body.appendChild(ae),ae.addEventListener("click",Gt,!1)})}function Gt(){C&&b("mainButtonClicked")}function Ln(){var K=Y.color,Ft=Y.textColor;return A?{is_visible:!0,is_active:C,is_progress_visible:N,text:U,color:K,text_color:Ft}:{is_visible:!1}}function ks(K){return typeof K>"u"&&(K=Ln()),JSON.stringify(K)}function Be(){var K=Ln(),Ft=ks(K);Pe!==Ft&&(Pe=Ft,e.postEvent("web_app_setup_main_button",!1,K),n.tgWebAppDebug&&xs(K))}function xs(K){K.is_visible?(ae.style.display="block",Et=48,ae.style.opacity=K.is_active?"1":"0.8",ae.style.cursor=K.is_active?"pointer":"auto",ae.disabled=!K.is_active,ae.innerText=K.text,ae.style.backgroundImage=K.is_progress_visible?"url('data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20viewport%3D%220%200%2048%2048%22%20width%3D%2248px%22%20height%3D%2248px%22%3E%3Ccircle%20cx%3D%2250%25%22%20cy%3D%2250%25%22%20stroke%3D%22%23fff%22%20stroke-width%3D%222.25%22%20stroke-linecap%3D%22round%22%20fill%3D%22none%22%20stroke-dashoffset%3D%22106%22%20r%3D%229%22%20stroke-dasharray%3D%2256.52%22%20rotate%3D%22-90%22%3E%3Canimate%20attributeName%3D%22stroke-dashoffset%22%20attributeType%3D%22XML%22%20dur%3D%22360s%22%20from%3D%220%22%20to%3D%2212500%22%20repeatCount%3D%22indefinite%22%3E%3C%2Fanimate%3E%3CanimateTransform%20attributeName%3D%22transform%22%20attributeType%3D%22XML%22%20type%3D%22rotate%22%20dur%3D%221s%22%20from%3D%22-90%2024%2024%22%20to%3D%22630%2024%2024%22%20repeatCount%3D%22indefinite%22%3E%3C%2FanimateTransform%3E%3C%2Fcircle%3E%3C%2Fsvg%3E')":"none",ae.style.backgroundColor=K.color,ae.style.color=K.text_color):(ae.style.display="none",Et=0),document.documentElement&&(document.documentElement.style.boxSizing="border-box",document.documentElement.style.paddingBottom=Et+"px"),qt()}function yr(K){if(typeof K.text<"u"){var Ft=D(K.text);if(!Ft.length)throw console.error("[Telegram.WebApp] Main button text is required",K.text),Error("WebAppMainButtonParamInvalid");if(Ft.length>64)throw console.error("[Telegram.WebApp] Main button text is too long",Ft),Error("WebAppMainButtonParamInvalid");U=Ft}if(typeof K.color<"u")if(K.color===!1||K.color===null)H=!1;else{var Vs=on(K.color);if(!Vs)throw console.error("[Telegram.WebApp] Main button color format is invalid",K.color),Error("WebAppMainButtonParamInvalid");H=Vs}if(typeof K.text_color<"u")if(K.text_color===!1||K.text_color===null)se=!1;else{var _n=on(K.text_color);if(!_n)throw console.error("[Telegram.WebApp] Main button text color format is invalid",K.text_color),Error("WebAppMainButtonParamInvalid");se=_n}if(typeof K.is_visible<"u"){if(K.is_visible&&!Y.text.length)throw console.error("[Telegram.WebApp] Main button text is required"),Error("WebAppMainButtonParamInvalid");A=!!K.is_visible}return typeof K.is_active<"u"&&(C=!!K.is_active),Be(),Y}return Y.setText=function(K){return Y.setParams({text:K})},Y.onClick=function(K){return z("mainButtonClicked",K),Y},Y.offClick=function(K){return E("mainButtonClicked",K),Y},Y.show=function(){return Y.setParams({is_visible:!0})},Y.hide=function(){return Y.setParams({is_visible:!1})},Y.enable=function(){return Y.setParams({is_active:!0})},Y.disable=function(){return Y.setParams({is_active:!1})},Y.showProgress=function(K){return C=!!K,N=!0,Be(),Y},Y.hideProgress=function(){return Y.isActive||(C=!0),N=!1,Be(),Y},Y.setParams=yr,Y}(),Ss=function(){var A=!1,C={};Object.defineProperty(C,"isVisible",{set:function(ie){ae({is_visible:ie})},get:function(){return A},enumerable:!0});var N=null;e.onEvent("settings_button_pressed",U);function U(){b("settingsButtonClicked")}function H(){return{is_visible:A}}function se(ie){return typeof ie>"u"&&(ie=H()),JSON.stringify(ie)}function Y(){return ye("6.10")?!0:(console.warn("[Telegram.WebApp] SettingsButton is not supported in version "+h),!1)}function Pe(){var ie=H(),Ce=se(ie);N!==Ce&&(N=Ce,e.postEvent("web_app_setup_settings_button",!1,ie))}function ae(ie){return Y()&&(typeof ie.is_visible<"u"&&(A=!!ie.is_visible),Pe()),C}return C.onClick=function(ie){return Y()&&z("settingsButtonClicked",ie),C},C.offClick=function(ie){return Y()&&E("settingsButtonClicked",ie),C},C.show=function(){return ae({is_visible:!0})},C.hide=function(){return ae({is_visible:!1})},C}(),As=function(){var A={};function C(N){if(!ye("6.1"))return console.warn("[Telegram.WebApp] HapticFeedback is not supported in version "+h),A;if(N.type=="impact"){if(N.impact_style!="light"&&N.impact_style!="medium"&&N.impact_style!="heavy"&&N.impact_style!="rigid"&&N.impact_style!="soft")throw console.error("[Telegram.WebApp] Haptic impact style is invalid",N.impact_style),Error("WebAppHapticImpactStyleInvalid")}else if(N.type=="notification"){if(N.notification_type!="error"&&N.notification_type!="success"&&N.notification_type!="warning")throw console.error("[Telegram.WebApp] Haptic notification type is invalid",N.notification_type),Error("WebAppHapticNotificationTypeInvalid")}else if(N.type!="selection_change")throw console.error("[Telegram.WebApp] Haptic feedback type is invalid",N.type),Error("WebAppHapticFeedbackTypeInvalid");return e.postEvent("web_app_trigger_haptic_feedback",!1,N),A}return A.impactOccurred=function(N){return C({type:"impact",impact_style:N})},A.notificationOccurred=function(N){return C({type:"notification",notification_type:N})},A.selectionChanged=function(){return C({type:"selection_change"})},A}(),Xi=function(){var A={};function C(N,U,H){if(!ye("6.9"))throw console.error("[Telegram.WebApp] CloudStorage is not supported in version "+h),Error("WebAppMethodUnsupported");return gr(N,U,H),A}return A.setItem=function(N,U,H){return C("saveStorageValue",{key:N,value:U},H)},A.getItem=function(N,U){return A.getItems([N],U?function(H,se){H?U(H):U(null,se[N])}:null)},A.getItems=function(N,U){return C("getStorageValues",{keys:N},U)},A.removeItem=function(N,U){return A.removeItems([N],U)},A.removeItems=function(N,U){return C("deleteStorageValues",{keys:N},U)},A.getKeys=function(N){return C("getStorageKeys",{},N)},A}(),On={};function Ql(A,C){if(C.slug&&On[C.slug]){var N=On[C.slug];delete On[C.slug],N.callback&&N.callback(C.status),b("invoiceClosed",{url:N.url,status:C.status})}}var vn=!1;function Yi(A,C){if(vn){var N=vn;vn=!1;var U=null;typeof C.button_id<"u"&&(U=C.button_id),N.callback&&N.callback(U),b("popupClosed",{button_id:U})}}var sn=!1;function He(A,C){if(sn){var N=sn,U=null;typeof C.data<"u"&&(U=C.data),N.callback&&N.callback(U)&&(sn=!1,e.postEvent("web_app_close_scan_qr_popup",!1)),b("qrTextReceived",{data:U})}}function Xe(A,C){sn=!1}function Gr(A,C){if(C.req_id&&T[C.req_id]){var N=T[C.req_id];delete T[C.req_id];var U=null;typeof C.data<"u"&&(U=C.data),N.callback&&N.callback(U),b("clipboardTextReceived",{data:U})}}var Mn=!1;function Ps(A,C){if(Mn){var N=Mn;Mn=!1,N.callback&&N.callback(C.status=="allowed"),b("writeAccessRequested",{status:C.status})}}function Kl(A,C){var N,U,H=0,se=function(){gr("getRequestedContact",{},function(Pe,ae){ae&&ae.length?(clearTimeout(U),A(ae)):(H+=50,N=setTimeout(se,H))})},Y=function(){clearTimeout(N),A("")};U=setTimeout(Y,C),se()}var Kt=!1;function Cs(A,C){if(Kt){var N=Kt;Kt=!1;var U=C.status=="sent",H={status:C.status};U?Kl(function(se){if(se&&se.length){H.response=se,H.responseUnsafe=t.urlParseQueryString(se);for(var Y in H.responseUnsafe){var Pe=H.responseUnsafe[Y];try{(Pe.substr(0,1)=="{"&&Pe.substr(-1)=="}"||Pe.substr(0,1)=="["&&Pe.substr(-1)=="]")&&(H.responseUnsafe[Y]=JSON.parse(Pe))}catch{}}}N.callback&&N.callback(U,H),b("contactRequested",H)},3e3):(N.callback&&N.callback(U,H),b("contactRequested",H))}}function Rs(A,C){if(C.req_id&&T[C.req_id]){var N=T[C.req_id];delete T[C.req_id];var U=null,H=null;typeof C.result<"u"&&(U=C.result),typeof C.error<"u"&&(H=C.error),N.callback&&N.callback(H,U)}}function gr(A,C,N){if(!ye("6.9"))throw console.error("[Telegram.WebApp] Method invokeCustomMethod is not supported in version "+h),Error("WebAppMethodUnsupported");var U=R(16),H={req_id:U,method:A,params:C||{}};T[U]={callback:N},e.postEvent("web_app_invoke_custom_method",!1,H)}window.Telegram||(window.Telegram={}),Object.defineProperty(i,"initData",{get:function(){return o},enumerable:!0}),Object.defineProperty(i,"initDataUnsafe",{get:function(){return a},enumerable:!0}),Object.defineProperty(i,"version",{get:function(){return h},enumerable:!0}),Object.defineProperty(i,"platform",{get:function(){return d},enumerable:!0}),Object.defineProperty(i,"colorScheme",{get:function(){return u},enumerable:!0}),Object.defineProperty(i,"themeParams",{get:function(){return l},enumerable:!0}),Object.defineProperty(i,"isExpanded",{get:function(){return pt},enumerable:!0}),Object.defineProperty(i,"viewportHeight",{get:function(){return(k===!1?window.innerHeight:k)-Et},enumerable:!0}),Object.defineProperty(i,"viewportStableHeight",{get:function(){return(I===!1?window.innerHeight:I)-Et},enumerable:!0}),Object.defineProperty(i,"isClosingConfirmationEnabled",{set:function(A){Ht(A)},get:function(){return yn},enumerable:!0}),Object.defineProperty(i,"headerColor",{set:function(A){we(A)},get:function(){return re()},enumerable:!0}),Object.defineProperty(i,"backgroundColor",{set:function(A){Qt(A)},get:function(){return bt()},enumerable:!0}),Object.defineProperty(i,"BackButton",{value:Gi,enumerable:!0}),Object.defineProperty(i,"MainButton",{value:Hl,enumerable:!0}),Object.defineProperty(i,"SettingsButton",{value:Ss,enumerable:!0}),Object.defineProperty(i,"HapticFeedback",{value:As,enumerable:!0}),Object.defineProperty(i,"CloudStorage",{value:Xi,enumerable:!0}),i.setHeaderColor=function(A){i.headerColor=A},i.setBackgroundColor=function(A){i.backgroundColor=A},i.enableClosingConfirmation=function(){i.isClosingConfirmationEnabled=!0},i.disableClosingConfirmation=function(){i.isClosingConfirmationEnabled=!1},i.isVersionAtLeast=function(A){return ye(A)},i.onEvent=function(A,C){z(A,C)},i.offEvent=function(A,C){E(A,C)},i.sendData=function(A){if(!A||!A.length)throw console.error("[Telegram.WebApp] Data is required",A),Error("WebAppDataInvalid");if(Ki(A)>4096)throw console.error("[Telegram.WebApp] Data is too long",A),Error("WebAppDataInvalid");e.postEvent("web_app_data_send",!1,{data:A})},i.switchInlineQuery=function(A,C){if(!ye("6.6"))throw console.error("[Telegram.WebApp] Method switchInlineQuery is not supported in version "+h),Error("WebAppMethodUnsupported");if(!n.tgWebAppBotInline)throw console.error("[Telegram.WebApp] Inline mode is disabled for this bot. Read more about inline mode: https://core.telegram.org/bots/inline"),Error("WebAppInlineModeDisabled");if(A=A||"",A.length>256)throw console.error("[Telegram.WebApp] Inline query is too long",A),Error("WebAppInlineQueryInvalid");var N=[];if(C){if(!Array.isArray(C))throw console.error("[Telegram.WebApp] Choose chat types should be an array",C),Error("WebAppInlineChooseChatTypesInvalid");for(var U={users:1,bots:1,groups:1,channels:1},H=0;H<C.length;H++){var se=C[H];if(!U[se])throw console.error("[Telegram.WebApp] Choose chat type is invalid",se),Error("WebAppInlineChooseChatTypeInvalid");U[se]!=2&&(U[se]=2,N.push(se))}}e.postEvent("web_app_switch_inline_query",!1,{query:A,chat_types:N})},i.openLink=function(U,C){var N=document.createElement("A");if(N.href=U,N.protocol!="http:"&&N.protocol!="https:")throw console.error("[Telegram.WebApp] Url protocol is not supported",U),Error("WebAppTgUrlInvalid");var U=N.href;C=C||{},ye("6.1")?e.postEvent("web_app_open_link",!1,{url:U,try_instant_view:ye("6.4")&&!!C.try_instant_view}):window.open(U,"_blank")},i.openTelegramLink=function(A){var C=document.createElement("A");if(C.href=A,C.protocol!="http:"&&C.protocol!="https:")throw console.error("[Telegram.WebApp] Url protocol is not supported",A),Error("WebAppTgUrlInvalid");if(C.hostname!="t.me")throw console.error("[Telegram.WebApp] Url host is not supported",A),Error("WebAppTgUrlInvalid");var N=C.pathname+C.search;r||ye("6.1")?e.postEvent("web_app_open_tg_link",!1,{path_full:N}):location.href="https://t.me"+N},i.openInvoice=function(A,C){var N=document.createElement("A"),U,H;if(N.href=A,N.protocol!="http:"&&N.protocol!="https:"||N.hostname!="t.me"||!(U=N.pathname.match(/^\/(\$|invoice\/)([A-Za-z0-9\-_=]+)$/))||!(H=U[2]))throw console.error("[Telegram.WebApp] Invoice url is invalid",A),Error("WebAppInvoiceUrlInvalid");if(!ye("6.1"))throw console.error("[Telegram.WebApp] Method openInvoice is not supported in version "+h),Error("WebAppMethodUnsupported");if(On[H])throw console.error("[Telegram.WebApp] Invoice is already opened"),Error("WebAppInvoiceOpened");On[H]={url:A,callback:C},e.postEvent("web_app_open_invoice",!1,{slug:H})},i.showPopup=function(A,C){if(!ye("6.2"))throw console.error("[Telegram.WebApp] Method showPopup is not supported in version "+h),Error("WebAppMethodUnsupported");if(vn)throw console.error("[Telegram.WebApp] Popup is already opened"),Error("WebAppPopupOpened");var N="",U="",H=[],se={};if(typeof A.title<"u"){if(N=D(A.title),N.length>64)throw console.error("[Telegram.WebApp] Popup title is too long",N),Error("WebAppPopupParamInvalid");N.length>0&&(se.title=N)}if(typeof A.message<"u"&&(U=D(A.message)),!U.length)throw console.error("[Telegram.WebApp] Popup message is required",A.message),Error("WebAppPopupParamInvalid");if(U.length>256)throw console.error("[Telegram.WebApp] Popup message is too long",U),Error("WebAppPopupParamInvalid");if(se.message=U,typeof A.buttons<"u"){if(!Array.isArray(A.buttons))throw console.error("[Telegram.WebApp] Popup buttons should be an array",A.buttons),Error("WebAppPopupParamInvalid");for(var Y=0;Y<A.buttons.length;Y++){var Pe=A.buttons[Y],ae={},ie="";if(typeof Pe.id<"u"&&(ie=Pe.id.toString(),ie.length>64))throw console.error("[Telegram.WebApp] Popup button id is too long",ie),Error("WebAppPopupParamInvalid");ae.id=ie;var Ce=Pe.type;if(typeof Ce>"u"&&(Ce="default"),ae.type=Ce,!(Ce=="ok"||Ce=="close"||Ce=="cancel"))if(Ce=="default"||Ce=="destructive"){var Gt="";if(typeof Pe.text<"u"&&(Gt=D(Pe.text)),!Gt.length)throw console.error("[Telegram.WebApp] Popup button text is required for type "+Ce,Pe.text),Error("WebAppPopupParamInvalid");if(Gt.length>64)throw console.error("[Telegram.WebApp] Popup button text is too long",Gt),Error("WebAppPopupParamInvalid");ae.text=Gt}else throw console.error("[Telegram.WebApp] Popup button type is invalid",Ce),Error("WebAppPopupParamInvalid");H.push(ae)}}else H.push({id:"",type:"close"});if(H.length<1)throw console.error("[Telegram.WebApp] Popup should have at least one button"),Error("WebAppPopupParamInvalid");if(H.length>3)throw console.error("[Telegram.WebApp] Popup should not have more than 3 buttons"),Error("WebAppPopupParamInvalid");se.buttons=H,vn={callback:C},e.postEvent("web_app_open_popup",!1,se)},i.showAlert=function(A,C){i.showPopup({message:A},C?function(){C()}:null)},i.showConfirm=function(A,C){i.showPopup({message:A,buttons:[{type:"ok",id:"ok"},{type:"cancel"}]},C?function(N){C(N=="ok")}:null)},i.showScanQrPopup=function(A,C){if(!ye("6.4"))throw console.error("[Telegram.WebApp] Method showScanQrPopup is not supported in version "+h),Error("WebAppMethodUnsupported");if(sn)throw console.error("[Telegram.WebApp] Popup is already opened"),Error("WebAppScanQrPopupOpened");var N="",U={};if(typeof A.text<"u"){if(N=D(A.text),N.length>64)throw console.error("[Telegram.WebApp] Scan QR popup text is too long",N),Error("WebAppScanQrPopupParamInvalid");N.length>0&&(U.text=N)}sn={callback:C},e.postEvent("web_app_open_scan_qr_popup",!1,U)},i.closeScanQrPopup=function(){if(!ye("6.4"))throw console.error("[Telegram.WebApp] Method closeScanQrPopup is not supported in version "+h),Error("WebAppMethodUnsupported");sn=!1,e.postEvent("web_app_close_scan_qr_popup",!1)},i.readTextFromClipboard=function(A){if(!ye("6.4"))throw console.error("[Telegram.WebApp] Method readTextFromClipboard is not supported in version "+h),Error("WebAppMethodUnsupported");var C=R(16),N={req_id:C};T[C]={callback:A},e.postEvent("web_app_read_text_from_clipboard",!1,N)},i.requestWriteAccess=function(A){if(!ye("6.9"))throw console.error("[Telegram.WebApp] Method requestWriteAccess is not supported in version "+h),Error("WebAppMethodUnsupported");if(Mn)throw console.error("[Telegram.WebApp] Write access is already requested"),Error("WebAppWriteAccessRequested");Mn={callback:A},e.postEvent("web_app_request_write_access")},i.requestContact=function(A){if(!ye("6.9"))throw console.error("[Telegram.WebApp] Method requestContact is not supported in version "+h),Error("WebAppMethodUnsupported");if(Kt)throw console.error("[Telegram.WebApp] Contact is already requested"),Error("WebAppContactRequested");Kt={callback:A},e.postEvent("web_app_request_phone")},i.invokeCustomMethod=function(A,C,N){gr(A,C,N)},i.ready=function(){e.postEvent("web_app_ready")},i.expand=function(){e.postEvent("web_app_expand")},i.close=function(){e.postEvent("web_app_close")},window.Telegram.WebApp=i,Lt(),Hi(),qt(),n.tgWebAppShowSettings&&Ss.show(),window.addEventListener("resize",g),r&&document.addEventListener("click",_),e.onEvent("theme_changed",O),e.onEvent("viewport_changed",S),e.onEvent("invoice_closed",Ql),e.onEvent("popup_closed",Yi),e.onEvent("qr_text_received",He),e.onEvent("scan_qr_popup_closed",Xe),e.onEvent("clipboard_text_received",Gr),e.onEvent("write_access_requested",Ps),e.onEvent("phone_requested",Cs),e.onEvent("custom_method_invoked",Rs),e.postEvent("web_app_request_theme"),e.postEvent("web_app_request_viewport")})();Object.defineProperty(Vl,"__esModule",{value:!0});Vl.WebApp=void 0;var A1=window;Vl.WebApp=A1.Telegram.WebApp;Object.defineProperty(Jy,"__esModule",{value:!0});var P1=Vl,tf=Jy.default=P1.WebApp;const C1=({username:t,userId:e,photoUrl:n})=>X.jsxs("div",{className:"profile",children:[X.jsxs("h2",{children:["Kullanıcı Adı: ",t]}),X.jsxs("h2",{children:["Kullanıcı ID: ",e]}),n&&X.jsx("img",{src:n,alt:"Profil",className:"profile-pic"})]}),R1=({username:t,userId:e,photoUrl:n})=>X.jsxs("div",{children:[X.jsx("h1",{children:"Profil Sayfası"}),X.jsx(C1,{username:t,userId:e,photoUrl:n})]});var Fp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},k1=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],a=t[n++],l=t[n++],u=((i&7)<<18|(o&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},ev={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],a=i+1<t.length,l=a?t[i+1]:0,u=i+2<t.length,h=u?t[i+2]:0,d=o>>2,m=(o&3)<<4|l>>4;let v=(l&15)<<2|h>>6,P=h&63;u||(P=64,a||(v=64)),r.push(n[d],n[m],n[v],n[P])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Zy(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):k1(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||l==null||h==null||m==null)throw new x1;const v=o<<2|l>>4;if(r.push(v),h!==64){const P=l<<4&240|h>>2;if(r.push(P),m!==64){const x=h<<6&192|m;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class x1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const V1=function(t){const e=Zy(t);return ev.encodeByteArray(e,!0)},el=function(t){return V1(t).replace(/\./g,"")},D1=function(t){try{return ev.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1=()=>N1().__FIREBASE_DEFAULTS__,M1=()=>{if(typeof process>"u"||typeof Fp>"u")return;const t=Fp.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},L1=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&D1(t[1]);return e&&JSON.parse(e)},nf=()=>{try{return O1()||M1()||L1()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},b1=t=>{var e,n;return(n=(e=nf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},F1=t=>{const e=b1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},tv=()=>{var t;return(t=nf())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[el(JSON.stringify(n)),el(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function z1(){var t;const e=(t=nf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $1(){return!z1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function W1(){try{return typeof indexedDB=="object"}catch{return!1}}function q1(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1="FirebaseError";class zi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=H1,Object.setPrototypeOf(this,zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nv.prototype.create)}}class nv{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?Q1(o,r):"Error",l=`${this.serviceName}: ${a} (${i}).`;return new zi(i,l,r)}}function Q1(t,e){return t.replace(K1,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const K1=/\{\$([^}]+)}/g;function Uc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],a=e[i];if(Up(o)&&Up(a)){if(!Uc(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Up(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(t){return t&&t._delegate?t._delegate:t}class ns{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new U1;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Y1(e))try{this.getOrInitializeService({instanceIdentifier:Ir})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ir){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ir){return this.instances.has(e)}getOptions(e=Ir){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);r===l&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:X1(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ir){return this.component?this.component.multipleInstances?e:Ir:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function X1(t){return t===Ir?void 0:t}function Y1(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new G1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var he;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(he||(he={}));const Z1={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},eT=he.INFO,tT={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},nT=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=tT[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class rv{constructor(e){this.name=e,this._logLevel=eT,this._logHandler=nT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in he))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Z1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...e),this._logHandler(this,he.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...e),this._logHandler(this,he.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,he.INFO,...e),this._logHandler(this,he.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,he.WARN,...e),this._logHandler(this,he.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...e),this._logHandler(this,he.ERROR,...e)}}const rT=(t,e)=>e.some(n=>t instanceof n);let jp,Bp;function iT(){return jp||(jp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oT(){return Bp||(Bp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iv=new WeakMap,jc=new WeakMap,ov=new WeakMap,Mu=new WeakMap,rf=new WeakMap;function sT(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(ir(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&iv.set(n,t)}).catch(()=>{}),rf.set(e,t),e}function aT(t){if(jc.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});jc.set(t,e)}let Bc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return jc.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ov.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ir(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function lT(t){Bc=t(Bc)}function uT(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Lu(this),e,...n);return ov.set(r,e.sort?e.sort():[e]),ir(r)}:oT().includes(t)?function(...e){return t.apply(Lu(this),e),ir(iv.get(this))}:function(...e){return ir(t.apply(Lu(this),e))}}function cT(t){return typeof t=="function"?uT(t):(t instanceof IDBTransaction&&aT(t),rT(t,iT())?new Proxy(t,Bc):t)}function ir(t){if(t instanceof IDBRequest)return sT(t);if(Mu.has(t))return Mu.get(t);const e=cT(t);return e!==t&&(Mu.set(t,e),rf.set(e,t)),e}const Lu=t=>rf.get(t);function hT(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),l=ir(a);return r&&a.addEventListener("upgradeneeded",u=>{r(ir(a.result),u.oldVersion,u.newVersion,ir(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const fT=["get","getKey","getAll","getAllKeys","count"],dT=["put","add","delete","clear"],bu=new Map;function zp(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(bu.get(e))return bu.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=dT.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||fT.includes(n)))return;const o=async function(a,...l){const u=this.transaction(a,i?"readwrite":"readonly");let h=u.store;return r&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),i&&u.done]))[0]};return bu.set(e,o),o}lT(t=>({...t,get:(e,n,r)=>zp(e,n)||t.get(e,n,r),has:(e,n)=>!!zp(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(mT(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function mT(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const zc="@firebase/app",$p="0.10.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br=new rv("@firebase/app"),gT="@firebase/app-compat",yT="@firebase/analytics-compat",vT="@firebase/analytics",_T="@firebase/app-check-compat",ET="@firebase/app-check",wT="@firebase/auth",TT="@firebase/auth-compat",IT="@firebase/database",ST="@firebase/database-compat",AT="@firebase/functions",PT="@firebase/functions-compat",CT="@firebase/installations",RT="@firebase/installations-compat",kT="@firebase/messaging",xT="@firebase/messaging-compat",VT="@firebase/performance",DT="@firebase/performance-compat",NT="@firebase/remote-config",OT="@firebase/remote-config-compat",MT="@firebase/storage",LT="@firebase/storage-compat",bT="@firebase/firestore",FT="@firebase/vertexai-preview",UT="@firebase/firestore-compat",jT="firebase",BT="10.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $c="[DEFAULT]",zT={[zc]:"fire-core",[gT]:"fire-core-compat",[vT]:"fire-analytics",[yT]:"fire-analytics-compat",[ET]:"fire-app-check",[_T]:"fire-app-check-compat",[wT]:"fire-auth",[TT]:"fire-auth-compat",[IT]:"fire-rtdb",[ST]:"fire-rtdb-compat",[AT]:"fire-fn",[PT]:"fire-fn-compat",[CT]:"fire-iid",[RT]:"fire-iid-compat",[kT]:"fire-fcm",[xT]:"fire-fcm-compat",[VT]:"fire-perf",[DT]:"fire-perf-compat",[NT]:"fire-rc",[OT]:"fire-rc-compat",[MT]:"fire-gcs",[LT]:"fire-gcs-compat",[bT]:"fire-fst",[UT]:"fire-fst-compat",[FT]:"fire-vertex","fire-js":"fire-js",[jT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tl=new Map,$T=new Map,Wc=new Map;function Wp(t,e){try{t.container.addComponent(e)}catch(n){br.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function nl(t){const e=t.name;if(Wc.has(e))return br.debug(`There were multiple attempts to register component ${e}.`),!1;Wc.set(e,t);for(const n of tl.values())Wp(n,t);for(const n of $T.values())Wp(n,t);return!0}function WT(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},or=new nv("app","Firebase",qT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ns("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw or.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT=BT;function sv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:$c,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw or.create("bad-app-name",{appName:String(i)});if(n||(n=tv()),!n)throw or.create("no-options");const o=tl.get(i);if(o){if(Uc(n,o.options)&&Uc(r,o.config))return o;throw or.create("duplicate-app",{appName:i})}const a=new J1(i);for(const u of Wc.values())a.addComponent(u);const l=new HT(n,r,a);return tl.set(i,l),l}function KT(t=$c){const e=tl.get(t);if(!e&&t===$c&&tv())return sv();if(!e)throw or.create("no-app",{appName:t});return e}function Ti(t,e,n){var r;let i=(r=zT[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const l=[`Unable to register library "${i}" with version "${e}":`];o&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&l.push("and"),a&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),br.warn(l.join(" "));return}nl(new ns(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="firebase-heartbeat-database",XT=1,rs="firebase-heartbeat-store";let Fu=null;function av(){return Fu||(Fu=hT(GT,XT,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(rs)}catch(n){console.warn(n)}}}}).catch(t=>{throw or.create("idb-open",{originalErrorMessage:t.message})})),Fu}async function YT(t){try{const n=(await av()).transaction(rs),r=await n.objectStore(rs).get(lv(t));return await n.done,r}catch(e){if(e instanceof zi)br.warn(e.message);else{const n=or.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});br.warn(n.message)}}}async function qp(t,e){try{const r=(await av()).transaction(rs,"readwrite");await r.objectStore(rs).put(e,lv(t)),await r.done}catch(n){if(n instanceof zi)br.warn(n.message);else{const r=or.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});br.warn(r.message)}}}function lv(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT=1024,ZT=30*24*60*60*1e3;class eI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new nI(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Hp();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const l=new Date(a.date).valueOf();return Date.now()-l<=ZT}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Hp(),{heartbeatsToSend:r,unsentEntries:i}=tI(this._heartbeatsCache.heartbeats),o=el(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function Hp(){return new Date().toISOString().substring(0,10)}function tI(t,e=JT){const n=[];let r=t.slice();for(const i of t){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),Qp(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Qp(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class nI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return W1()?q1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await YT(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return qp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return qp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Qp(t){return el(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(t){nl(new ns("platform-logger",e=>new pT(e),"PRIVATE")),nl(new ns("heartbeat",e=>new eI(e),"PRIVATE")),Ti(zc,$p,t),Ti(zc,$p,"esm2017"),Ti("fire-js","")}rI("");var Kp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xr,uv;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,y){function w(){}w.prototype=y.prototype,E.D=y.prototype,E.prototype=new w,E.prototype.constructor=E,E.C=function(T,R,k){for(var I=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)I[pt-2]=arguments[pt];return y.prototype[R].apply(T,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,y,w){w||(w=0);var T=Array(16);if(typeof y=="string")for(var R=0;16>R;++R)T[R]=y.charCodeAt(w++)|y.charCodeAt(w++)<<8|y.charCodeAt(w++)<<16|y.charCodeAt(w++)<<24;else for(R=0;16>R;++R)T[R]=y[w++]|y[w++]<<8|y[w++]<<16|y[w++]<<24;y=E.g[0],w=E.g[1],R=E.g[2];var k=E.g[3],I=y+(k^w&(R^k))+T[0]+3614090360&4294967295;y=w+(I<<7&4294967295|I>>>25),I=k+(R^y&(w^R))+T[1]+3905402710&4294967295,k=y+(I<<12&4294967295|I>>>20),I=R+(w^k&(y^w))+T[2]+606105819&4294967295,R=k+(I<<17&4294967295|I>>>15),I=w+(y^R&(k^y))+T[3]+3250441966&4294967295,w=R+(I<<22&4294967295|I>>>10),I=y+(k^w&(R^k))+T[4]+4118548399&4294967295,y=w+(I<<7&4294967295|I>>>25),I=k+(R^y&(w^R))+T[5]+1200080426&4294967295,k=y+(I<<12&4294967295|I>>>20),I=R+(w^k&(y^w))+T[6]+2821735955&4294967295,R=k+(I<<17&4294967295|I>>>15),I=w+(y^R&(k^y))+T[7]+4249261313&4294967295,w=R+(I<<22&4294967295|I>>>10),I=y+(k^w&(R^k))+T[8]+1770035416&4294967295,y=w+(I<<7&4294967295|I>>>25),I=k+(R^y&(w^R))+T[9]+2336552879&4294967295,k=y+(I<<12&4294967295|I>>>20),I=R+(w^k&(y^w))+T[10]+4294925233&4294967295,R=k+(I<<17&4294967295|I>>>15),I=w+(y^R&(k^y))+T[11]+2304563134&4294967295,w=R+(I<<22&4294967295|I>>>10),I=y+(k^w&(R^k))+T[12]+1804603682&4294967295,y=w+(I<<7&4294967295|I>>>25),I=k+(R^y&(w^R))+T[13]+4254626195&4294967295,k=y+(I<<12&4294967295|I>>>20),I=R+(w^k&(y^w))+T[14]+2792965006&4294967295,R=k+(I<<17&4294967295|I>>>15),I=w+(y^R&(k^y))+T[15]+1236535329&4294967295,w=R+(I<<22&4294967295|I>>>10),I=y+(R^k&(w^R))+T[1]+4129170786&4294967295,y=w+(I<<5&4294967295|I>>>27),I=k+(w^R&(y^w))+T[6]+3225465664&4294967295,k=y+(I<<9&4294967295|I>>>23),I=R+(y^w&(k^y))+T[11]+643717713&4294967295,R=k+(I<<14&4294967295|I>>>18),I=w+(k^y&(R^k))+T[0]+3921069994&4294967295,w=R+(I<<20&4294967295|I>>>12),I=y+(R^k&(w^R))+T[5]+3593408605&4294967295,y=w+(I<<5&4294967295|I>>>27),I=k+(w^R&(y^w))+T[10]+38016083&4294967295,k=y+(I<<9&4294967295|I>>>23),I=R+(y^w&(k^y))+T[15]+3634488961&4294967295,R=k+(I<<14&4294967295|I>>>18),I=w+(k^y&(R^k))+T[4]+3889429448&4294967295,w=R+(I<<20&4294967295|I>>>12),I=y+(R^k&(w^R))+T[9]+568446438&4294967295,y=w+(I<<5&4294967295|I>>>27),I=k+(w^R&(y^w))+T[14]+3275163606&4294967295,k=y+(I<<9&4294967295|I>>>23),I=R+(y^w&(k^y))+T[3]+4107603335&4294967295,R=k+(I<<14&4294967295|I>>>18),I=w+(k^y&(R^k))+T[8]+1163531501&4294967295,w=R+(I<<20&4294967295|I>>>12),I=y+(R^k&(w^R))+T[13]+2850285829&4294967295,y=w+(I<<5&4294967295|I>>>27),I=k+(w^R&(y^w))+T[2]+4243563512&4294967295,k=y+(I<<9&4294967295|I>>>23),I=R+(y^w&(k^y))+T[7]+1735328473&4294967295,R=k+(I<<14&4294967295|I>>>18),I=w+(k^y&(R^k))+T[12]+2368359562&4294967295,w=R+(I<<20&4294967295|I>>>12),I=y+(w^R^k)+T[5]+4294588738&4294967295,y=w+(I<<4&4294967295|I>>>28),I=k+(y^w^R)+T[8]+2272392833&4294967295,k=y+(I<<11&4294967295|I>>>21),I=R+(k^y^w)+T[11]+1839030562&4294967295,R=k+(I<<16&4294967295|I>>>16),I=w+(R^k^y)+T[14]+4259657740&4294967295,w=R+(I<<23&4294967295|I>>>9),I=y+(w^R^k)+T[1]+2763975236&4294967295,y=w+(I<<4&4294967295|I>>>28),I=k+(y^w^R)+T[4]+1272893353&4294967295,k=y+(I<<11&4294967295|I>>>21),I=R+(k^y^w)+T[7]+4139469664&4294967295,R=k+(I<<16&4294967295|I>>>16),I=w+(R^k^y)+T[10]+3200236656&4294967295,w=R+(I<<23&4294967295|I>>>9),I=y+(w^R^k)+T[13]+681279174&4294967295,y=w+(I<<4&4294967295|I>>>28),I=k+(y^w^R)+T[0]+3936430074&4294967295,k=y+(I<<11&4294967295|I>>>21),I=R+(k^y^w)+T[3]+3572445317&4294967295,R=k+(I<<16&4294967295|I>>>16),I=w+(R^k^y)+T[6]+76029189&4294967295,w=R+(I<<23&4294967295|I>>>9),I=y+(w^R^k)+T[9]+3654602809&4294967295,y=w+(I<<4&4294967295|I>>>28),I=k+(y^w^R)+T[12]+3873151461&4294967295,k=y+(I<<11&4294967295|I>>>21),I=R+(k^y^w)+T[15]+530742520&4294967295,R=k+(I<<16&4294967295|I>>>16),I=w+(R^k^y)+T[2]+3299628645&4294967295,w=R+(I<<23&4294967295|I>>>9),I=y+(R^(w|~k))+T[0]+4096336452&4294967295,y=w+(I<<6&4294967295|I>>>26),I=k+(w^(y|~R))+T[7]+1126891415&4294967295,k=y+(I<<10&4294967295|I>>>22),I=R+(y^(k|~w))+T[14]+2878612391&4294967295,R=k+(I<<15&4294967295|I>>>17),I=w+(k^(R|~y))+T[5]+4237533241&4294967295,w=R+(I<<21&4294967295|I>>>11),I=y+(R^(w|~k))+T[12]+1700485571&4294967295,y=w+(I<<6&4294967295|I>>>26),I=k+(w^(y|~R))+T[3]+2399980690&4294967295,k=y+(I<<10&4294967295|I>>>22),I=R+(y^(k|~w))+T[10]+4293915773&4294967295,R=k+(I<<15&4294967295|I>>>17),I=w+(k^(R|~y))+T[1]+2240044497&4294967295,w=R+(I<<21&4294967295|I>>>11),I=y+(R^(w|~k))+T[8]+1873313359&4294967295,y=w+(I<<6&4294967295|I>>>26),I=k+(w^(y|~R))+T[15]+4264355552&4294967295,k=y+(I<<10&4294967295|I>>>22),I=R+(y^(k|~w))+T[6]+2734768916&4294967295,R=k+(I<<15&4294967295|I>>>17),I=w+(k^(R|~y))+T[13]+1309151649&4294967295,w=R+(I<<21&4294967295|I>>>11),I=y+(R^(w|~k))+T[4]+4149444226&4294967295,y=w+(I<<6&4294967295|I>>>26),I=k+(w^(y|~R))+T[11]+3174756917&4294967295,k=y+(I<<10&4294967295|I>>>22),I=R+(y^(k|~w))+T[2]+718787259&4294967295,R=k+(I<<15&4294967295|I>>>17),I=w+(k^(R|~y))+T[9]+3951481745&4294967295,E.g[0]=E.g[0]+y&4294967295,E.g[1]=E.g[1]+(R+(I<<21&4294967295|I>>>11))&4294967295,E.g[2]=E.g[2]+R&4294967295,E.g[3]=E.g[3]+k&4294967295}r.prototype.u=function(E,y){y===void 0&&(y=E.length);for(var w=y-this.blockSize,T=this.B,R=this.h,k=0;k<y;){if(R==0)for(;k<=w;)i(this,E,k),k+=this.blockSize;if(typeof E=="string"){for(;k<y;)if(T[R++]=E.charCodeAt(k++),R==this.blockSize){i(this,T),R=0;break}}else for(;k<y;)if(T[R++]=E[k++],R==this.blockSize){i(this,T),R=0;break}}this.h=R,this.o+=y},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var y=1;y<E.length-8;++y)E[y]=0;var w=8*this.o;for(y=E.length-8;y<E.length;++y)E[y]=w&255,w/=256;for(this.u(E),E=Array(16),y=w=0;4>y;++y)for(var T=0;32>T;T+=8)E[w++]=this.g[y]>>>T&255;return E};function o(E,y){var w=l;return Object.prototype.hasOwnProperty.call(w,E)?w[E]:w[E]=y(E)}function a(E,y){this.h=y;for(var w=[],T=!0,R=E.length-1;0<=R;R--){var k=E[R]|0;T&&k==y||(w[R]=k,T=!1)}this.g=w}var l={};function u(E){return-128<=E&&128>E?o(E,function(y){return new a([y|0],0>y?-1:0)}):new a([E|0],0>E?-1:0)}function h(E){if(isNaN(E)||!isFinite(E))return m;if(0>E)return M(h(-E));for(var y=[],w=1,T=0;E>=w;T++)y[T]=E/w|0,w*=4294967296;return new a(y,0)}function d(E,y){if(E.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(E.charAt(0)=="-")return M(d(E.substring(1),y));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=h(Math.pow(y,8)),T=m,R=0;R<E.length;R+=8){var k=Math.min(8,E.length-R),I=parseInt(E.substring(R,R+k),y);8>k?(k=h(Math.pow(y,k)),T=T.j(k).add(h(I))):(T=T.j(w),T=T.add(h(I)))}return T}var m=u(0),v=u(1),P=u(16777216);t=a.prototype,t.m=function(){if(O(this))return-M(this).m();for(var E=0,y=1,w=0;w<this.g.length;w++){var T=this.i(w);E+=(0<=T?T:4294967296+T)*y,y*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(x(this))return"0";if(O(this))return"-"+M(this).toString(E);for(var y=h(Math.pow(E,6)),w=this,T="";;){var R=D(w,y).g;w=S(w,R.j(y));var k=((0<w.g.length?w.g[0]:w.h)>>>0).toString(E);if(w=R,x(w))return k+T;for(;6>k.length;)k="0"+k;T=k+T}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function x(E){if(E.h!=0)return!1;for(var y=0;y<E.g.length;y++)if(E.g[y]!=0)return!1;return!0}function O(E){return E.h==-1}t.l=function(E){return E=S(this,E),O(E)?-1:x(E)?0:1};function M(E){for(var y=E.g.length,w=[],T=0;T<y;T++)w[T]=~E.g[T];return new a(w,~E.h).add(v)}t.abs=function(){return O(this)?M(this):this},t.add=function(E){for(var y=Math.max(this.g.length,E.g.length),w=[],T=0,R=0;R<=y;R++){var k=T+(this.i(R)&65535)+(E.i(R)&65535),I=(k>>>16)+(this.i(R)>>>16)+(E.i(R)>>>16);T=I>>>16,k&=65535,I&=65535,w[R]=I<<16|k}return new a(w,w[w.length-1]&-2147483648?-1:0)};function S(E,y){return E.add(M(y))}t.j=function(E){if(x(this)||x(E))return m;if(O(this))return O(E)?M(this).j(M(E)):M(M(this).j(E));if(O(E))return M(this.j(M(E)));if(0>this.l(P)&&0>E.l(P))return h(this.m()*E.m());for(var y=this.g.length+E.g.length,w=[],T=0;T<2*y;T++)w[T]=0;for(T=0;T<this.g.length;T++)for(var R=0;R<E.g.length;R++){var k=this.i(T)>>>16,I=this.i(T)&65535,pt=E.i(R)>>>16,qt=E.i(R)&65535;w[2*T+2*R]+=I*qt,g(w,2*T+2*R),w[2*T+2*R+1]+=k*qt,g(w,2*T+2*R+1),w[2*T+2*R+1]+=I*pt,g(w,2*T+2*R+1),w[2*T+2*R+2]+=k*pt,g(w,2*T+2*R+2)}for(T=0;T<y;T++)w[T]=w[2*T+1]<<16|w[2*T];for(T=y;T<2*y;T++)w[T]=0;return new a(w,0)};function g(E,y){for(;(E[y]&65535)!=E[y];)E[y+1]+=E[y]>>>16,E[y]&=65535,y++}function _(E,y){this.g=E,this.h=y}function D(E,y){if(x(y))throw Error("division by zero");if(x(E))return new _(m,m);if(O(E))return y=D(M(E),y),new _(M(y.g),M(y.h));if(O(y))return y=D(E,M(y)),new _(M(y.g),y.h);if(30<E.g.length){if(O(E)||O(y))throw Error("slowDivide_ only works with positive integers.");for(var w=v,T=y;0>=T.l(E);)w=b(w),T=b(T);var R=z(w,1),k=z(T,1);for(T=z(T,2),w=z(w,2);!x(T);){var I=k.add(T);0>=I.l(E)&&(R=R.add(w),k=I),T=z(T,1),w=z(w,1)}return y=S(E,R.j(y)),new _(R,y)}for(R=m;0<=E.l(y);){for(w=Math.max(1,Math.floor(E.m()/y.m())),T=Math.ceil(Math.log(w)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),k=h(w),I=k.j(y);O(I)||0<I.l(E);)w-=T,k=h(w),I=k.j(y);x(k)&&(k=v),R=R.add(k),E=S(E,I)}return new _(R,E)}t.A=function(E){return D(this,E).h},t.and=function(E){for(var y=Math.max(this.g.length,E.g.length),w=[],T=0;T<y;T++)w[T]=this.i(T)&E.i(T);return new a(w,this.h&E.h)},t.or=function(E){for(var y=Math.max(this.g.length,E.g.length),w=[],T=0;T<y;T++)w[T]=this.i(T)|E.i(T);return new a(w,this.h|E.h)},t.xor=function(E){for(var y=Math.max(this.g.length,E.g.length),w=[],T=0;T<y;T++)w[T]=this.i(T)^E.i(T);return new a(w,this.h^E.h)};function b(E){for(var y=E.g.length+1,w=[],T=0;T<y;T++)w[T]=E.i(T)<<1|E.i(T-1)>>>31;return new a(w,E.h)}function z(E,y){var w=y>>5;y%=32;for(var T=E.g.length-w,R=[],k=0;k<T;k++)R[k]=0<y?E.i(k+w)>>>y|E.i(k+w+1)<<32-y:E.i(k+w);return new a(R,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,uv=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=d,xr=a}).apply(typeof Kp<"u"?Kp:typeof self<"u"?self:typeof window<"u"?window:{});var la=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cv,hv,wo,fv,Sa,qc,dv,pv,mv;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(s,c,f){return s==Array.prototype||s==Object.prototype||(s[c]=f.value),s};function n(s){s=[typeof globalThis=="object"&&globalThis,s,typeof window=="object"&&window,typeof self=="object"&&self,typeof la=="object"&&la];for(var c=0;c<s.length;++c){var f=s[c];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(s,c){if(c)e:{var f=r;s=s.split(".");for(var p=0;p<s.length-1;p++){var V=s[p];if(!(V in f))break e;f=f[V]}s=s[s.length-1],p=f[s],c=c(p),c!=p&&c!=null&&e(f,s,{configurable:!0,writable:!0,value:c})}}function o(s,c){s instanceof String&&(s+="");var f=0,p=!1,V={next:function(){if(!p&&f<s.length){var L=f++;return{value:c(L,s[L]),done:!1}}return p=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(s){return s||function(){return o(this,function(c,f){return f})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function u(s){var c=typeof s;return c=c!="object"?c:s?Array.isArray(s)?"array":c:"null",c=="array"||c=="object"&&typeof s.length=="number"}function h(s){var c=typeof s;return c=="object"&&s!=null||c=="function"}function d(s,c,f){return s.call.apply(s.bind,arguments)}function m(s,c,f){if(!s)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,p),s.apply(c,V)}}return function(){return s.apply(c,arguments)}}function v(s,c,f){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:m,v.apply(null,arguments)}function P(s,c){var f=Array.prototype.slice.call(arguments,1);return function(){var p=f.slice();return p.push.apply(p,arguments),s.apply(this,p)}}function x(s,c){function f(){}f.prototype=c.prototype,s.aa=c.prototype,s.prototype=new f,s.prototype.constructor=s,s.Qb=function(p,V,L){for(var $=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)$[ve-2]=arguments[ve];return c.prototype[V].apply(p,$)}}function O(s){const c=s.length;if(0<c){const f=Array(c);for(let p=0;p<c;p++)f[p]=s[p];return f}return[]}function M(s,c){for(let f=1;f<arguments.length;f++){const p=arguments[f];if(u(p)){const V=s.length||0,L=p.length||0;s.length=V+L;for(let $=0;$<L;$++)s[V+$]=p[$]}else s.push(p)}}class S{constructor(c,f){this.i=c,this.j=f,this.h=0,this.g=null}get(){let c;return 0<this.h?(this.h--,c=this.g,this.g=c.next,c.next=null):c=this.i(),c}}function g(s){return/^[\s\xa0]*$/.test(s)}function _(){var s=l.navigator;return s&&(s=s.userAgent)?s:""}function D(s){return D[" "](s),s}D[" "]=function(){};var b=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function z(s,c,f){for(const p in s)c.call(f,s[p],p,s)}function E(s,c){for(const f in s)c.call(void 0,s[f],f,s)}function y(s){const c={};for(const f in s)c[f]=s[f];return c}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(s,c){let f,p;for(let V=1;V<arguments.length;V++){p=arguments[V];for(f in p)s[f]=p[f];for(let L=0;L<w.length;L++)f=w[L],Object.prototype.hasOwnProperty.call(p,f)&&(s[f]=p[f])}}function R(s){var c=1;s=s.split(":");const f=[];for(;0<c&&s.length;)f.push(s.shift()),c--;return s.length&&f.push(s.join(":")),f}function k(s){l.setTimeout(()=>{throw s},0)}function I(){var s=J;let c=null;return s.g&&(c=s.g,s.g=s.g.next,s.g||(s.h=null),c.next=null),c}class pt{constructor(){this.h=this.g=null}add(c,f){const p=qt.get();p.set(c,f),this.h?this.h.next=p:this.g=p,this.h=p}}var qt=new S(()=>new yn,s=>s.reset());class yn{constructor(){this.next=this.g=this.h=null}set(c,f){this.h=c,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Ht,W=!1,J=new pt,re=()=>{const s=l.Promise.resolve(void 0);Ht=()=>{s.then(we)}};var we=()=>{for(var s;s=I();){try{s.h.call(s.g)}catch(f){k(f)}var c=qt;c.j(s),100>c.h&&(c.h++,s.next=c.g,c.g=s)}W=!1};function me(){this.s=this.s,this.C=this.C}me.prototype.s=!1,me.prototype.ma=function(){this.s||(this.s=!0,this.N())},me.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Te(s,c){this.type=s,this.g=this.target=c,this.defaultPrevented=!1}Te.prototype.h=function(){this.defaultPrevented=!0};var Lt=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var s=!1,c=Object.defineProperty({},"passive",{get:function(){s=!0}});try{const f=()=>{};l.addEventListener("test",f,c),l.removeEventListener("test",f,c)}catch{}return s}();function _t(s,c){if(Te.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,s){var f=this.type=s.type,p=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=c,c=s.relatedTarget){if(b){e:{try{D(c.nodeName);var V=!0;break e}catch{}V=!1}V||(c=null)}}else f=="mouseover"?c=s.fromElement:f=="mouseout"&&(c=s.toElement);this.relatedTarget=c,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType=typeof s.pointerType=="string"?s.pointerType:bt[s.pointerType]||"",this.state=s.state,this.i=s,s.defaultPrevented&&_t.aa.h.call(this)}}x(_t,Te);var bt={2:"touch",3:"pen",4:"mouse"};_t.prototype.h=function(){_t.aa.h.call(this);var s=this.i;s.preventDefault?s.preventDefault():s.returnValue=!1};var Qt="closure_listenable_"+(1e6*Math.random()|0),Is=0;function Hi(s,c,f,p,V){this.listener=s,this.proxy=null,this.src=c,this.type=f,this.capture=!!p,this.ha=V,this.key=++Is,this.da=this.fa=!1}function on(s){s.da=!0,s.listener=null,s.proxy=null,s.src=null,s.ha=null}function Kr(s){this.src=s,this.g={},this.h=0}Kr.prototype.add=function(s,c,f,p,V){var L=s.toString();s=this.g[L],s||(s=this.g[L]=[],this.h++);var $=ye(s,c,p,V);return-1<$?(c=s[$],f||(c.fa=!1)):(c=new Hi(c,this.src,L,!!p,V),c.fa=f,s.push(c)),c};function Qi(s,c){var f=c.type;if(f in s.g){var p=s.g[f],V=Array.prototype.indexOf.call(p,c,void 0),L;(L=0<=V)&&Array.prototype.splice.call(p,V,1),L&&(on(c),s.g[f].length==0&&(delete s.g[f],s.h--))}}function ye(s,c,f,p){for(var V=0;V<s.length;++V){var L=s[V];if(!L.da&&L.listener==c&&L.capture==!!f&&L.ha==p)return V}return-1}var Ki="closure_lm_"+(1e6*Math.random()|0),Gi={};function Et(s,c,f,p,V){if(Array.isArray(c)){for(var L=0;L<c.length;L++)Et(s,c[L],f,p,V);return null}return f=sn(f),s&&s[Qt]?s.K(c,f,h(p)?!!p.capture:!!p,V):Hl(s,c,f,!1,p,V)}function Hl(s,c,f,p,V,L){if(!c)throw Error("Invalid event type");var $=h(V)?!!V.capture:!!V,ve=vn(s);if(ve||(s[Ki]=ve=new Kr(s)),f=ve.add(c,f,p,$,L),f.proxy)return f;if(p=Ss(),f.proxy=p,p.src=s,p.listener=f,s.addEventListener)Lt||(V=$),V===void 0&&(V=!1),s.addEventListener(c.toString(),p,V);else if(s.attachEvent)s.attachEvent(On(c.toString()),p);else if(s.addListener&&s.removeListener)s.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return f}function Ss(){function s(f){return c.call(s.src,s.listener,f)}const c=Ql;return s}function As(s,c,f,p,V){if(Array.isArray(c))for(var L=0;L<c.length;L++)As(s,c[L],f,p,V);else p=h(p)?!!p.capture:!!p,f=sn(f),s&&s[Qt]?(s=s.i,c=String(c).toString(),c in s.g&&(L=s.g[c],f=ye(L,f,p,V),-1<f&&(on(L[f]),Array.prototype.splice.call(L,f,1),L.length==0&&(delete s.g[c],s.h--)))):s&&(s=vn(s))&&(c=s.g[c.toString()],s=-1,c&&(s=ye(c,f,p,V)),(f=-1<s?c[s]:null)&&Xi(f))}function Xi(s){if(typeof s!="number"&&s&&!s.da){var c=s.src;if(c&&c[Qt])Qi(c.i,s);else{var f=s.type,p=s.proxy;c.removeEventListener?c.removeEventListener(f,p,s.capture):c.detachEvent?c.detachEvent(On(f),p):c.addListener&&c.removeListener&&c.removeListener(p),(f=vn(c))?(Qi(f,s),f.h==0&&(f.src=null,c[Ki]=null)):on(s)}}}function On(s){return s in Gi?Gi[s]:Gi[s]="on"+s}function Ql(s,c){if(s.da)s=!0;else{c=new _t(c,this);var f=s.listener,p=s.ha||s.src;s.fa&&Xi(s),s=f.call(p,c)}return s}function vn(s){return s=s[Ki],s instanceof Kr?s:null}var Yi="__closure_events_fn_"+(1e9*Math.random()>>>0);function sn(s){return typeof s=="function"?s:(s[Yi]||(s[Yi]=function(c){return s.handleEvent(c)}),s[Yi])}function He(){me.call(this),this.i=new Kr(this),this.M=this,this.F=null}x(He,me),He.prototype[Qt]=!0,He.prototype.removeEventListener=function(s,c,f,p){As(this,s,c,f,p)};function Xe(s,c){var f,p=s.F;if(p)for(f=[];p;p=p.F)f.push(p);if(s=s.M,p=c.type||c,typeof c=="string")c=new Te(c,s);else if(c instanceof Te)c.target=c.target||s;else{var V=c;c=new Te(p,s),T(c,V)}if(V=!0,f)for(var L=f.length-1;0<=L;L--){var $=c.g=f[L];V=Gr($,p,!0,c)&&V}if($=c.g=s,V=Gr($,p,!0,c)&&V,V=Gr($,p,!1,c)&&V,f)for(L=0;L<f.length;L++)$=c.g=f[L],V=Gr($,p,!1,c)&&V}He.prototype.N=function(){if(He.aa.N.call(this),this.i){var s=this.i,c;for(c in s.g){for(var f=s.g[c],p=0;p<f.length;p++)on(f[p]);delete s.g[c],s.h--}}this.F=null},He.prototype.K=function(s,c,f,p){return this.i.add(String(s),c,!1,f,p)},He.prototype.L=function(s,c,f,p){return this.i.add(String(s),c,!0,f,p)};function Gr(s,c,f,p){if(c=s.i.g[String(c)],!c)return!0;c=c.concat();for(var V=!0,L=0;L<c.length;++L){var $=c[L];if($&&!$.da&&$.capture==f){var ve=$.listener,Ye=$.ha||$.src;$.fa&&Qi(s.i,$),V=ve.call(Ye,p)!==!1&&V}}return V&&!p.defaultPrevented}function Mn(s,c,f){if(typeof s=="function")f&&(s=v(s,f));else if(s&&typeof s.handleEvent=="function")s=v(s.handleEvent,s);else throw Error("Invalid listener argument");return 2147483647<Number(c)?-1:l.setTimeout(s,c||0)}function Ps(s){s.g=Mn(()=>{s.g=null,s.i&&(s.i=!1,Ps(s))},s.l);const c=s.h;s.h=null,s.m.apply(null,c)}class Kl extends me{constructor(c,f){super(),this.m=c,this.l=f,this.h=null,this.i=!1,this.g=null}j(c){this.h=arguments,this.g?this.i=!0:Ps(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kt(s){me.call(this),this.h=s,this.g={}}x(Kt,me);var Cs=[];function Rs(s){z(s.g,function(c,f){this.g.hasOwnProperty(f)&&Xi(c)},s),s.g={}}Kt.prototype.N=function(){Kt.aa.N.call(this),Rs(this)},Kt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gr=l.JSON.stringify,A=l.JSON.parse,C=class{stringify(s){return l.JSON.stringify(s,void 0)}parse(s){return l.JSON.parse(s,void 0)}};function N(){}N.prototype.h=null;function U(s){return s.h||(s.h=s.i())}function H(){}var se={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Y(){Te.call(this,"d")}x(Y,Te);function Pe(){Te.call(this,"c")}x(Pe,Te);var ae={},ie=null;function Ce(){return ie=ie||new He}ae.La="serverreachability";function Gt(s){Te.call(this,ae.La,s)}x(Gt,Te);function Ln(s){const c=Ce();Xe(c,new Gt(c))}ae.STAT_EVENT="statevent";function ks(s,c){Te.call(this,ae.STAT_EVENT,s),this.stat=c}x(ks,Te);function Be(s){const c=Ce();Xe(c,new ks(c,s))}ae.Ma="timingevent";function xs(s,c){Te.call(this,ae.Ma,s),this.size=c}x(xs,Te);function yr(s,c){if(typeof s!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){s()},c)}function K(){this.g=!0}K.prototype.xa=function(){this.g=!1};function Ft(s,c,f,p,V,L){s.info(function(){if(s.g)if(L)for(var $="",ve=L.split("&"),Ye=0;Ye<ve.length;Ye++){var de=ve[Ye].split("=");if(1<de.length){var it=de[0];de=de[1];var ot=it.split("_");$=2<=ot.length&&ot[1]=="type"?$+(it+"="+de+"&"):$+(it+"=redacted&")}}else $=null;else $=L;return"XMLHTTP REQ ("+p+") [attempt "+V+"]: "+c+`
`+f+`
`+$})}function Vs(s,c,f,p,V,L,$){s.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+V+"]: "+c+`
`+f+`
`+L+" "+$})}function _n(s,c,f,p){s.info(function(){return"XMLHTTP TEXT ("+c+"): "+V_(s,f)+(p?" "+p:"")})}function x_(s,c){s.info(function(){return"TIMEOUT: "+c})}K.prototype.info=function(){};function V_(s,c){if(!s.g)return c;if(!c)return null;try{var f=JSON.parse(c);if(f){for(s=0;s<f.length;s++)if(Array.isArray(f[s])){var p=f[s];if(!(2>p.length)){var V=p[1];if(Array.isArray(V)&&!(1>V.length)){var L=V[0];if(L!="noop"&&L!="stop"&&L!="close")for(var $=1;$<V.length;$++)V[$]=""}}}}return gr(f)}catch{return c}}var Ds={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Lf={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Gl;function Ns(){}x(Ns,N),Ns.prototype.g=function(){return new XMLHttpRequest},Ns.prototype.i=function(){return{}},Gl=new Ns;function bn(s,c,f,p){this.j=s,this.i=c,this.l=f,this.R=p||1,this.U=new Kt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new bf}function bf(){this.i=null,this.g="",this.h=!1}var Ff={},Xl={};function Yl(s,c,f){s.L=1,s.v=bs(En(c)),s.m=f,s.P=!0,Uf(s,null)}function Uf(s,c){s.F=Date.now(),Os(s),s.A=En(s.v);var f=s.A,p=s.R;Array.isArray(p)||(p=[String(p)]),Zf(f.i,"t",p),s.C=0,f=s.j.J,s.h=new bf,s.g=yd(s.j,f?c:null,!s.m),0<s.O&&(s.M=new Kl(v(s.Y,s,s.g),s.O)),c=s.U,f=s.g,p=s.ca;var V="readystatechange";Array.isArray(V)||(V&&(Cs[0]=V.toString()),V=Cs);for(var L=0;L<V.length;L++){var $=Et(f,V[L],p||c.handleEvent,!1,c.h||c);if(!$)break;c.g[$.key]=$}c=s.H?y(s.H):{},s.m?(s.u||(s.u="POST"),c["Content-Type"]="application/x-www-form-urlencoded",s.g.ea(s.A,s.u,s.m,c)):(s.u="GET",s.g.ea(s.A,s.u,null,c)),Ln(),Ft(s.i,s.u,s.A,s.l,s.R,s.m)}bn.prototype.ca=function(s){s=s.target;const c=this.M;c&&wn(s)==3?c.j():this.Y(s)},bn.prototype.Y=function(s){try{if(s==this.g)e:{const ot=wn(this.g);var c=this.g.Ba();const Jr=this.g.Z();if(!(3>ot)&&(ot!=3||this.g&&(this.h.h||this.g.oa()||sd(this.g)))){this.J||ot!=4||c==7||(c==8||0>=Jr?Ln(3):Ln(2)),Jl(this);var f=this.g.Z();this.X=f;t:if(jf(this)){var p=sd(this.g);s="";var V=p.length,L=wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vr(this),Ji(this);var $="";break t}this.h.i=new l.TextDecoder}for(c=0;c<V;c++)this.h.h=!0,s+=this.h.i.decode(p[c],{stream:!(L&&c==V-1)});p.length=0,this.h.g+=s,this.C=0,$=this.h.g}else $=this.g.oa();if(this.o=f==200,Vs(this.i,this.u,this.A,this.l,this.R,ot,f),this.o){if(this.T&&!this.K){t:{if(this.g){var ve,Ye=this.g;if((ve=Ye.g?Ye.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!g(ve)){var de=ve;break t}}de=null}if(f=de)_n(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zl(this,f);else{this.o=!1,this.s=3,Be(12),vr(this),Ji(this);break e}}if(this.P){f=!0;let Xt;for(;!this.J&&this.C<$.length;)if(Xt=D_(this,$),Xt==Xl){ot==4&&(this.s=4,Be(14),f=!1),_n(this.i,this.l,null,"[Incomplete Response]");break}else if(Xt==Ff){this.s=4,Be(15),_n(this.i,this.l,$,"[Invalid Chunk]"),f=!1;break}else _n(this.i,this.l,Xt,null),Zl(this,Xt);if(jf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ot!=4||$.length!=0||this.h.h||(this.s=1,Be(16),f=!1),this.o=this.o&&f,!f)_n(this.i,this.l,$,"[Invalid Chunked Response]"),vr(this),Ji(this);else if(0<$.length&&!this.W){this.W=!0;var it=this.j;it.g==this&&it.ba&&!it.M&&(it.j.info("Great, no buffering proxy detected. Bytes received: "+$.length),ou(it),it.M=!0,Be(11))}}else _n(this.i,this.l,$,null),Zl(this,$);ot==4&&vr(this),this.o&&!this.J&&(ot==4?dd(this.j,this):(this.o=!1,Os(this)))}else G_(this.g),f==400&&0<$.indexOf("Unknown SID")?(this.s=3,Be(12)):(this.s=0,Be(13)),vr(this),Ji(this)}}}catch{}finally{}};function jf(s){return s.g?s.u=="GET"&&s.L!=2&&s.j.Ca:!1}function D_(s,c){var f=s.C,p=c.indexOf(`
`,f);return p==-1?Xl:(f=Number(c.substring(f,p)),isNaN(f)?Ff:(p+=1,p+f>c.length?Xl:(c=c.slice(p,p+f),s.C=p+f,c)))}bn.prototype.cancel=function(){this.J=!0,vr(this)};function Os(s){s.S=Date.now()+s.I,Bf(s,s.I)}function Bf(s,c){if(s.B!=null)throw Error("WatchDog timer not null");s.B=yr(v(s.ba,s),c)}function Jl(s){s.B&&(l.clearTimeout(s.B),s.B=null)}bn.prototype.ba=function(){this.B=null;const s=Date.now();0<=s-this.S?(x_(this.i,this.A),this.L!=2&&(Ln(),Be(17)),vr(this),this.s=2,Ji(this)):Bf(this,this.S-s)};function Ji(s){s.j.G==0||s.J||dd(s.j,s)}function vr(s){Jl(s);var c=s.M;c&&typeof c.ma=="function"&&c.ma(),s.M=null,Rs(s.U),s.g&&(c=s.g,s.g=null,c.abort(),c.ma())}function Zl(s,c){try{var f=s.j;if(f.G!=0&&(f.g==s||eu(f.h,s))){if(!s.K&&eu(f.h,s)&&f.G==3){try{var p=f.Da.g.parse(c)}catch{p=null}if(Array.isArray(p)&&p.length==3){var V=p;if(V[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<s.F)zs(f),js(f);else break e;iu(f),Be(18)}}else f.za=V[1],0<f.za-f.T&&37500>V[2]&&f.F&&f.v==0&&!f.C&&(f.C=yr(v(f.Za,f),6e3));if(1>=Wf(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Er(f,11)}else if((s.K||f.g==s)&&zs(f),!g(c))for(V=f.Da.g.parse(c),c=0;c<V.length;c++){let de=V[c];if(f.T=de[0],de=de[1],f.G==2)if(de[0]=="c"){f.K=de[1],f.ia=de[2];const it=de[3];it!=null&&(f.la=it,f.j.info("VER="+f.la));const ot=de[4];ot!=null&&(f.Aa=ot,f.j.info("SVER="+f.Aa));const Jr=de[5];Jr!=null&&typeof Jr=="number"&&0<Jr&&(p=1.5*Jr,f.L=p,f.j.info("backChannelRequestTimeoutMs_="+p)),p=f;const Xt=s.g;if(Xt){const Ws=Xt.g?Xt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ws){var L=p.h;L.g||Ws.indexOf("spdy")==-1&&Ws.indexOf("quic")==-1&&Ws.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(tu(L,L.h),L.h=null))}if(p.D){const su=Xt.g?Xt.g.getResponseHeader("X-HTTP-Session-Id"):null;su&&(p.ya=su,Ie(p.I,p.D,su))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-s.F,f.j.info("Handshake RTT: "+f.R+"ms")),p=f;var $=s;if(p.qa=gd(p,p.J?p.ia:null,p.W),$.K){qf(p.h,$);var ve=$,Ye=p.L;Ye&&(ve.I=Ye),ve.B&&(Jl(ve),Os(ve)),p.g=$}else hd(p);0<f.i.length&&Bs(f)}else de[0]!="stop"&&de[0]!="close"||Er(f,7);else f.G==3&&(de[0]=="stop"||de[0]=="close"?de[0]=="stop"?Er(f,7):ru(f):de[0]!="noop"&&f.l&&f.l.ta(de),f.v=0)}}Ln(4)}catch{}}var N_=class{constructor(s,c){this.g=s,this.map=c}};function zf(s){this.l=s||10,l.PerformanceNavigationTiming?(s=l.performance.getEntriesByType("navigation"),s=0<s.length&&(s[0].nextHopProtocol=="hq"||s[0].nextHopProtocol=="h2")):s=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=s?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $f(s){return s.h?!0:s.g?s.g.size>=s.j:!1}function Wf(s){return s.h?1:s.g?s.g.size:0}function eu(s,c){return s.h?s.h==c:s.g?s.g.has(c):!1}function tu(s,c){s.g?s.g.add(c):s.h=c}function qf(s,c){s.h&&s.h==c?s.h=null:s.g&&s.g.has(c)&&s.g.delete(c)}zf.prototype.cancel=function(){if(this.i=Hf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const s of this.g.values())s.cancel();this.g.clear()}};function Hf(s){if(s.h!=null)return s.i.concat(s.h.D);if(s.g!=null&&s.g.size!==0){let c=s.i;for(const f of s.g.values())c=c.concat(f.D);return c}return O(s.i)}function O_(s){if(s.V&&typeof s.V=="function")return s.V();if(typeof Map<"u"&&s instanceof Map||typeof Set<"u"&&s instanceof Set)return Array.from(s.values());if(typeof s=="string")return s.split("");if(u(s)){for(var c=[],f=s.length,p=0;p<f;p++)c.push(s[p]);return c}c=[],f=0;for(p in s)c[f++]=s[p];return c}function M_(s){if(s.na&&typeof s.na=="function")return s.na();if(!s.V||typeof s.V!="function"){if(typeof Map<"u"&&s instanceof Map)return Array.from(s.keys());if(!(typeof Set<"u"&&s instanceof Set)){if(u(s)||typeof s=="string"){var c=[];s=s.length;for(var f=0;f<s;f++)c.push(f);return c}c=[],f=0;for(const p in s)c[f++]=p;return c}}}function Qf(s,c){if(s.forEach&&typeof s.forEach=="function")s.forEach(c,void 0);else if(u(s)||typeof s=="string")Array.prototype.forEach.call(s,c,void 0);else for(var f=M_(s),p=O_(s),V=p.length,L=0;L<V;L++)c.call(void 0,p[L],f&&f[L],s)}var Kf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function L_(s,c){if(s){s=s.split("&");for(var f=0;f<s.length;f++){var p=s[f].indexOf("="),V=null;if(0<=p){var L=s[f].substring(0,p);V=s[f].substring(p+1)}else L=s[f];c(L,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function _r(s){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,s instanceof _r){this.h=s.h,Ms(this,s.j),this.o=s.o,this.g=s.g,Ls(this,s.s),this.l=s.l;var c=s.i,f=new to;f.i=c.i,c.g&&(f.g=new Map(c.g),f.h=c.h),Gf(this,f),this.m=s.m}else s&&(c=String(s).match(Kf))?(this.h=!1,Ms(this,c[1]||"",!0),this.o=Zi(c[2]||""),this.g=Zi(c[3]||"",!0),Ls(this,c[4]),this.l=Zi(c[5]||"",!0),Gf(this,c[6]||"",!0),this.m=Zi(c[7]||"")):(this.h=!1,this.i=new to(null,this.h))}_r.prototype.toString=function(){var s=[],c=this.j;c&&s.push(eo(c,Xf,!0),":");var f=this.g;return(f||c=="file")&&(s.push("//"),(c=this.o)&&s.push(eo(c,Xf,!0),"@"),s.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&s.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&s.push("/"),s.push(eo(f,f.charAt(0)=="/"?U_:F_,!0))),(f=this.i.toString())&&s.push("?",f),(f=this.m)&&s.push("#",eo(f,B_)),s.join("")};function En(s){return new _r(s)}function Ms(s,c,f){s.j=f?Zi(c,!0):c,s.j&&(s.j=s.j.replace(/:$/,""))}function Ls(s,c){if(c){if(c=Number(c),isNaN(c)||0>c)throw Error("Bad port number "+c);s.s=c}else s.s=null}function Gf(s,c,f){c instanceof to?(s.i=c,z_(s.i,s.h)):(f||(c=eo(c,j_)),s.i=new to(c,s.h))}function Ie(s,c,f){s.i.set(c,f)}function bs(s){return Ie(s,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),s}function Zi(s,c){return s?c?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function eo(s,c,f){return typeof s=="string"?(s=encodeURI(s).replace(c,b_),f&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function b_(s){return s=s.charCodeAt(0),"%"+(s>>4&15).toString(16)+(s&15).toString(16)}var Xf=/[#\/\?@]/g,F_=/[#\?:]/g,U_=/[#\?]/g,j_=/[#\?@]/g,B_=/#/g;function to(s,c){this.h=this.g=null,this.i=s||null,this.j=!!c}function Fn(s){s.g||(s.g=new Map,s.h=0,s.i&&L_(s.i,function(c,f){s.add(decodeURIComponent(c.replace(/\+/g," ")),f)}))}t=to.prototype,t.add=function(s,c){Fn(this),this.i=null,s=Xr(this,s);var f=this.g.get(s);return f||this.g.set(s,f=[]),f.push(c),this.h+=1,this};function Yf(s,c){Fn(s),c=Xr(s,c),s.g.has(c)&&(s.i=null,s.h-=s.g.get(c).length,s.g.delete(c))}function Jf(s,c){return Fn(s),c=Xr(s,c),s.g.has(c)}t.forEach=function(s,c){Fn(this),this.g.forEach(function(f,p){f.forEach(function(V){s.call(c,V,p,this)},this)},this)},t.na=function(){Fn(this);const s=Array.from(this.g.values()),c=Array.from(this.g.keys()),f=[];for(let p=0;p<c.length;p++){const V=s[p];for(let L=0;L<V.length;L++)f.push(c[p])}return f},t.V=function(s){Fn(this);let c=[];if(typeof s=="string")Jf(this,s)&&(c=c.concat(this.g.get(Xr(this,s))));else{s=Array.from(this.g.values());for(let f=0;f<s.length;f++)c=c.concat(s[f])}return c},t.set=function(s,c){return Fn(this),this.i=null,s=Xr(this,s),Jf(this,s)&&(this.h-=this.g.get(s).length),this.g.set(s,[c]),this.h+=1,this},t.get=function(s,c){return s?(s=this.V(s),0<s.length?String(s[0]):c):c};function Zf(s,c,f){Yf(s,c),0<f.length&&(s.i=null,s.g.set(Xr(s,c),O(f)),s.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const s=[],c=Array.from(this.g.keys());for(var f=0;f<c.length;f++){var p=c[f];const L=encodeURIComponent(String(p)),$=this.V(p);for(p=0;p<$.length;p++){var V=L;$[p]!==""&&(V+="="+encodeURIComponent(String($[p]))),s.push(V)}}return this.i=s.join("&")};function Xr(s,c){return c=String(c),s.j&&(c=c.toLowerCase()),c}function z_(s,c){c&&!s.j&&(Fn(s),s.i=null,s.g.forEach(function(f,p){var V=p.toLowerCase();p!=V&&(Yf(this,p),Zf(this,V,f))},s)),s.j=c}function $_(s,c){const f=new K;if(l.Image){const p=new Image;p.onload=P(Un,f,"TestLoadImage: loaded",!0,c,p),p.onerror=P(Un,f,"TestLoadImage: error",!1,c,p),p.onabort=P(Un,f,"TestLoadImage: abort",!1,c,p),p.ontimeout=P(Un,f,"TestLoadImage: timeout",!1,c,p),l.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=s}else c(!1)}function W_(s,c){const f=new K,p=new AbortController,V=setTimeout(()=>{p.abort(),Un(f,"TestPingServer: timeout",!1,c)},1e4);fetch(s,{signal:p.signal}).then(L=>{clearTimeout(V),L.ok?Un(f,"TestPingServer: ok",!0,c):Un(f,"TestPingServer: server error",!1,c)}).catch(()=>{clearTimeout(V),Un(f,"TestPingServer: error",!1,c)})}function Un(s,c,f,p,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),p(f)}catch{}}function q_(){this.g=new C}function H_(s,c,f){const p=f||"";try{Qf(s,function(V,L){let $=V;h(V)&&($=gr(V)),c.push(p+L+"="+encodeURIComponent($))})}catch(V){throw c.push(p+"type="+encodeURIComponent("_badmap")),V}}function no(s){this.l=s.Ub||null,this.j=s.eb||!1}x(no,N),no.prototype.g=function(){return new Fs(this.l,this.j)},no.prototype.i=function(s){return function(){return s}}({});function Fs(s,c){He.call(this),this.D=s,this.o=c,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Fs,He),t=Fs.prototype,t.open=function(s,c){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=s,this.A=c,this.readyState=1,io(this)},t.send=function(s){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const c={headers:this.u,method:this.B,credentials:this.m,cache:void 0};s&&(c.body=s),(this.D||l).fetch(new Request(this.A,c)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ro(this)),this.readyState=0},t.Sa=function(s){if(this.g&&(this.l=s,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=s.headers,this.readyState=2,io(this)),this.g&&(this.readyState=3,io(this),this.g)))if(this.responseType==="arraybuffer")s.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in s){if(this.j=s.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ed(this)}else s.text().then(this.Ra.bind(this),this.ga.bind(this))};function ed(s){s.j.read().then(s.Pa.bind(s)).catch(s.ga.bind(s))}t.Pa=function(s){if(this.g){if(this.o&&s.value)this.response.push(s.value);else if(!this.o){var c=s.value?s.value:new Uint8Array(0);(c=this.v.decode(c,{stream:!s.done}))&&(this.response=this.responseText+=c)}s.done?ro(this):io(this),this.readyState==3&&ed(this)}},t.Ra=function(s){this.g&&(this.response=this.responseText=s,ro(this))},t.Qa=function(s){this.g&&(this.response=s,ro(this))},t.ga=function(){this.g&&ro(this)};function ro(s){s.readyState=4,s.l=null,s.j=null,s.v=null,io(s)}t.setRequestHeader=function(s,c){this.u.append(s,c)},t.getResponseHeader=function(s){return this.h&&this.h.get(s.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const s=[],c=this.h.entries();for(var f=c.next();!f.done;)f=f.value,s.push(f[0]+": "+f[1]),f=c.next();return s.join(`\r
`)};function io(s){s.onreadystatechange&&s.onreadystatechange.call(s)}Object.defineProperty(Fs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(s){this.m=s?"include":"same-origin"}});function td(s){let c="";return z(s,function(f,p){c+=p,c+=":",c+=f,c+=`\r
`}),c}function nu(s,c,f){e:{for(p in f){var p=!1;break e}p=!0}p||(f=td(f),typeof s=="string"?f!=null&&encodeURIComponent(String(f)):Ie(s,c,f))}function Ne(s){He.call(this),this.headers=new Map,this.o=s||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Ne,He);var Q_=/^https?$/i,K_=["POST","PUT"];t=Ne.prototype,t.Ha=function(s){this.J=s},t.ea=function(s,c,f,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+s);c=c?c.toUpperCase():"GET",this.D=s,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gl.g(),this.v=this.o?U(this.o):U(Gl),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(c,String(s),!0),this.B=!1}catch(L){nd(this,L);return}if(s=f||"",f=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var V in p)f.set(V,p[V]);else if(typeof p.keys=="function"&&typeof p.get=="function")for(const L of p.keys())f.set(L,p.get(L));else throw Error("Unknown input type for opt_headers: "+String(p));p=Array.from(f.keys()).find(L=>L.toLowerCase()=="content-type"),V=l.FormData&&s instanceof l.FormData,!(0<=Array.prototype.indexOf.call(K_,c,void 0))||p||V||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,$]of f)this.g.setRequestHeader(L,$);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{od(this),this.u=!0,this.g.send(s),this.u=!1}catch(L){nd(this,L)}};function nd(s,c){s.h=!1,s.g&&(s.j=!0,s.g.abort(),s.j=!1),s.l=c,s.m=5,rd(s),Us(s)}function rd(s){s.A||(s.A=!0,Xe(s,"complete"),Xe(s,"error"))}t.abort=function(s){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=s||7,Xe(this,"complete"),Xe(this,"abort"),Us(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Us(this,!0)),Ne.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?id(this):this.bb())},t.bb=function(){id(this)};function id(s){if(s.h&&typeof a<"u"&&(!s.v[1]||wn(s)!=4||s.Z()!=2)){if(s.u&&wn(s)==4)Mn(s.Ea,0,s);else if(Xe(s,"readystatechange"),wn(s)==4){s.h=!1;try{const $=s.Z();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break e;default:c=!1}var f;if(!(f=c)){var p;if(p=$===0){var V=String(s.D).match(Kf)[1]||null;!V&&l.self&&l.self.location&&(V=l.self.location.protocol.slice(0,-1)),p=!Q_.test(V?V.toLowerCase():"")}f=p}if(f)Xe(s,"complete"),Xe(s,"success");else{s.m=6;try{var L=2<wn(s)?s.g.statusText:""}catch{L=""}s.l=L+" ["+s.Z()+"]",rd(s)}}finally{Us(s)}}}}function Us(s,c){if(s.g){od(s);const f=s.g,p=s.v[0]?()=>{}:null;s.g=null,s.v=null,c||Xe(s,"ready");try{f.onreadystatechange=p}catch{}}}function od(s){s.I&&(l.clearTimeout(s.I),s.I=null)}t.isActive=function(){return!!this.g};function wn(s){return s.g?s.g.readyState:0}t.Z=function(){try{return 2<wn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(s){if(this.g){var c=this.g.responseText;return s&&c.indexOf(s)==0&&(c=c.substring(s.length)),A(c)}};function sd(s){try{if(!s.g)return null;if("response"in s.g)return s.g.response;switch(s.H){case"":case"text":return s.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in s.g)return s.g.mozResponseArrayBuffer}return null}catch{return null}}function G_(s){const c={};s=(s.g&&2<=wn(s)&&s.g.getAllResponseHeaders()||"").split(`\r
`);for(let p=0;p<s.length;p++){if(g(s[p]))continue;var f=R(s[p]);const V=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const L=c[V]||[];c[V]=L,L.push(f)}E(c,function(p){return p.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function oo(s,c,f){return f&&f.internalChannelParams&&f.internalChannelParams[s]||c}function ad(s){this.Aa=0,this.i=[],this.j=new K,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=oo("failFast",!1,s),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=oo("baseRetryDelayMs",5e3,s),this.cb=oo("retryDelaySeedMs",1e4,s),this.Wa=oo("forwardChannelMaxRetries",2,s),this.wa=oo("forwardChannelRequestTimeoutMs",2e4,s),this.pa=s&&s.xmlHttpFactory||void 0,this.Xa=s&&s.Tb||void 0,this.Ca=s&&s.useFetchStreams||!1,this.L=void 0,this.J=s&&s.supportsCrossDomainXhr||!1,this.K="",this.h=new zf(s&&s.concurrentRequestLimit),this.Da=new q_,this.P=s&&s.fastHandshake||!1,this.O=s&&s.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=s&&s.Rb||!1,s&&s.xa&&this.j.xa(),s&&s.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&s&&s.detectBufferingProxy||!1,this.ja=void 0,s&&s.longPollingTimeout&&0<s.longPollingTimeout&&(this.ja=s.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ad.prototype,t.la=8,t.G=1,t.connect=function(s,c,f,p){Be(0),this.W=s,this.H=c||{},f&&p!==void 0&&(this.H.OSID=f,this.H.OAID=p),this.F=this.X,this.I=gd(this,null,this.W),Bs(this)};function ru(s){if(ld(s),s.G==3){var c=s.U++,f=En(s.I);if(Ie(f,"SID",s.K),Ie(f,"RID",c),Ie(f,"TYPE","terminate"),so(s,f),c=new bn(s,s.j,c),c.L=2,c.v=bs(En(f)),f=!1,l.navigator&&l.navigator.sendBeacon)try{f=l.navigator.sendBeacon(c.v.toString(),"")}catch{}!f&&l.Image&&(new Image().src=c.v,f=!0),f||(c.g=yd(c.j,null),c.g.ea(c.v)),c.F=Date.now(),Os(c)}md(s)}function js(s){s.g&&(ou(s),s.g.cancel(),s.g=null)}function ld(s){js(s),s.u&&(l.clearTimeout(s.u),s.u=null),zs(s),s.h.cancel(),s.s&&(typeof s.s=="number"&&l.clearTimeout(s.s),s.s=null)}function Bs(s){if(!$f(s.h)&&!s.s){s.s=!0;var c=s.Ga;Ht||re(),W||(Ht(),W=!0),J.add(c,s),s.B=0}}function X_(s,c){return Wf(s.h)>=s.h.j-(s.s?1:0)?!1:s.s?(s.i=c.D.concat(s.i),!0):s.G==1||s.G==2||s.B>=(s.Va?0:s.Wa)?!1:(s.s=yr(v(s.Ga,s,c),pd(s,s.B)),s.B++,!0)}t.Ga=function(s){if(this.s)if(this.s=null,this.G==1){if(!s){this.U=Math.floor(1e5*Math.random()),s=this.U++;const V=new bn(this,this.j,s);let L=this.o;if(this.S&&(L?(L=y(L),T(L,this.S)):L=this.S),this.m!==null||this.O||(V.H=L,L=null),this.P)e:{for(var c=0,f=0;f<this.i.length;f++){t:{var p=this.i[f];if("__data__"in p.map&&(p=p.map.__data__,typeof p=="string")){p=p.length;break t}p=void 0}if(p===void 0)break;if(c+=p,4096<c){c=f;break e}if(c===4096||f===this.i.length-1){c=f+1;break e}}c=1e3}else c=1e3;c=cd(this,V,c),f=En(this.I),Ie(f,"RID",s),Ie(f,"CVER",22),this.D&&Ie(f,"X-HTTP-Session-Id",this.D),so(this,f),L&&(this.O?c="headers="+encodeURIComponent(String(td(L)))+"&"+c:this.m&&nu(f,this.m,L)),tu(this.h,V),this.Ua&&Ie(f,"TYPE","init"),this.P?(Ie(f,"$req",c),Ie(f,"SID","null"),V.T=!0,Yl(V,f,null)):Yl(V,f,c),this.G=2}}else this.G==3&&(s?ud(this,s):this.i.length==0||$f(this.h)||ud(this))};function ud(s,c){var f;c?f=c.l:f=s.U++;const p=En(s.I);Ie(p,"SID",s.K),Ie(p,"RID",f),Ie(p,"AID",s.T),so(s,p),s.m&&s.o&&nu(p,s.m,s.o),f=new bn(s,s.j,f,s.B+1),s.m===null&&(f.H=s.o),c&&(s.i=c.D.concat(s.i)),c=cd(s,f,1e3),f.I=Math.round(.5*s.wa)+Math.round(.5*s.wa*Math.random()),tu(s.h,f),Yl(f,p,c)}function so(s,c){s.H&&z(s.H,function(f,p){Ie(c,p,f)}),s.l&&Qf({},function(f,p){Ie(c,p,f)})}function cd(s,c,f){f=Math.min(s.i.length,f);var p=s.l?v(s.l.Na,s.l,s):null;e:{var V=s.i;let L=-1;for(;;){const $=["count="+f];L==-1?0<f?(L=V[0].g,$.push("ofs="+L)):L=0:$.push("ofs="+L);let ve=!0;for(let Ye=0;Ye<f;Ye++){let de=V[Ye].g;const it=V[Ye].map;if(de-=L,0>de)L=Math.max(0,V[Ye].g-100),ve=!1;else try{H_(it,$,"req"+de+"_")}catch{p&&p(it)}}if(ve){p=$.join("&");break e}}}return s=s.i.splice(0,f),c.D=s,p}function hd(s){if(!s.g&&!s.u){s.Y=1;var c=s.Fa;Ht||re(),W||(Ht(),W=!0),J.add(c,s),s.v=0}}function iu(s){return s.g||s.u||3<=s.v?!1:(s.Y++,s.u=yr(v(s.Fa,s),pd(s,s.v)),s.v++,!0)}t.Fa=function(){if(this.u=null,fd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var s=2*this.R;this.j.info("BP detection timer enabled: "+s),this.A=yr(v(this.ab,this),s)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Be(10),js(this),fd(this))};function ou(s){s.A!=null&&(l.clearTimeout(s.A),s.A=null)}function fd(s){s.g=new bn(s,s.j,"rpc",s.Y),s.m===null&&(s.g.H=s.o),s.g.O=0;var c=En(s.qa);Ie(c,"RID","rpc"),Ie(c,"SID",s.K),Ie(c,"AID",s.T),Ie(c,"CI",s.F?"0":"1"),!s.F&&s.ja&&Ie(c,"TO",s.ja),Ie(c,"TYPE","xmlhttp"),so(s,c),s.m&&s.o&&nu(c,s.m,s.o),s.L&&(s.g.I=s.L);var f=s.g;s=s.ia,f.L=1,f.v=bs(En(c)),f.m=null,f.P=!0,Uf(f,s)}t.Za=function(){this.C!=null&&(this.C=null,js(this),iu(this),Be(19))};function zs(s){s.C!=null&&(l.clearTimeout(s.C),s.C=null)}function dd(s,c){var f=null;if(s.g==c){zs(s),ou(s),s.g=null;var p=2}else if(eu(s.h,c))f=c.D,qf(s.h,c),p=1;else return;if(s.G!=0){if(c.o)if(p==1){f=c.m?c.m.length:0,c=Date.now()-c.F;var V=s.B;p=Ce(),Xe(p,new xs(p,f)),Bs(s)}else hd(s);else if(V=c.s,V==3||V==0&&0<c.X||!(p==1&&X_(s,c)||p==2&&iu(s)))switch(f&&0<f.length&&(c=s.h,c.i=c.i.concat(f)),V){case 1:Er(s,5);break;case 4:Er(s,10);break;case 3:Er(s,6);break;default:Er(s,2)}}}function pd(s,c){let f=s.Ta+Math.floor(Math.random()*s.cb);return s.isActive()||(f*=2),f*c}function Er(s,c){if(s.j.info("Error code "+c),c==2){var f=v(s.fb,s),p=s.Xa;const V=!p;p=new _r(p||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Ms(p,"https"),bs(p),V?$_(p.toString(),f):W_(p.toString(),f)}else Be(2);s.G=0,s.l&&s.l.sa(c),md(s),ld(s)}t.fb=function(s){s?(this.j.info("Successfully pinged google.com"),Be(2)):(this.j.info("Failed to ping google.com"),Be(1))};function md(s){if(s.G=0,s.ka=[],s.l){const c=Hf(s.h);(c.length!=0||s.i.length!=0)&&(M(s.ka,c),M(s.ka,s.i),s.h.i.length=0,O(s.i),s.i.length=0),s.l.ra()}}function gd(s,c,f){var p=f instanceof _r?En(f):new _r(f);if(p.g!="")c&&(p.g=c+"."+p.g),Ls(p,p.s);else{var V=l.location;p=V.protocol,c=c?c+"."+V.hostname:V.hostname,V=+V.port;var L=new _r(null);p&&Ms(L,p),c&&(L.g=c),V&&Ls(L,V),f&&(L.l=f),p=L}return f=s.D,c=s.ya,f&&c&&Ie(p,f,c),Ie(p,"VER",s.la),so(s,p),p}function yd(s,c,f){if(c&&!s.J)throw Error("Can't create secondary domain capable XhrIo object.");return c=s.Ca&&!s.pa?new Ne(new no({eb:f})):new Ne(s.pa),c.Ha(s.J),c}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function vd(){}t=vd.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function $s(){}$s.prototype.g=function(s,c){return new Ct(s,c)};function Ct(s,c){He.call(this),this.g=new ad(c),this.l=s,this.h=c&&c.messageUrlParams||null,s=c&&c.messageHeaders||null,c&&c.clientProtocolHeaderRequired&&(s?s["X-Client-Protocol"]="webchannel":s={"X-Client-Protocol":"webchannel"}),this.g.o=s,s=c&&c.initMessageHeaders||null,c&&c.messageContentType&&(s?s["X-WebChannel-Content-Type"]=c.messageContentType:s={"X-WebChannel-Content-Type":c.messageContentType}),c&&c.va&&(s?s["X-WebChannel-Client-Profile"]=c.va:s={"X-WebChannel-Client-Profile":c.va}),this.g.S=s,(s=c&&c.Sb)&&!g(s)&&(this.g.m=s),this.v=c&&c.supportsCrossDomainXhr||!1,this.u=c&&c.sendRawJson||!1,(c=c&&c.httpSessionIdParam)&&!g(c)&&(this.g.D=c,s=this.h,s!==null&&c in s&&(s=this.h,c in s&&delete s[c])),this.j=new Yr(this)}x(Ct,He),Ct.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ct.prototype.close=function(){ru(this.g)},Ct.prototype.o=function(s){var c=this.g;if(typeof s=="string"){var f={};f.__data__=s,s=f}else this.u&&(f={},f.__data__=gr(s),s=f);c.i.push(new N_(c.Ya++,s)),c.G==3&&Bs(c)},Ct.prototype.N=function(){this.g.l=null,delete this.j,ru(this.g),delete this.g,Ct.aa.N.call(this)};function _d(s){Y.call(this),s.__headers__&&(this.headers=s.__headers__,this.statusCode=s.__status__,delete s.__headers__,delete s.__status__);var c=s.__sm__;if(c){e:{for(const f in c){s=f;break e}s=void 0}(this.i=s)&&(s=this.i,c=c!==null&&s in c?c[s]:void 0),this.data=c}else this.data=s}x(_d,Y);function Ed(){Pe.call(this),this.status=1}x(Ed,Pe);function Yr(s){this.g=s}x(Yr,vd),Yr.prototype.ua=function(){Xe(this.g,"a")},Yr.prototype.ta=function(s){Xe(this.g,new _d(s))},Yr.prototype.sa=function(s){Xe(this.g,new Ed)},Yr.prototype.ra=function(){Xe(this.g,"b")},$s.prototype.createWebChannel=$s.prototype.g,Ct.prototype.send=Ct.prototype.o,Ct.prototype.open=Ct.prototype.m,Ct.prototype.close=Ct.prototype.close,mv=function(){return new $s},pv=function(){return Ce()},dv=ae,qc={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ds.NO_ERROR=0,Ds.TIMEOUT=8,Ds.HTTP_ERROR=6,Sa=Ds,Lf.COMPLETE="complete",fv=Lf,H.EventType=se,se.OPEN="a",se.CLOSE="b",se.ERROR="c",se.MESSAGE="d",He.prototype.listen=He.prototype.K,wo=H,hv=no,Ne.prototype.listenOnce=Ne.prototype.L,Ne.prototype.getLastError=Ne.prototype.Ka,Ne.prototype.getLastErrorCode=Ne.prototype.Ba,Ne.prototype.getStatus=Ne.prototype.Z,Ne.prototype.getResponseJson=Ne.prototype.Oa,Ne.prototype.getResponseText=Ne.prototype.oa,Ne.prototype.send=Ne.prototype.ea,Ne.prototype.setWithCredentials=Ne.prototype.Ha,cv=Ne}).apply(typeof la<"u"?la:typeof self<"u"?self:typeof window<"u"?window:{});const Gp="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ut.UNAUTHENTICATED=new ut(null),ut.GOOGLE_CREDENTIALS=new ut("google-credentials-uid"),ut.FIRST_PARTY=new ut("first-party-uid"),ut.MOCK_USER=new ut("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $i="10.12.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr=new rv("@firebase/firestore");function go(){return Fr.logLevel}function G(t,...e){if(Fr.logLevel<=he.DEBUG){const n=e.map(of);Fr.debug(`Firestore (${$i}): ${t}`,...n)}}function Vn(t,...e){if(Fr.logLevel<=he.ERROR){const n=e.map(of);Fr.error(`Firestore (${$i}): ${t}`,...n)}}function Vi(t,...e){if(Fr.logLevel<=he.WARN){const n=e.map(of);Fr.warn(`Firestore (${$i}): ${t}`,...n)}}function of(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function te(t="Unexpected state"){const e=`FIRESTORE (${$i}) INTERNAL ASSERTION FAILED: `+t;throw Vn(e),new Error(e)}function Ee(t,e){t||te()}function oe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Z extends zi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class iI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ut.UNAUTHENTICATED))}shutdown(){}}class oI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class sI{constructor(e){this.t=e,this.currentUser=ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let o=new sr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new sr,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new sr)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ee(typeof r.accessToken=="string"),new gv(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ee(e===null||typeof e=="string"),new ut(e)}}class aI{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ut.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class lI{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new aI(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ut.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class uI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cI{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.R;return this.R=o.token,G("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ee(typeof n.token=="string"),this.R=n.token,new uI(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=hI(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function pe(t,e){return t<e?-1:t>e?1:0}function Di(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Z(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Z(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Z(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Z(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return qe.fromMillis(Date.now())}static fromDate(e){return qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new qe(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?pe(this.nanoseconds,e.nanoseconds):pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ne(e)}static min(){return new ne(new qe(0,0))}static max(){return new ne(new qe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,n,r){n===void 0?n=0:n>e.length&&te(),r===void 0?r=e.length-n:r>e.length-n&&te(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return is.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof is?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),a=n.get(i);if(o<a)return-1;if(o>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Me extends is{construct(e,n,r){return new Me(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Z(j.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Me(n)}static emptyPath(){return new Me([])}}const fI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class et extends is{construct(e,n,r){return new et(e,n,r)}static isValidIdentifier(e){return fI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),et.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new et(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Z(j.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Z(j.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Z(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(a=!a,i++):l!=="."||a?(r+=l,i++):(o(),i++)}if(o(),a)throw new Z(j.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new et(n)}static emptyPath(){return new et([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.path=e}static fromPath(e){return new ee(Me.fromString(e))}static fromName(e){return new ee(Me.fromString(e).popFirst(5))}static empty(){return new ee(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ee(new Me(e.slice()))}}function dI(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ne.fromTimestamp(r===1e9?new qe(n+1,0):new qe(n,r));return new ur(i,ee.empty(),e)}function pI(t){return new ur(t.readTime,t.key,-1)}class ur{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ur(ne.min(),ee.empty(),-1)}static max(){return new ur(ne.max(),ee.empty(),-1)}}function mI(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ee.comparator(t.documentKey,e.documentKey),n!==0?n:pe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ys(t){if(t.code!==j.FAILED_PRECONDITION||t.message!==gI)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new F((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):F.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):F.reject(n)}static resolve(e){return new F((n,r)=>{n(e)})}static reject(e){return new F((n,r)=>{r(e)})}static waitFor(e){return new F((n,r)=>{let i=0,o=0,a=!1;e.forEach(l=>{++i,l.next(()=>{++o,a&&o===i&&n()},u=>r(u))}),a=!0,o===i&&n()})}static or(e){let n=F.resolve(!1);for(const r of e)n=n.next(i=>i?F.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new F((r,i)=>{const o=e.length,a=new Array(o);let l=0;for(let u=0;u<o;u++){const h=u;n(e[h]).next(d=>{a[h]=d,++l,l===o&&r(a)},d=>i(d))}})}static doWhile(e,n){return new F((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function vI(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function vs(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}sf.oe=-1;function Dl(t){return t==null}function rl(t){return t===0&&1/t==-1/0}function _I(t){return typeof t=="number"&&Number.isInteger(t)&&!rl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xp(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Hr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function vv(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e,n){this.comparator=e,this.root=n||Ze.EMPTY}insert(e,n){return new De(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ze.BLACK,null,null))}remove(e){return new De(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ze.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ua(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ua(this.root,e,this.comparator,!1)}getReverseIterator(){return new ua(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ua(this.root,e,this.comparator,!0)}}class ua{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ze{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Ze.RED,this.left=i??Ze.EMPTY,this.right=o??Ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Ze(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ze.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw te();const e=this.left.check();if(e!==this.right.check())throw te();return e+(this.isRed()?0:1)}}Ze.EMPTY=null,Ze.RED=!0,Ze.BLACK=!1;Ze.EMPTY=new class{constructor(){this.size=0}get key(){throw te()}get value(){throw te()}get color(){throw te()}get left(){throw te()}get right(){throw te()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Ze(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e){this.comparator=e,this.data=new De(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Yp(this.data.getIterator())}getIteratorFrom(e){return new Yp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof nt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new nt(this.comparator);return n.data=e,n}}class Yp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.fields=e,e.sort(et.comparator)}static empty(){return new xt([])}unionWith(e){let n=new nt(et.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new xt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Di(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new _v("Invalid base64 string: "+o):o}}(e);return new dt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o}(e);return new dt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dt.EMPTY_BYTE_STRING=new dt("");const EI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cr(t){if(Ee(!!t),typeof t=="string"){let e=0;const n=EI.exec(t);if(Ee(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Fe(t.seconds),nanos:Fe(t.nanos)}}function Fe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ur(t){return typeof t=="string"?dt.fromBase64String(t):dt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function af(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function lf(t){const e=t.mapValue.fields.__previous_value__;return af(e)?lf(e):e}function os(t){const e=cr(t.mapValue.fields.__local_write_time__.timestampValue);return new qe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e,n,r,i,o,a,l,u,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=h}}class ss{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ss("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ss&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function jr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?af(t)?4:TI(t)?9007199254740991:10:te()}function mn(t,e){if(t===e)return!0;const n=jr(t);if(n!==jr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return os(t).isEqual(os(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const a=cr(i.timestampValue),l=cr(o.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Ur(i.bytesValue).isEqual(Ur(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Fe(i.geoPointValue.latitude)===Fe(o.geoPointValue.latitude)&&Fe(i.geoPointValue.longitude)===Fe(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Fe(i.integerValue)===Fe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const a=Fe(i.doubleValue),l=Fe(o.doubleValue);return a===l?rl(a)===rl(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return Di(t.arrayValue.values||[],e.arrayValue.values||[],mn);case 10:return function(i,o){const a=i.mapValue.fields||{},l=o.mapValue.fields||{};if(Xp(a)!==Xp(l))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(l[u]===void 0||!mn(a[u],l[u])))return!1;return!0}(t,e);default:return te()}}function as(t,e){return(t.values||[]).find(n=>mn(n,e))!==void 0}function Ni(t,e){if(t===e)return 0;const n=jr(t),r=jr(e);if(n!==r)return pe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return pe(t.booleanValue,e.booleanValue);case 2:return function(o,a){const l=Fe(o.integerValue||o.doubleValue),u=Fe(a.integerValue||a.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return Jp(t.timestampValue,e.timestampValue);case 4:return Jp(os(t),os(e));case 5:return pe(t.stringValue,e.stringValue);case 6:return function(o,a){const l=Ur(o),u=Ur(a);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){const l=o.split("/"),u=a.split("/");for(let h=0;h<l.length&&h<u.length;h++){const d=pe(l[h],u[h]);if(d!==0)return d}return pe(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){const l=pe(Fe(o.latitude),Fe(a.latitude));return l!==0?l:pe(Fe(o.longitude),Fe(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,a){const l=o.values||[],u=a.values||[];for(let h=0;h<l.length&&h<u.length;++h){const d=Ni(l[h],u[h]);if(d)return d}return pe(l.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,a){if(o===ca.mapValue&&a===ca.mapValue)return 0;if(o===ca.mapValue)return 1;if(a===ca.mapValue)return-1;const l=o.fields||{},u=Object.keys(l),h=a.fields||{},d=Object.keys(h);u.sort(),d.sort();for(let m=0;m<u.length&&m<d.length;++m){const v=pe(u[m],d[m]);if(v!==0)return v;const P=Ni(l[u[m]],h[d[m]]);if(P!==0)return P}return pe(u.length,d.length)}(t.mapValue,e.mapValue);default:throw te()}}function Jp(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return pe(t,e);const n=cr(t),r=cr(e),i=pe(n.seconds,r.seconds);return i!==0?i:pe(n.nanos,r.nanos)}function Oi(t){return Hc(t)}function Hc(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=cr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ur(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Hc(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${Hc(n.fields[a])}`;return i+"}"}(t.mapValue):te()}function Qc(t){return!!t&&"integerValue"in t}function uf(t){return!!t&&"arrayValue"in t}function Zp(t){return!!t&&"nullValue"in t}function em(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Aa(t){return!!t&&"mapValue"in t}function No(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Hr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=No(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=No(t.arrayValue.values[n]);return e}return Object.assign({},t)}function TI(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.value=e}static empty(){return new Tt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Aa(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=No(n)}setAll(e){let n=et.emptyPath(),r={},i=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}a?r[l.lastSegment()]=No(a):i.push(l.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Aa(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return mn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Aa(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Hr(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Tt(No(this.value))}}function Ev(t){const e=[];return Hr(t.fields,(n,r)=>{const i=new et([n]);if(Aa(r)){const o=Ev(r.mapValue).fields;if(o.length===0)e.push(i);else for(const a of o)e.push(i.child(a))}else e.push(i)}),new xt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n,r,i,o,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=l}static newInvalidDocument(e){return new ht(e,0,ne.min(),ne.min(),ne.min(),Tt.empty(),0)}static newFoundDocument(e,n,r,i){return new ht(e,1,n,ne.min(),r,i,0)}static newNoDocument(e,n){return new ht(e,2,n,ne.min(),ne.min(),Tt.empty(),0)}static newUnknownDocument(e,n){return new ht(e,3,n,ne.min(),ne.min(),Tt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ht(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e,n){this.position=e,this.inclusive=n}}function tm(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(o.field.isKeyField()?r=ee.comparator(ee.fromName(a.referenceValue),n.key):r=Ni(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function nm(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!mn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e,n="asc"){this.field=e,this.dir=n}}function II(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{}class $e extends wv{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new AI(e,n,r):n==="array-contains"?new RI(e,r):n==="in"?new kI(e,r):n==="not-in"?new xI(e,r):n==="array-contains-any"?new VI(e,r):new $e(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new PI(e,r):new CI(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ni(n,this.value)):n!==null&&jr(this.value)===jr(n)&&this.matchesComparison(Ni(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gn extends wv{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new gn(e,n)}matches(e){return Tv(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Tv(t){return t.op==="and"}function Iv(t){return SI(t)&&Tv(t)}function SI(t){for(const e of t.filters)if(e instanceof gn)return!1;return!0}function Kc(t){if(t instanceof $e)return t.field.canonicalString()+t.op.toString()+Oi(t.value);if(Iv(t))return t.filters.map(e=>Kc(e)).join(",");{const e=t.filters.map(n=>Kc(n)).join(",");return`${t.op}(${e})`}}function Sv(t,e){return t instanceof $e?function(r,i){return i instanceof $e&&r.op===i.op&&r.field.isEqual(i.field)&&mn(r.value,i.value)}(t,e):t instanceof gn?function(r,i){return i instanceof gn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,a,l)=>o&&Sv(a,i.filters[l]),!0):!1}(t,e):void te()}function Av(t){return t instanceof $e?function(n){return`${n.field.canonicalString()} ${n.op} ${Oi(n.value)}`}(t):t instanceof gn?function(n){return n.op.toString()+" {"+n.getFilters().map(Av).join(" ,")+"}"}(t):"Filter"}class AI extends $e{constructor(e,n,r){super(e,n,r),this.key=ee.fromName(r.referenceValue)}matches(e){const n=ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class PI extends $e{constructor(e,n){super(e,"in",n),this.keys=Pv("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class CI extends $e{constructor(e,n){super(e,"not-in",n),this.keys=Pv("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Pv(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ee.fromName(r.referenceValue))}class RI extends $e{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return uf(n)&&as(n.arrayValue,this.value)}}class kI extends $e{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&as(this.value.arrayValue,n)}}class xI extends $e{constructor(e,n){super(e,"not-in",n)}matches(e){if(as(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!as(this.value.arrayValue,n)}}class VI extends $e{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!uf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>as(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e,n=null,r=[],i=[],o=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=l,this.ue=null}}function rm(t,e=null,n=[],r=[],i=null,o=null,a=null){return new DI(t,e,n,r,i,o,a)}function cf(t){const e=oe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Kc(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Dl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Oi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Oi(r)).join(",")),e.ue=n}return e.ue}function hf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!II(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Sv(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!nm(t.startAt,e.startAt)&&nm(t.endAt,e.endAt)}function Gc(t){return ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e,n=null,r=[],i=[],o=null,a="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=l,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function NI(t,e,n,r,i,o,a,l){return new Nl(t,e,n,r,i,o,a,l)}function ff(t){return new Nl(t)}function im(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function OI(t){return t.collectionGroup!==null}function Oo(t){const e=oe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new nt(et.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new ol(o,r))}),n.has(et.keyField().canonicalString())||e.ce.push(new ol(et.keyField(),r))}return e.ce}function fn(t){const e=oe(t);return e.le||(e.le=MI(e,Oo(t))),e.le}function MI(t,e){if(t.limitType==="F")return rm(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new ol(i.field,o)});const n=t.endAt?new il(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new il(t.startAt.position,t.startAt.inclusive):null;return rm(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Xc(t,e,n){return new Nl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ol(t,e){return hf(fn(t),fn(e))&&t.limitType===e.limitType}function Cv(t){return`${cf(fn(t))}|lt:${t.limitType}`}function ti(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Av(i)).join(", ")}]`),Dl(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Oi(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Oi(i)).join(",")),`Target(${r})`}(fn(t))}; limitType=${t.limitType})`}function Ml(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ee.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Oo(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,l,u){const h=tm(a,l,u);return a.inclusive?h<=0:h<0}(r.startAt,Oo(r),i)||r.endAt&&!function(a,l,u){const h=tm(a,l,u);return a.inclusive?h>=0:h>0}(r.endAt,Oo(r),i))}(t,e)}function LI(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Rv(t){return(e,n)=>{let r=!1;for(const i of Oo(t)){const o=bI(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function bI(t,e,n){const r=t.field.isKeyField()?ee.comparator(e.key,n.key):function(o,a,l){const u=a.data.field(o),h=l.data.field(o);return u!==null&&h!==null?Ni(u,h):te()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Hr(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return vv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI=new De(ee.comparator);function Dn(){return FI}const kv=new De(ee.comparator);function To(...t){let e=kv;for(const n of t)e=e.insert(n.key,n);return e}function xv(t){let e=kv;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Cr(){return Mo()}function Vv(){return Mo()}function Mo(){return new Wi(t=>t.toString(),(t,e)=>t.isEqual(e))}const UI=new De(ee.comparator),jI=new nt(ee.comparator);function ue(...t){let e=jI;for(const n of t)e=e.add(n);return e}const BI=new nt(pe);function zI(){return BI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rl(e)?"-0":e}}function Nv(t){return{integerValue:""+t}}function $I(t,e){return _I(e)?Nv(e):Dv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(){this._=void 0}}function WI(t,e,n){return t instanceof sl?function(i,o){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&af(o)&&(o=lf(o)),o&&(a.fields.__previous_value__=o),{mapValue:a}}(n,e):t instanceof ls?Mv(t,e):t instanceof us?Lv(t,e):function(i,o){const a=Ov(i,o),l=om(a)+om(i.Pe);return Qc(a)&&Qc(i.Pe)?Nv(l):Dv(i.serializer,l)}(t,e)}function qI(t,e,n){return t instanceof ls?Mv(t,e):t instanceof us?Lv(t,e):n}function Ov(t,e){return t instanceof al?function(r){return Qc(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class sl extends Ll{}class ls extends Ll{constructor(e){super(),this.elements=e}}function Mv(t,e){const n=bv(e);for(const r of t.elements)n.some(i=>mn(i,r))||n.push(r);return{arrayValue:{values:n}}}class us extends Ll{constructor(e){super(),this.elements=e}}function Lv(t,e){let n=bv(e);for(const r of t.elements)n=n.filter(i=>!mn(i,r));return{arrayValue:{values:n}}}class al extends Ll{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function om(t){return Fe(t.integerValue||t.doubleValue)}function bv(t){return uf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function HI(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ls&&i instanceof ls||r instanceof us&&i instanceof us?Di(r.elements,i.elements,mn):r instanceof al&&i instanceof al?mn(r.Pe,i.Pe):r instanceof sl&&i instanceof sl}(t.transform,e.transform)}class QI{constructor(e,n){this.version=e,this.transformResults=n}}class dn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new dn}static exists(e){return new dn(void 0,e)}static updateTime(e){return new dn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pa(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class bl{}function Fv(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new jv(t.key,dn.none()):new _s(t.key,t.data,dn.none());{const n=t.data,r=Tt.empty();let i=new nt(et.comparator);for(let o of e.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new mr(t.key,r,new xt(i.toArray()),dn.none())}}function KI(t,e,n){t instanceof _s?function(i,o,a){const l=i.value.clone(),u=am(i.fieldTransforms,o,a.transformResults);l.setAll(u),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof mr?function(i,o,a){if(!Pa(i.precondition,o))return void o.convertToUnknownDocument(a.version);const l=am(i.fieldTransforms,o,a.transformResults),u=o.data;u.setAll(Uv(i)),u.setAll(l),o.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Lo(t,e,n,r){return t instanceof _s?function(o,a,l,u){if(!Pa(o.precondition,a))return l;const h=o.value.clone(),d=lm(o.fieldTransforms,u,a);return h.setAll(d),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof mr?function(o,a,l,u){if(!Pa(o.precondition,a))return l;const h=lm(o.fieldTransforms,u,a),d=a.data;return d.setAll(Uv(o)),d.setAll(h),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(o,a,l){return Pa(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function GI(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=Ov(r.transform,i||null);o!=null&&(n===null&&(n=Tt.empty()),n.set(r.field,o))}return n||null}function sm(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Di(r,i,(o,a)=>HI(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class _s extends bl{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class mr extends bl{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Uv(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function am(t,e,n){const r=new Map;Ee(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],a=o.transform,l=e.data.field(o.field);r.set(o.field,qI(a,l,n[i]))}return r}function lm(t,e,n){const r=new Map;for(const i of t){const o=i.transform,a=n.data.field(i.field);r.set(i.field,WI(o,a,e))}return r}class jv extends bl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class XI extends bl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&KI(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Lo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Lo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Vv();return this.mutations.forEach(i=>{const o=e.get(i.key),a=o.overlayedDocument;let l=this.applyToLocalView(a,o.mutatedFields);l=n.has(i.key)?null:l;const u=Fv(a,l);u!==null&&r.set(i.key,u),a.isValidDocument()||a.convertToNoDocument(ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ue())}isEqual(e){return this.batchId===e.batchId&&Di(this.mutations,e.mutations,(n,r)=>sm(n,r))&&Di(this.baseMutations,e.baseMutations,(n,r)=>sm(n,r))}}class df{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ee(e.mutations.length===r.length);let i=function(){return UI}();const o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new df(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be,ce;function eS(t){switch(t){default:return te();case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0}}function Bv(t){if(t===void 0)return Vn("GRPC error has no .code"),j.UNKNOWN;switch(t){case be.OK:return j.OK;case be.CANCELLED:return j.CANCELLED;case be.UNKNOWN:return j.UNKNOWN;case be.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case be.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case be.INTERNAL:return j.INTERNAL;case be.UNAVAILABLE:return j.UNAVAILABLE;case be.UNAUTHENTICATED:return j.UNAUTHENTICATED;case be.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case be.NOT_FOUND:return j.NOT_FOUND;case be.ALREADY_EXISTS:return j.ALREADY_EXISTS;case be.PERMISSION_DENIED:return j.PERMISSION_DENIED;case be.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case be.ABORTED:return j.ABORTED;case be.OUT_OF_RANGE:return j.OUT_OF_RANGE;case be.UNIMPLEMENTED:return j.UNIMPLEMENTED;case be.DATA_LOSS:return j.DATA_LOSS;default:return te()}}(ce=be||(be={}))[ce.OK=0]="OK",ce[ce.CANCELLED=1]="CANCELLED",ce[ce.UNKNOWN=2]="UNKNOWN",ce[ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ce[ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ce[ce.NOT_FOUND=5]="NOT_FOUND",ce[ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",ce[ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",ce[ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",ce[ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ce[ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ce[ce.ABORTED=10]="ABORTED",ce[ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",ce[ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",ce[ce.INTERNAL=13]="INTERNAL",ce[ce.UNAVAILABLE=14]="UNAVAILABLE",ce[ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS=new xr([4294967295,4294967295],0);function um(t){const e=tS().encode(t),n=new uv;return n.update(e),new Uint8Array(n.digest())}function cm(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new xr([n,r],0),new xr([i,o],0)]}class pf{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Io(`Invalid padding: ${n}`);if(r<0)throw new Io(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Io(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Io(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=xr.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(xr.fromNumber(r)));return i.compare(nS)===1&&(i=new xr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=um(e),[r,i]=cm(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);if(!this.de(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new pf(o,i,n);return r.forEach(l=>a.insert(l)),a}insert(e){if(this.Ie===0)return;const n=um(e),[r,i]=cm(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Io extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Es.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Fl(ne.min(),i,new De(pe),Dn(),ue())}}class Es{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Es(r,n,ue(),ue(),ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class zv{constructor(e,n){this.targetId=e,this.me=n}}class $v{constructor(e,n,r=dt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class hm{constructor(){this.fe=0,this.ge=dm(),this.pe=dt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=ue(),n=ue(),r=ue();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:te()}}),new Es(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=dm()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ee(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class rS{constructor(e){this.Le=e,this.Be=new Map,this.ke=Dn(),this.qe=fm(),this.Qe=new De(pe)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(Gc(o))if(r===0){const a=new ee(o.path);this.Ue(n,a,ht.newNoDocument(a,ne.min()))}else Ee(r===1);else{const a=this.Ye(n);if(a!==r){const l=this.Ze(e),u=l?this.Xe(l,e,a):1;if(u!==0){this.je(n);const h=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,h)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let a,l;try{a=Ur(r).toUint8Array()}catch(u){if(u instanceof _v)return Vi("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new pf(a,i,o)}catch(u){return Vi(u instanceof Io?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const a=this.Le.tt(),l=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,a)=>{const l=this.Je(a);if(l){if(o.current&&Gc(l.target)){const u=new ee(l.target.path);this.ke.get(u)!==null||this.it(a,u)||this.Ue(a,u,ht.newNoDocument(u,e))}o.be&&(n.set(a,o.Ce()),o.ve())}});let r=ue();this.qe.forEach((o,a)=>{let l=!0;a.forEachWhile(u=>{const h=this.Je(u);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(o))}),this.ke.forEach((o,a)=>a.setReadTime(e));const i=new Fl(e,n,this.Qe,this.ke,r);return this.ke=Dn(),this.qe=fm(),this.Qe=new De(pe),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new hm,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new nt(pe),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new hm),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function fm(){return new De(ee.comparator)}function dm(){return new De(ee.comparator)}const iS={asc:"ASCENDING",desc:"DESCENDING"},oS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sS={and:"AND",or:"OR"};class aS{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Yc(t,e){return t.useProto3Json||Dl(e)?e:{value:e}}function ll(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Wv(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function lS(t,e){return ll(t,e.toTimestamp())}function pn(t){return Ee(!!t),ne.fromTimestamp(function(n){const r=cr(n);return new qe(r.seconds,r.nanos)}(t))}function mf(t,e){return Jc(t,e).canonicalString()}function Jc(t,e){const n=function(i){return new Me(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function qv(t){const e=Me.fromString(t);return Ee(Xv(e)),e}function Zc(t,e){return mf(t.databaseId,e.path)}function Uu(t,e){const n=qv(e);if(n.get(1)!==t.databaseId.projectId)throw new Z(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Z(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ee(Qv(n))}function Hv(t,e){return mf(t.databaseId,e)}function uS(t){const e=qv(t);return e.length===4?Me.emptyPath():Qv(e)}function eh(t){return new Me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Qv(t){return Ee(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function pm(t,e,n){return{name:Zc(t,e),fields:n.value.mapValue.fields}}function cS(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:te()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(h,d){return h.useProto3Json?(Ee(d===void 0||typeof d=="string"),dt.fromBase64String(d||"")):(Ee(d===void 0||d instanceof Buffer||d instanceof Uint8Array),dt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(h){const d=h.code===void 0?j.UNKNOWN:Bv(h.code);return new Z(d,h.message||"")}(a);n=new $v(r,i,o,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Uu(t,r.document.name),o=pn(r.document.updateTime),a=r.document.createTime?pn(r.document.createTime):ne.min(),l=new Tt({mapValue:{fields:r.document.fields}}),u=ht.newFoundDocument(i,o,a,l),h=r.targetIds||[],d=r.removedTargetIds||[];n=new Ca(h,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Uu(t,r.document),o=r.readTime?pn(r.readTime):ne.min(),a=ht.newNoDocument(i,o),l=r.removedTargetIds||[];n=new Ca([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Uu(t,r.document),o=r.removedTargetIds||[];n=new Ca([],o,i,null)}else{if(!("filter"in e))return te();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,a=new ZI(i,o),l=r.targetId;n=new zv(l,a)}}return n}function hS(t,e){let n;if(e instanceof _s)n={update:pm(t,e.key,e.value)};else if(e instanceof jv)n={delete:Zc(t,e.key)};else if(e instanceof mr)n={update:pm(t,e.key,e.data),updateMask:ES(e.fieldMask)};else{if(!(e instanceof XI))return te();n={verify:Zc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,a){const l=a.transform;if(l instanceof sl)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof ls)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof us)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof al)return{fieldPath:a.field.canonicalString(),increment:l.Pe};throw te()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:lS(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:te()}(t,e.precondition)),n}function fS(t,e){return t&&t.length>0?(Ee(e!==void 0),t.map(n=>function(i,o){let a=i.updateTime?pn(i.updateTime):pn(o);return a.isEqual(ne.min())&&(a=pn(o)),new QI(a,i.transformResults||[])}(n,e))):[]}function dS(t,e){return{documents:[Hv(t,e.path)]}}function pS(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Hv(t,i);const o=function(h){if(h.length!==0)return Gv(gn.create(h,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const a=function(h){if(h.length!==0)return h.map(d=>function(v){return{field:ni(v.field),direction:yS(v.dir)}}(d))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=Yc(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{_t:n,parent:i}}function mS(t){let e=uS(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ee(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(m){const v=Kv(m);return v instanceof gn&&Iv(v)?v.getFilters():[v]}(n.where));let a=[];n.orderBy&&(a=function(m){return m.map(v=>function(x){return new ol(ri(x.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(v))}(n.orderBy));let l=null;n.limit&&(l=function(m){let v;return v=typeof m=="object"?m.value:m,Dl(v)?null:v}(n.limit));let u=null;n.startAt&&(u=function(m){const v=!!m.before,P=m.values||[];return new il(P,v)}(n.startAt));let h=null;return n.endAt&&(h=function(m){const v=!m.before,P=m.values||[];return new il(P,v)}(n.endAt)),NI(e,i,a,o,l,"F",u,h)}function gS(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return te()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Kv(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ri(n.unaryFilter.field);return $e.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ri(n.unaryFilter.field);return $e.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ri(n.unaryFilter.field);return $e.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=ri(n.unaryFilter.field);return $e.create(a,"!=",{nullValue:"NULL_VALUE"});default:return te()}}(t):t.fieldFilter!==void 0?function(n){return $e.create(ri(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return te()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return gn.create(n.compositeFilter.filters.map(r=>Kv(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return te()}}(n.compositeFilter.op))}(t):te()}function yS(t){return iS[t]}function vS(t){return oS[t]}function _S(t){return sS[t]}function ni(t){return{fieldPath:t.canonicalString()}}function ri(t){return et.fromServerFormat(t.fieldPath)}function Gv(t){return t instanceof $e?function(n){if(n.op==="=="){if(em(n.value))return{unaryFilter:{field:ni(n.field),op:"IS_NAN"}};if(Zp(n.value))return{unaryFilter:{field:ni(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(em(n.value))return{unaryFilter:{field:ni(n.field),op:"IS_NOT_NAN"}};if(Zp(n.value))return{unaryFilter:{field:ni(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ni(n.field),op:vS(n.op),value:n.value}}}(t):t instanceof gn?function(n){const r=n.getFilters().map(i=>Gv(i));return r.length===1?r[0]:{compositeFilter:{op:_S(n.op),filters:r}}}(t):te()}function ES(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Xv(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e,n,r,i,o=ne.min(),a=ne.min(),l=dt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new Kn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Kn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Kn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Kn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e){this.ct=e}}function TS(t){const e=mS({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Xc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(){this._n=new SS}addToCollectionParentIndex(e,n){return this._n.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(ur.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(ur.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}}class SS{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new nt(Me.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new nt(Me.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Mi(0)}static Ln(){return new Mi(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(){this.changes=new Wi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ht.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Lo(r.mutation,i,xt.empty(),qe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ue()){const i=Cr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let a=To();return o.forEach((l,u)=>{a=a.insert(l,u.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Cr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ue()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,r,i){let o=Dn();const a=Mo(),l=function(){return Mo()}();return n.forEach((u,h)=>{const d=r.get(h.key);i.has(h.key)&&(d===void 0||d.mutation instanceof mr)?o=o.insert(h.key,h):d!==void 0?(a.set(h.key,d.mutation.getFieldMask()),Lo(d.mutation,h,d.mutation.getFieldMask(),qe.now())):a.set(h.key,xt.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((h,d)=>a.set(h,d)),n.forEach((h,d)=>{var m;return l.set(h,new PS(d,(m=a.get(h))!==null&&m!==void 0?m:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Mo();let i=new De((a,l)=>a-l),o=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let d=r.get(u)||xt.empty();d=l.applyToLocalView(h,d),r.set(u,d);const m=(i.get(l.batchId)||ue()).add(u);i=i.insert(l.batchId,m)})}).next(()=>{const a=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),h=u.key,d=u.value,m=Vv();d.forEach(v=>{if(!o.has(v)){const P=Fv(n.get(v),r.get(v));P!==null&&m.set(v,P),o=o.add(v)}}),a.push(this.documentOverlayCache.saveOverlays(e,h,m))}return F.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return ee.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):OI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):F.resolve(Cr());let l=-1,u=o;return a.next(h=>F.forEach(h,(d,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),o.get(d)?F.resolve():this.remoteDocumentCache.getEntry(e,d).next(v=>{u=u.insert(d,v)}))).next(()=>this.populateOverlays(e,h,o)).next(()=>this.computeViews(e,u,h,ue())).next(d=>({batchId:l,changes:xv(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ee(n)).next(r=>{let i=To();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let a=To();return this.indexManager.getCollectionParents(e,o).next(l=>F.forEach(l,u=>{const h=function(m,v){return new Nl(v,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(d=>{d.forEach((m,v)=>{a=a.insert(m,v)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(a=>{o.forEach((u,h)=>{const d=h.getKey();a.get(d)===null&&(a=a.insert(d,ht.newInvalidDocument(d)))});let l=To();return a.forEach((u,h)=>{const d=o.get(u);d!==void 0&&Lo(d.mutation,h,xt.empty(),qe.now()),Ml(n,h)&&(l=l.insert(u,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return F.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:pn(i.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:TS(i.bundledQuery),readTime:pn(i.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(){this.overlays=new De(ee.comparator),this.hr=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Cr();return F.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),F.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){const i=Cr(),o=n.length+1,a=new ee(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const u=l.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return F.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new De((h,d)=>h-d);const a=this.overlays.getIterator();for(;a.hasNext();){const h=a.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let d=o.get(h.largestBatchId);d===null&&(d=Cr(),o=o.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}const l=Cr(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,d)=>l.set(h,d)),!(l.size()>=i)););return F.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new JI(n,r));let o=this.hr.get(n);o===void 0&&(o=ue(),this.hr.set(n,o)),this.hr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(){this.Pr=new nt(Qe.Ir),this.Tr=new nt(Qe.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Qe(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Qe(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new ee(new Me([])),r=new Qe(n,e),i=new Qe(n,e+1),o=[];return this.Tr.forEachInRange([r,i],a=>{this.Ar(a),o.push(a.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new ee(new Me([])),r=new Qe(n,e),i=new Qe(n,e+1);let o=ue();return this.Tr.forEachInRange([r,i],a=>{o=o.add(a.key)}),o}containsKey(e){const n=new Qe(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Qe{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return ee.comparator(e.key,n.key)||pe(e.pr,n.pr)}static Er(e,n){return pe(e.pr,n.pr)||ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new nt(Qe.Ir)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new YI(o,n,r,i);this.mutationQueue.push(a);for(const l of i)this.wr=this.wr.add(new Qe(l.key,o)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return F.resolve(a)}lookupMutationBatch(e,n){return F.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),o=i<0?0:i;return F.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Qe(n,0),i=new Qe(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],a=>{const l=this.Sr(a.pr);o.push(l)}),F.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new nt(pe);return n.forEach(i=>{const o=new Qe(i,0),a=new Qe(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,a],l=>{r=r.add(l.pr)})}),F.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ee.isDocumentKey(o)||(o=o.child(""));const a=new Qe(new ee(o),0);let l=new nt(pe);return this.wr.forEachWhile(u=>{const h=u.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(l=l.add(u.pr)),!0)},a),F.resolve(this.Dr(l))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ee(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return F.forEach(n.mutations,i=>{const o=new Qe(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Qe(n,0),i=this.wr.firstAfterOrEqual(r);return F.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e){this.vr=e,this.docs=function(){return new De(ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():ht.newInvalidDocument(n))}getEntries(e,n){let r=Dn();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():ht.newInvalidDocument(i))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Dn();const a=n.path,l=new ee(a.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:h,value:{document:d}}=u.getNext();if(!a.isPrefixOf(h.path))break;h.path.length>a.length+1||mI(pI(d),r)<=0||(i.has(d.key)||Ml(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return F.resolve(o)}getAllFromCollectionGroup(e,n,r,i){te()}Fr(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new DS(this)}getSize(e){return F.resolve(this.size)}}class DS extends AS{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e){this.persistence=e,this.Mr=new Wi(n=>cf(n),hf),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.Or=0,this.Nr=new gf,this.targetCount=0,this.Lr=Mi.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),F.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new Mi(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.qn(n),F.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Mr.forEach((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Mr.delete(a),o.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),F.waitFor(o).next(()=>i)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),F.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(a=>{o.push(i.markPotentiallyOrphaned(e,a))}),F.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),F.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e,n){this.Br={},this.overlays={},this.kr=new sf(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new NS(this),this.indexManager=new IS,this.remoteDocumentCache=function(i){return new VS(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new wS(n),this.$r=new RS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new kS,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new xS(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);const i=new MS(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,n){return F.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class MS extends yI{constructor(e){super(),this.currentSequenceNumber=e}}class yf{constructor(e){this.persistence=e,this.zr=new gf,this.jr=null}static Hr(e){return new yf(e)}get Jr(){if(this.jr)return this.jr;throw te()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),F.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.Jr,r=>{const i=ee.fromPath(r);return this.Yr(e,i).next(o=>{o||n.removeEntry(i,ne.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return F.or([()=>F.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=ue(),i=ue();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new vf(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return $1()?8:vI(B1())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ji(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.Hi(e,n,i,r).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new LS;return this.Ji(e,n,a).next(l=>{if(o.result=l,this.Ui)return this.Yi(e,n,a,l.size)})}).next(()=>o.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(go()<=he.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",ti(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),F.resolve()):(go()<=he.DEBUG&&G("QueryEngine","Query:",ti(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(go()<=he.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",ti(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fn(n))):F.resolve())}ji(e,n){if(im(n))return F.resolve(null);let r=fn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Xc(n,null,"F"),r=fn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const a=ue(...o);return this.zi.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const h=this.Zi(n,l);return this.Xi(n,h,a,u.readTime)?this.ji(e,Xc(n,null,"F")):this.es(e,h,n,u)}))})))}Hi(e,n,r,i){return im(n)||i.isEqual(ne.min())?F.resolve(null):this.zi.getDocuments(e,r).next(o=>{const a=this.Zi(n,o);return this.Xi(n,a,r,i)?F.resolve(null):(go()<=he.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ti(n)),this.es(e,a,n,dI(i,-1)).next(l=>l))})}Zi(e,n){let r=new nt(Rv(e));return n.forEach((i,o)=>{Ml(e,o)&&(r=r.add(o))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,n,r){return go()<=he.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",ti(n)),this.zi.getDocumentsMatchingQuery(e,n,ur.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new De(pe),this.rs=new Wi(o=>cf(o),hf),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new CS(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function US(t,e,n,r){return new FS(t,e,n,r)}async function Yv(t,e){const n=oe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const a=[],l=[];let u=ue();for(const h of i){a.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}for(const h of o){l.push(h.batchId);for(const d of h.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(h=>({us:h,removedBatchIds:a,addedBatchIds:l}))})})}function jS(t,e){const n=oe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(l,u,h,d){const m=h.batch,v=m.keys();let P=F.resolve();return v.forEach(x=>{P=P.next(()=>d.getEntry(u,x)).next(O=>{const M=h.docVersions.get(x);Ee(M!==null),O.version.compareTo(M)<0&&(m.applyToRemoteDocument(O,h),O.isValidDocument()&&(O.setReadTime(h.commitVersion),d.addEntry(O)))})}),P.next(()=>l.mutationQueue.removeMutationBatch(u,m))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=ue();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(u=u.add(l.batch.mutations[h].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Jv(t){const e=oe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function BS(t,e){const n=oe(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const l=[];e.targetChanges.forEach((d,m)=>{const v=i.get(m);if(!v)return;l.push(n.Qr.removeMatchingKeys(o,d.removedDocuments,m).next(()=>n.Qr.addMatchingKeys(o,d.addedDocuments,m)));let P=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(m)!==null?P=P.withResumeToken(dt.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):d.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(d.resumeToken,r)),i=i.insert(m,P),function(O,M,S){return O.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(v,P,d)&&l.push(n.Qr.updateTargetData(o,P))});let u=Dn(),h=ue();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),l.push(zS(o,a,e.documentUpdates).next(d=>{u=d.cs,h=d.ls})),!r.isEqual(ne.min())){const d=n.Qr.getLastRemoteSnapshotVersion(o).next(m=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));l.push(d)}return F.waitFor(l).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,h)).next(()=>u)}).then(o=>(n.ns=i,o))}function zS(t,e,n){let r=ue(),i=ue();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let a=Dn();return n.forEach((l,u)=>{const h=o.get(l);u.isFoundDocument()!==h.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(ne.min())?(e.removeEntry(l,u.readTime),a=a.insert(l,u)):!h.isValidDocument()||u.version.compareTo(h.version)>0||u.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(u),a=a.insert(l,u)):G("LocalStore","Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",u.version)}),{cs:a,ls:i}})}function $S(t,e){const n=oe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function WS(t,e){const n=oe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(o=>o?(i=o,F.resolve(i)):n.Qr.allocateTargetId(r).next(a=>(i=new Kn(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function th(t,e,n){const r=oe(t),i=r.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!vs(a))throw a;G("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function mm(t,e,n){const r=oe(t);let i=ne.min(),o=ue();return r.persistence.runTransaction("Execute query","readwrite",a=>function(u,h,d){const m=oe(u),v=m.rs.get(d);return v!==void 0?F.resolve(m.ns.get(v)):m.Qr.getTargetData(h,d)}(r,a,fn(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(a,l.targetId).next(u=>{o=u})}).next(()=>r.ts.getDocumentsMatchingQuery(a,e,n?i:ne.min(),n?o:ue())).next(l=>(qS(r,LI(e),l),{documents:l,hs:o})))}function qS(t,e,n){let r=t.ss.get(e)||ne.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ss.set(e,r)}class gm{constructor(){this.activeTargetIds=zI()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class HS{constructor(){this.no=new gm,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new gm,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){G("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){G("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ha=null;function ju(){return ha===null?ha=function(){return 268435456+Math.round(2147483648*Math.random())}():ha++,"0x"+ha.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lt="WebChannelConnection";class XS extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${o}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Do(){return!1}Co(n,r,i,o,a){const l=ju(),u=this.vo(n,r.toUriEncodedString());G("RestConnection",`Sending RPC '${n}' ${l}:`,u,i);const h={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(h,o,a),this.Mo(n,u,h,i).then(d=>(G("RestConnection",`Received RPC '${n}' ${l}: `,d),d),d=>{throw Vi("RestConnection",`RPC '${n}' ${l} failed with error: `,d,"url: ",u,"request:",i),d})}xo(n,r,i,o,a,l){return this.Co(n,r,i,o,a)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$i}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,a)=>n[a]=o),i&&i.headers.forEach((o,a)=>n[a]=o)}vo(n,r){const i=KS[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){const o=ju();return new Promise((a,l)=>{const u=new cv;u.setWithCredentials(!0),u.listenOnce(fv.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Sa.NO_ERROR:const d=u.getResponseJson();G(lt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),a(d);break;case Sa.TIMEOUT:G(lt,`RPC '${e}' ${o} timed out`),l(new Z(j.DEADLINE_EXCEEDED,"Request time out"));break;case Sa.HTTP_ERROR:const m=u.getStatus();if(G(lt,`RPC '${e}' ${o} failed with status:`,m,"response text:",u.getResponseText()),m>0){let v=u.getResponseJson();Array.isArray(v)&&(v=v[0]);const P=v==null?void 0:v.error;if(P&&P.status&&P.message){const x=function(M){const S=M.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(S)>=0?S:j.UNKNOWN}(P.status);l(new Z(x,P.message))}else l(new Z(j.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new Z(j.UNAVAILABLE,"Connection failed."));break;default:te()}}finally{G(lt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(i);G(lt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",h,r,15)})}Oo(e,n,r){const i=ju(),o=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=mv(),l=pv(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.xmlHttpFactory=new hv({})),this.Fo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=o.join("");G(lt,`Creating RPC '${e}' stream ${i}: ${d}`,u);const m=a.createWebChannel(d,u);let v=!1,P=!1;const x=new GS({lo:M=>{P?G(lt,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(v||(G(lt,`Opening RPC '${e}' stream ${i} transport.`),m.open(),v=!0),G(lt,`RPC '${e}' stream ${i} sending:`,M),m.send(M))},ho:()=>m.close()}),O=(M,S,g)=>{M.listen(S,_=>{try{g(_)}catch(D){setTimeout(()=>{throw D},0)}})};return O(m,wo.EventType.OPEN,()=>{P||(G(lt,`RPC '${e}' stream ${i} transport opened.`),x.mo())}),O(m,wo.EventType.CLOSE,()=>{P||(P=!0,G(lt,`RPC '${e}' stream ${i} transport closed`),x.po())}),O(m,wo.EventType.ERROR,M=>{P||(P=!0,Vi(lt,`RPC '${e}' stream ${i} transport errored:`,M),x.po(new Z(j.UNAVAILABLE,"The operation could not be completed")))}),O(m,wo.EventType.MESSAGE,M=>{var S;if(!P){const g=M.data[0];Ee(!!g);const _=g,D=_.error||((S=_[0])===null||S===void 0?void 0:S.error);if(D){G(lt,`RPC '${e}' stream ${i} received error:`,D);const b=D.status;let z=function(w){const T=be[w];if(T!==void 0)return Bv(T)}(b),E=D.message;z===void 0&&(z=j.INTERNAL,E="Unknown error status: "+b+" with message "+D.message),P=!0,x.po(new Z(z,E)),m.close()}else G(lt,`RPC '${e}' stream ${i} received:`,g),x.yo(g)}}),O(l,dv.STAT_EVENT,M=>{M.stat===qc.PROXY?G(lt,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===qc.NOPROXY&&G(lt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.fo()},0),x}}function Bu(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ul(t){return new aS(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=o,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&G("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(e,n,r,i,o,a,l,u){this.oi=e,this.Go=r,this.zo=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new Zv(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===j.RESOURCE_EXHAUSTED?(Vn(n.toString()),Vn("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===j.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{const i=new Z(j.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){const r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return G("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(G("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class YS extends e_{constructor(e,n,r,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=cS(this.serializer,e),r=function(o){if(!("targetChange"in o))return ne.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?ne.min():a.readTime?pn(a.readTime):ne.min()}(e);return this.listener.h_(n,r)}P_(e){const n={};n.database=eh(this.serializer),n.addTarget=function(o,a){let l;const u=a.target;if(l=Gc(u)?{documents:dS(o,u)}:{query:pS(o,u)._t},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=Wv(o,a.resumeToken);const h=Yc(o,a.expectedCount);h!==null&&(l.expectedCount=h)}else if(a.snapshotVersion.compareTo(ne.min())>0){l.readTime=ll(o,a.snapshotVersion.toTimestamp());const h=Yc(o,a.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);const r=gS(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){const n={};n.database=eh(this.serializer),n.removeTarget=e,this.i_(n)}}class JS extends e_{constructor(e,n,r,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(Ee(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=fS(e.writeResults,e.commitTime),r=pn(e.commitTime);return this.listener.A_(r,n)}return Ee(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=eh(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>hS(this.serializer,r))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new Z(j.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Co(e,Jc(n,r),i,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Z(j.UNKNOWN,o.toString())})}xo(e,n,r,i,o){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.xo(e,Jc(n,r),i,a,l,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Z(j.UNKNOWN,a.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class eA{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Vn(n),this.y_=!1):G("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=o,this.O_.io(a=>{r.enqueueAndForget(async()=>{Qr(this)&&(G("RemoteStore","Restarting streams for network reachability change."),await async function(u){const h=oe(u);h.M_.add(4),await ws(h),h.N_.set("Unknown"),h.M_.delete(4),await jl(h)}(this))})}),this.N_=new eA(r,i)}}async function jl(t){if(Qr(t))for(const e of t.x_)await e(!0)}async function ws(t){for(const e of t.x_)await e(!1)}function t_(t,e){const n=oe(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),Tf(n)?wf(n):qi(n).Xo()&&Ef(n,e))}function _f(t,e){const n=oe(t),r=qi(n);n.F_.delete(e),r.Xo()&&n_(n,e),n.F_.size===0&&(r.Xo()?r.n_():Qr(n)&&n.N_.set("Unknown"))}function Ef(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}qi(t).P_(e)}function n_(t,e){t.L_.xe(e),qi(t).I_(e)}function wf(t){t.L_=new rS({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),qi(t).start(),t.N_.w_()}function Tf(t){return Qr(t)&&!qi(t).Zo()&&t.F_.size>0}function Qr(t){return oe(t).M_.size===0}function r_(t){t.L_=void 0}async function nA(t){t.N_.set("Online")}async function rA(t){t.F_.forEach((e,n)=>{Ef(t,e)})}async function iA(t,e){r_(t),Tf(t)?(t.N_.D_(e),wf(t)):t.N_.set("Unknown")}async function oA(t,e,n){if(t.N_.set("Online"),e instanceof $v&&e.state===2&&e.cause)try{await async function(i,o){const a=o.cause;for(const l of o.targetIds)i.F_.has(l)&&(await i.remoteSyncer.rejectListen(l,a),i.F_.delete(l),i.L_.removeTarget(l))}(t,e)}catch(r){G("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ul(t,r)}else if(e instanceof Ca?t.L_.Ke(e):e instanceof zv?t.L_.He(e):t.L_.We(e),!n.isEqual(ne.min()))try{const r=await Jv(t.localStore);n.compareTo(r)>=0&&await function(o,a){const l=o.L_.rt(a);return l.targetChanges.forEach((u,h)=>{if(u.resumeToken.approximateByteSize()>0){const d=o.F_.get(h);d&&o.F_.set(h,d.withResumeToken(u.resumeToken,a))}}),l.targetMismatches.forEach((u,h)=>{const d=o.F_.get(u);if(!d)return;o.F_.set(u,d.withResumeToken(dt.EMPTY_BYTE_STRING,d.snapshotVersion)),n_(o,u);const m=new Kn(d.target,u,h,d.sequenceNumber);Ef(o,m)}),o.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){G("RemoteStore","Failed to raise snapshot:",r),await ul(t,r)}}async function ul(t,e,n){if(!vs(e))throw e;t.M_.add(1),await ws(t),t.N_.set("Offline"),n||(n=()=>Jv(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await jl(t)})}function i_(t,e){return e().catch(n=>ul(t,n,e))}async function Bl(t){const e=oe(t),n=hr(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;sA(e);)try{const i=await $S(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,aA(e,i)}catch(i){await ul(e,i)}o_(e)&&s_(e)}function sA(t){return Qr(t)&&t.v_.length<10}function aA(t,e){t.v_.push(e);const n=hr(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function o_(t){return Qr(t)&&!hr(t).Zo()&&t.v_.length>0}function s_(t){hr(t).start()}async function lA(t){hr(t).V_()}async function uA(t){const e=hr(t);for(const n of t.v_)e.d_(n.mutations)}async function cA(t,e,n){const r=t.v_.shift(),i=df.from(r,e,n);await i_(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Bl(t)}async function hA(t,e){e&&hr(t).E_&&await async function(r,i){if(function(a){return eS(a)&&a!==j.ABORTED}(i.code)){const o=r.v_.shift();hr(r).t_(),await i_(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Bl(r)}}(t,e),o_(t)&&s_(t)}async function vm(t,e){const n=oe(t);n.asyncQueue.verifyOperationInProgress(),G("RemoteStore","RemoteStore received new credentials");const r=Qr(n);n.M_.add(3),await ws(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await jl(n)}async function fA(t,e){const n=oe(t);e?(n.M_.delete(2),await jl(n)):e||(n.M_.add(2),await ws(n),n.N_.set("Unknown"))}function qi(t){return t.B_||(t.B_=function(n,r,i){const o=oe(n);return o.f_(),new YS(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:nA.bind(null,t),To:rA.bind(null,t),Ao:iA.bind(null,t),h_:oA.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),Tf(t)?wf(t):t.N_.set("Unknown")):(await t.B_.stop(),r_(t))})),t.B_}function hr(t){return t.k_||(t.k_=function(n,r,i){const o=oe(n);return o.f_(),new JS(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:lA.bind(null,t),Ao:hA.bind(null,t),R_:uA.bind(null,t),A_:cA.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.t_(),await Bl(t)):(await t.k_.stop(),t.v_.length>0&&(G("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const a=Date.now()+r,l=new If(e,n,a,i,o);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Z(j.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sf(t,e){if(Vn("AsyncQueue",`${e}: ${t}`),vs(t))return new Z(j.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ee.comparator(n.key,r.key):(n,r)=>ee.comparator(n.key,r.key),this.keyedMap=To(),this.sortedSet=new De(this.comparator)}static emptySet(e){return new Ii(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ii)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ii;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(){this.q_=new De(ee.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):te():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Li{constructor(e,n,r,i,o,a,l,u,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,i,o){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new Li(e,n,Ii.emptySet(n),a,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ol(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class pA{constructor(){this.queries=new Wi(e=>Cv(e),Ol),this.onlineState="Unknown",this.z_=new Set}}async function mA(t,e){const n=oe(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.W_()&&e.G_()&&(r=2):(o=new dA,r=e.G_()?0:1);try{switch(r){case 0:o.K_=await n.onListen(i,!0);break;case 1:o.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const l=Sf(a,`Initialization of query '${ti(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,o),o.U_.push(e),e.j_(n.onlineState),o.K_&&e.H_(o.K_)&&Af(n)}async function gA(t,e){const n=oe(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const a=o.U_.indexOf(e);a>=0&&(o.U_.splice(a,1),o.U_.length===0?i=e.G_()?0:1:!o.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function yA(t,e){const n=oe(t);let r=!1;for(const i of e){const o=i.query,a=n.queries.get(o);if(a){for(const l of a.U_)l.H_(i)&&(r=!0);a.K_=i}}r&&Af(n)}function vA(t,e,n){const r=oe(t),i=r.queries.get(e);if(i)for(const o of i.U_)o.onError(n);r.queries.delete(e)}function Af(t){t.z_.forEach(e=>{e.next()})}var nh,Em;(Em=nh||(nh={})).J_="default",Em.Cache="cache";class _A{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Li(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=Li.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==nh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(e){this.key=e}}class l_{constructor(e){this.key=e}}class EA{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=ue(),this.mutatedKeys=ue(),this.Ia=Rv(e),this.Ta=new Ii(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new _m,i=n?n.Ta:this.Ta;let o=n?n.mutatedKeys:this.mutatedKeys,a=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,h=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,m)=>{const v=i.get(d),P=Ml(this.query,m)?m:null,x=!!v&&this.mutatedKeys.has(v.key),O=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let M=!1;v&&P?v.data.isEqual(P.data)?x!==O&&(r.track({type:3,doc:P}),M=!0):this.Ra(v,P)||(r.track({type:2,doc:P}),M=!0,(u&&this.Ia(P,u)>0||h&&this.Ia(P,h)<0)&&(l=!0)):!v&&P?(r.track({type:0,doc:P}),M=!0):v&&!P&&(r.track({type:1,doc:v}),M=!0,(u||h)&&(l=!0)),M&&(P?(a=a.add(P),o=O?o.add(d):o.delete(d)):(a=a.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{Ta:a,Aa:r,Xi:l,mutatedKeys:o}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const a=e.Aa.Q_();a.sort((d,m)=>function(P,x){const O=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return te()}};return O(P)-O(x)}(d.type,m.type)||this.Ia(d.doc,m.doc)),this.Va(r),i=i!=null&&i;const l=n&&!i?this.ma():[],u=this.Pa.size===0&&this.current&&!i?1:0,h=u!==this.ha;return this.ha=u,a.length!==0||h?{snapshot:new Li(this.query,e.Ta,o,a,e.mutatedKeys,u===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:l}:{fa:l}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new _m,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=ue(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new l_(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new a_(r))}),n}pa(e){this.la=e.hs,this.Pa=ue();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return Li.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class wA{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class TA{constructor(e){this.key=e,this.wa=!1}}class IA{constructor(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Sa={},this.ba=new Wi(l=>Cv(l),Ol),this.Da=new Map,this.Ca=new Set,this.va=new De(ee.comparator),this.Fa=new Map,this.Ma=new gf,this.xa={},this.Oa=new Map,this.Na=Mi.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function SA(t,e,n=!0){const r=p_(t);let i;const o=r.ba.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ya()):i=await u_(r,e,n,!0),i}async function AA(t,e){const n=p_(t);await u_(n,e,!0,!1)}async function u_(t,e,n,r){const i=await WS(t.localStore,fn(e)),o=i.targetId,a=n?t.sharedClientState.addLocalQueryTarget(o):"not-current";let l;return r&&(l=await PA(t,e,o,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&t_(t.remoteStore,i),l}async function PA(t,e,n,r,i){t.Ba=(m,v,P)=>async function(O,M,S,g){let _=M.view.da(S);_.Xi&&(_=await mm(O.localStore,M.query,!1).then(({documents:E})=>M.view.da(E,_)));const D=g&&g.targetChanges.get(M.targetId),b=g&&g.targetMismatches.get(M.targetId)!=null,z=M.view.applyChanges(_,O.isPrimaryClient,D,b);return Tm(O,M.targetId,z.fa),z.snapshot}(t,m,v,P);const o=await mm(t.localStore,e,!0),a=new EA(e,o.hs),l=a.da(o.documents),u=Es.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),h=a.applyChanges(l,t.isPrimaryClient,u);Tm(t,n,h.fa);const d=new wA(e,n,a);return t.ba.set(e,d),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),h.snapshot}async function CA(t,e,n){const r=oe(t),i=r.ba.get(e),o=r.Da.get(i.targetId);if(o.length>1)return r.Da.set(i.targetId,o.filter(a=>!Ol(a,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await th(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&_f(r.remoteStore,i.targetId),rh(r,i.targetId)}).catch(ys)):(rh(r,i.targetId),await th(r.localStore,i.targetId,!0))}async function RA(t,e){const n=oe(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),_f(n.remoteStore,r.targetId))}async function kA(t,e,n){const r=LA(t);try{const i=await function(a,l){const u=oe(a),h=qe.now(),d=l.reduce((P,x)=>P.add(x.key),ue());let m,v;return u.persistence.runTransaction("Locally write mutations","readwrite",P=>{let x=Dn(),O=ue();return u.os.getEntries(P,d).next(M=>{x=M,x.forEach((S,g)=>{g.isValidDocument()||(O=O.add(S))})}).next(()=>u.localDocuments.getOverlayedDocuments(P,x)).next(M=>{m=M;const S=[];for(const g of l){const _=GI(g,m.get(g.key).overlayedDocument);_!=null&&S.push(new mr(g.key,_,Ev(_.value.mapValue),dn.exists(!0)))}return u.mutationQueue.addMutationBatch(P,h,S,l)}).next(M=>{v=M;const S=M.applyToLocalDocumentSet(m,O);return u.documentOverlayCache.saveOverlays(P,M.batchId,S)})}).then(()=>({batchId:v.batchId,changes:xv(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,l,u){let h=a.xa[a.currentUser.toKey()];h||(h=new De(pe)),h=h.insert(l,u),a.xa[a.currentUser.toKey()]=h}(r,i.batchId,n),await Ts(r,i.changes),await Bl(r.remoteStore)}catch(i){const o=Sf(i,"Failed to persist write");n.reject(o)}}async function c_(t,e){const n=oe(t);try{const r=await BS(n.localStore,e);e.targetChanges.forEach((i,o)=>{const a=n.Fa.get(o);a&&(Ee(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.wa=!0:i.modifiedDocuments.size>0?Ee(a.wa):i.removedDocuments.size>0&&(Ee(a.wa),a.wa=!1))}),await Ts(n,r,e)}catch(r){await ys(r)}}function wm(t,e,n){const r=oe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((o,a)=>{const l=a.view.j_(e);l.snapshot&&i.push(l.snapshot)}),function(a,l){const u=oe(a);u.onlineState=l;let h=!1;u.queries.forEach((d,m)=>{for(const v of m.U_)v.j_(l)&&(h=!0)}),h&&Af(u)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function xA(t,e,n){const r=oe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),o=i&&i.key;if(o){let a=new De(ee.comparator);a=a.insert(o,ht.newNoDocument(o,ne.min()));const l=ue().add(o),u=new Fl(ne.min(),new Map,new De(pe),a,l);await c_(r,u),r.va=r.va.remove(o),r.Fa.delete(e),Pf(r)}else await th(r.localStore,e,!1).then(()=>rh(r,e,n)).catch(ys)}async function VA(t,e){const n=oe(t),r=e.batch.batchId;try{const i=await jS(n.localStore,e);f_(n,r,null),h_(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ts(n,i)}catch(i){await ys(i)}}async function DA(t,e,n){const r=oe(t);try{const i=await function(a,l){const u=oe(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let d;return u.mutationQueue.lookupMutationBatch(h,l).next(m=>(Ee(m!==null),d=m.keys(),u.mutationQueue.removeMutationBatch(h,m))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,d,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d)).next(()=>u.localDocuments.getDocuments(h,d))})}(r.localStore,e);f_(r,e,n),h_(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ts(r,i)}catch(i){await ys(i)}}function h_(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function f_(t,e,n){const r=oe(t);let i=r.xa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function rh(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||d_(t,r)})}function d_(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(_f(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),Pf(t))}function Tm(t,e,n){for(const r of n)r instanceof a_?(t.Ma.addReference(r.key,e),NA(t,r)):r instanceof l_?(G("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||d_(t,r.key)):te()}function NA(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(G("SyncEngine","New document in limbo: "+n),t.Ca.add(r),Pf(t))}function Pf(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new ee(Me.fromString(e)),r=t.Na.next();t.Fa.set(r,new TA(n)),t.va=t.va.insert(n,r),t_(t.remoteStore,new Kn(fn(ff(n.path)),r,"TargetPurposeLimboResolution",sf.oe))}}async function Ts(t,e,n){const r=oe(t),i=[],o=[],a=[];r.ba.isEmpty()||(r.ba.forEach((l,u)=>{a.push(r.Ba(u,e,n).then(h=>{var d;if((h||n)&&r.isPrimaryClient){const m=h?!h.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(h){i.push(h);const m=vf.Ki(u.targetId,h);o.push(m)}}))}),await Promise.all(a),r.Sa.h_(i),await async function(u,h){const d=oe(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>F.forEach(h,v=>F.forEach(v.qi,P=>d.persistence.referenceDelegate.addReference(m,v.targetId,P)).next(()=>F.forEach(v.Qi,P=>d.persistence.referenceDelegate.removeReference(m,v.targetId,P)))))}catch(m){if(!vs(m))throw m;G("LocalStore","Failed to update sequence numbers: "+m)}for(const m of h){const v=m.targetId;if(!m.fromCache){const P=d.ns.get(v),x=P.snapshotVersion,O=P.withLastLimboFreeSnapshotVersion(x);d.ns=d.ns.insert(v,O)}}}(r.localStore,o))}async function OA(t,e){const n=oe(t);if(!n.currentUser.isEqual(e)){G("SyncEngine","User change. New user:",e.toKey());const r=await Yv(n.localStore,e);n.currentUser=e,function(o,a){o.Oa.forEach(l=>{l.forEach(u=>{u.reject(new Z(j.CANCELLED,a))})}),o.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ts(n,r.us)}}function MA(t,e){const n=oe(t),r=n.Fa.get(e);if(r&&r.wa)return ue().add(r.key);{let i=ue();const o=n.Da.get(e);if(!o)return i;for(const a of o){const l=n.ba.get(a);i=i.unionWith(l.view.Ea)}return i}}function p_(t){const e=oe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=c_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=MA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xA.bind(null,e),e.Sa.h_=yA.bind(null,e.eventManager),e.Sa.ka=vA.bind(null,e.eventManager),e}function LA(t){const e=oe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=VA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=DA.bind(null,e),e}class Im{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Ul(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return US(this.persistence,new bS,e.initialUser,this.serializer)}createPersistence(e){return new OS(yf.Hr,this.serializer)}createSharedClientState(e){return new HS}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class bA{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>wm(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=OA.bind(null,this.syncEngine),await fA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new pA}()}createDatastore(e){const n=Ul(e.databaseInfo.databaseId),r=function(o){return new XS(o)}(e.databaseInfo);return function(o,a,l,u){return new ZS(o,a,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,a,l){return new tA(r,i,o,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>wm(this.syncEngine,n,0),function(){return ym.D()?new ym:new QS}())}createSyncEngine(e,n){return function(i,o,a,l,u,h,d){const m=new IA(i,o,a,l,u,h);return d&&(m.La=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=oe(r);G("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await ws(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Vn("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ut.UNAUTHENTICATED,this.clientId=yv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{G("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(G("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Z(j.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Sf(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function zu(t,e){t.asyncQueue.verifyOperationInProgress(),G("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Yv(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Sm(t,e){t.asyncQueue.verifyOperationInProgress();const n=await BA(t);G("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>vm(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>vm(e.remoteStore,i)),t._onlineComponents=e}function jA(t){return t.name==="FirebaseError"?t.code===j.FAILED_PRECONDITION||t.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function BA(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G("FirestoreClient","Using user provided OfflineComponentProvider");try{await zu(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!jA(n))throw n;Vi("Error using user provided cache. Falling back to memory cache: "+n),await zu(t,new Im)}}else G("FirestoreClient","Using default OfflineComponentProvider"),await zu(t,new Im);return t._offlineComponents}async function m_(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G("FirestoreClient","Using user provided OnlineComponentProvider"),await Sm(t,t._uninitializedComponentsProvider._online)):(G("FirestoreClient","Using default OnlineComponentProvider"),await Sm(t,new bA))),t._onlineComponents}function zA(t){return m_(t).then(e=>e.syncEngine)}async function $A(t){const e=await m_(t),n=e.eventManager;return n.onListen=SA.bind(null,e.syncEngine),n.onUnlisten=CA.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=AA.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=RA.bind(null,e.syncEngine),n}function WA(t,e,n={}){const r=new sr;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,l,u,h){const d=new FA({next:v=>{a.enqueueAndForget(()=>gA(o,m));const P=v.docs.has(l);!P&&v.fromCache?h.reject(new Z(j.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&v.fromCache&&u&&u.source==="server"?h.reject(new Z(j.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(v)},error:v=>h.reject(v)}),m=new _A(ff(l.path),d,{includeMetadataChanges:!0,ra:!0});return mA(o,m)}(await $A(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g_(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(t,e,n){if(!n)throw new Z(j.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function HA(t,e,n,r){if(e===!0&&r===!0)throw new Z(j.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Pm(t){if(!ee.isDocumentKey(t))throw new Z(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Cf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":te()}function Br(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Z(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Cf(t);throw new Z(j.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Z(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Z(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}HA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=g_((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Z(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Z(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Z(j.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rf{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Cm({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Z(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Z(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Cm(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new iI;switch(r.type){case"firstParty":return new lI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Z(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Am.get(n);r&&(G("ComponentProvider","Removing Datastore"),Am.delete(n),r.terminate())}(this),Promise.resolve()}}function QA(t,e,n,r={}){var i;const o=(t=Br(t,Rf))._getSettings(),a=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==a&&Vi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=ut.MOCK_USER;else{l=j1(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new Z(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ut(h)}t._authCredentials=new oI(new gv(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new kf(this.firestore,e,this._query)}}class Dt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dt(this.firestore,e,this._key)}}class cs extends kf{constructor(e,n,r){super(e,n,ff(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dt(this.firestore,null,new ee(e))}withConverter(e){return new cs(this.firestore,e,this._path)}}function cl(t,e,...n){if(t=Lr(t),arguments.length===1&&(e=yv.newId()),qA("doc","path",e),t instanceof Rf){const r=Me.fromString(e,...n);return Pm(r),new Dt(t,null,new ee(r))}{if(!(t instanceof Dt||t instanceof cs))throw new Z(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Me.fromString(e,...n));return Pm(r),new Dt(t.firestore,t instanceof cs?t.converter:null,new ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new Zv(this,"async_queue_retry"),this.hu=()=>{const n=Bu();n&&G("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=Bu();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=Bu();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new sr;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!vs(e))throw e;G("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),l}(r);throw Vn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=If.createAndSchedule(this,e,n,r,o=>this.Eu(o));return this._u.push(i),i}Pu(){this.au&&te()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}class zl extends Rf{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new KA}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||v_(this),this._firestoreClient.terminate()}}function GA(t,e){const n=typeof t=="object"?t:KT(),r=typeof t=="string"?t:"(default)",i=WT(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=F1("firestore");o&&QA(i,...o)}return i}function y_(t){return t._firestoreClient||v_(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function v_(t){var e,n,r;const i=t._freezeSettings(),o=function(l,u,h,d){return new wI(l,u,h,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,g_(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new UA(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bi(dt.fromBase64String(e))}catch(n){throw new Z(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new bi(dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Z(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new et(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Z(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Z(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return pe(this._lat,e._lat)||pe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA=/^__.*__$/;class YA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new mr(e,this.data,this.fieldMask,n,this.fieldTransforms):new _s(e,this.data,n,this.fieldTransforms)}}class __{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new mr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function E_(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw te()}}class Df{constructor(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.mu(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new Df(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return hl(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(E_(this.fu)&&XA.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class JA{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ul(e)}Fu(e,n,r,i=!1){return new Df({fu:e,methodName:n,vu:r,path:et.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function w_(t){const e=t._freezeSettings(),n=Ul(t._databaseId);return new JA(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ZA(t,e,n,r,i,o={}){const a=t.Fu(o.merge||o.mergeFields?2:0,e,n,i);Nf("Data must be an object, but it was:",a,r);const l=T_(r,a);let u,h;if(o.merge)u=new xt(a.fieldMask),h=a.fieldTransforms;else if(o.mergeFields){const d=[];for(const m of o.mergeFields){const v=ih(e,m,n);if(!a.contains(v))throw new Z(j.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);S_(d,v)||d.push(v)}u=new xt(d),h=a.fieldTransforms.filter(m=>u.covers(m.field))}else u=null,h=a.fieldTransforms;return new YA(new Tt(l),u,h)}class Wl extends xf{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wl}}function eP(t,e,n,r){const i=t.Fu(1,e,n);Nf("Data must be an object, but it was:",i,r);const o=[],a=Tt.empty();Hr(r,(u,h)=>{const d=Of(e,u,n);h=Lr(h);const m=i.Su(d);if(h instanceof Wl)o.push(d);else{const v=ql(h,m);v!=null&&(o.push(d),a.set(d,v))}});const l=new xt(o);return new __(a,l,i.fieldTransforms)}function tP(t,e,n,r,i,o){const a=t.Fu(1,e,n),l=[ih(e,r,n)],u=[i];if(o.length%2!=0)throw new Z(j.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)l.push(ih(e,o[v])),u.push(o[v+1]);const h=[],d=Tt.empty();for(let v=l.length-1;v>=0;--v)if(!S_(h,l[v])){const P=l[v];let x=u[v];x=Lr(x);const O=a.Su(P);if(x instanceof Wl)h.push(P);else{const M=ql(x,O);M!=null&&(h.push(P),d.set(P,M))}}const m=new xt(h);return new __(d,m,a.fieldTransforms)}function ql(t,e){if(I_(t=Lr(t)))return Nf("Unsupported field value:",e,t),T_(t,e);if(t instanceof xf)return function(r,i){if(!E_(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){const o=[];let a=0;for(const l of r){let u=ql(l,i.bu(a));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),a++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Lr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return $I(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=qe.fromDate(r);return{timestampValue:ll(i.serializer,o)}}if(r instanceof qe){const o=new qe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ll(i.serializer,o)}}if(r instanceof Vf)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof bi)return{bytesValue:Wv(i.serializer,r._byteString)};if(r instanceof Dt){const o=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw i.Du(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:mf(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${Cf(r)}`)}(t,e)}function T_(t,e){const n={};return vv(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hr(t,(r,i)=>{const o=ql(i,e.pu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function I_(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof qe||t instanceof Vf||t instanceof bi||t instanceof Dt||t instanceof xf)}function Nf(t,e,n){if(!I_(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Cf(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function ih(t,e,n){if((e=Lr(e))instanceof $l)return e._internalPath;if(typeof e=="string")return Of(t,e);throw hl("Field path arguments must be of type string or ",t,!1,void 0,n)}const nP=new RegExp("[~\\*/\\[\\]]");function Of(t,e,n){if(e.search(nP)>=0)throw hl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new $l(...e.split("."))._internalPath}catch{throw hl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function hl(t,e,n,r,i){const o=r&&!r.isEmpty(),a=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(o||a)&&(u+=" (found",o&&(u+=` in field ${r}`),a&&(u+=` in document ${i}`),u+=")"),new Z(j.INVALID_ARGUMENT,l+t+u)}function S_(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(P_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class rP extends A_{data(){return super.data()}}function P_(t,e){return typeof e=="string"?Of(t,e):e instanceof $l?e._internalPath:e._delegate._internalPath}class iP{convertValue(e,n="none"){switch(jr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ur(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Hr(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new Vf(Fe(e.latitude),Fe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=lf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(os(e));default:return null}}convertTimestamp(e){const n=cr(e);return new qe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Me.fromString(e);Ee(Xv(r));const i=new ss(r.get(1),r.get(3)),o=new ee(r.popFirst(5));return i.isEqual(n)||Vn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oP(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class C_ extends A_{constructor(e,n,r,i,o,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new aP(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(P_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class aP extends C_{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mf(t){t=Br(t,Dt);const e=Br(t.firestore,zl);return WA(y_(e),t._key).then(n=>cP(e,t,n))}class lP extends iP{constructor(e){super(),this.firestore=e}convertBytes(e){return new bi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Dt(this.firestore,null,n)}}function R_(t,e,n){t=Br(t,Dt);const r=Br(t.firestore,zl),i=oP(t.converter,e,n);return k_(r,[ZA(w_(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,dn.none())])}function uP(t,e,n,...r){t=Br(t,Dt);const i=Br(t.firestore,zl),o=w_(i);let a;return a=typeof(e=Lr(e))=="string"||e instanceof $l?tP(o,"updateDoc",t._key,e,n,r):eP(o,"updateDoc",t._key,e),k_(i,[a.toMutation(t._key,dn.exists(!0))])}function k_(t,e){return function(r,i){const o=new sr;return r.asyncQueue.enqueueAndForget(async()=>kA(await zA(r),i,o)),o.promise}(y_(t),e)}function cP(t,e,n){const r=n.docs.get(e._key),i=new lP(t);return new C_(t,i,e._key,r,new sP(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){$i=i})(QT),nl(new ns("firestore",(r,{instanceIdentifier:i,options:o})=>{const a=r.getProvider("app").getImmediate(),l=new zl(new sI(r.getProvider("auth-internal")),new cI(r.getProvider("app-check-internal")),function(h,d){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Z(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ss(h.options.projectId,d)}(a,i),a);return o=Object.assign({useFetchStreams:n},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),Ti(Gp,"4.6.4",e),Ti(Gp,"4.6.4","esm2017")})();var hP="firebase",fP="10.12.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ti(hP,fP,"app");const dP={apiKey:"AIzaSyBQwjgfS2FZWZJtGJPFAJNS58YcAdUVDeE",authDomain:"telegram-cc828.firebaseapp.com",projectId:"telegram-cc828",storageBucket:"telegram-cc828.appspot.com",messagingSenderId:"541310609374",appId:"1:541310609374:web:5c046692c1ee59ba981f4f",measurementId:"G-7XGPVD7NY4"},pP=sv(dP),fl=GA(pP),mP=({userId:t})=>{const[e,n]=q.useState(null),[r,i]=q.useState(!0);return q.useEffect(()=>{(async()=>{try{const a=cl(fl,"users",t),l=await Mf(a);if(l.exists()){const u=l.data();n(u.invite_link||null)}else console.log("No such document!")}catch(a){console.error("Error fetching invite link:",a)}finally{i(!1)}})()},[t]),r?X.jsx("p",{children:"Loading..."}):X.jsxs("div",{children:[X.jsx("h2",{children:"Invite Link"}),e?X.jsx("p",{children:e}):X.jsx("p",{children:"No invite link found."})]})},gP=()=>{const[t,e]=q.useState(null);return q.useEffect(()=>{var r;const n=(r=tf.initDataUnsafe)==null?void 0:r.user;n?e(n):console.error("User data is not available")},[]),t?X.jsxs("div",{children:[X.jsx("h2",{children:"User Details"}),X.jsxs("p",{children:[X.jsx("strong",{children:"Username:"})," ",t.username||"No username available"]}),X.jsxs("p",{children:[X.jsx("strong",{children:"ID:"})," ",t.id]}),X.jsxs("p",{children:[X.jsx("strong",{children:"First Name:"})," ",t.first_name]}),X.jsxs("p",{children:[X.jsx("strong",{children:"Last Name:"})," ",t.last_name||"No last name available"]}),X.jsxs("p",{children:[X.jsx("strong",{children:"Language Code:"})," ",t.language_code]}),X.jsxs("p",{children:[X.jsx("strong",{children:"Profile Photo:"}),X.jsx("br",{}),t.photo?X.jsx("img",{src:`https://api.telegram.org/file/bot<YOUR_BOT_TOKEN>/${t.photo.big_file_id}`,alt:"Profile"}):"No photo available"]})]}):X.jsx("div",{children:"Loading..."})},yP=()=>X.jsxs("div",{children:[X.jsx("h2",{children:"Ana Sayfa"}),X.jsx("p",{children:"Hoş geldiniz!"}),X.jsx(Ou,{to:"/profile",children:X.jsx("button",{children:"Profil Sayfasına Git"})}),X.jsx(Ou,{to:"/user-data",children:X.jsx("button",{children:"Kullanıcı Verilerine Git"})}),X.jsx(Ou,{to:"/tap-to-earn",children:X.jsx("button",{children:"oyna"})})]}),vP=({userId:t})=>{const[e,n]=q.useState(0);q.useEffect(()=>{(async()=>{try{const o=cl(fl,"users",t),a=await Mf(o);if(a.exists()){const l=a.data();l&&l.clicks&&n(l.clicks)}}catch(o){console.error("Error fetching user data:",o)}})()},[t]);const r=async()=>{try{const i=e+1,o=cl(fl,"users",t);await R_(o,{clicks:i},{merge:!0}),n(i)}catch(i){console.error("Error updating clicks:",i)}};return X.jsxs("div",{children:[X.jsx("h2",{children:"Tap to Earn"}),X.jsxs("p",{children:["Puanlarınız: ",e]}),X.jsx("button",{onClick:r,children:"Tap Here!"})]})};async function _P(t){const e=cl(fl,"users",t.id.toString());(await Mf(e)).exists()?await uP(e,{first_name:t.first_name}):await R_(e,t)}function EP(){const[t,e]=q.useState(""),[n,r]=q.useState(0),[i,o]=q.useState("");return q.useEffect(()=>{(async()=>{var u;const l=(u=tf.initDataUnsafe)==null?void 0:u.user;l&&(e(l.username||"Kullanıcı adı yok"),r(l.id),o(l.photo?l.photo.big_file_id:"default-profile-pic.png"),await _P(l))})()},[]),X.jsx(w1,{children:X.jsxs("div",{children:[X.jsx("h1",{children:"Vite + React"}),X.jsxs(p1,{children:[X.jsx(ei,{path:"/",element:X.jsx(yP,{})}),X.jsx(ei,{path:"/profile",element:X.jsx(R1,{username:t,userId:n,photoUrl:i})}),X.jsx(ei,{path:"/user-data",element:X.jsx(mP,{userId:n.toString()})}),X.jsx(ei,{path:"/tap-to-earn",element:X.jsx(vP,{userId:n.toString()})}),X.jsx(ei,{path:"/user-details",element:X.jsx(gP,{})})]})]})})}tf.ready();$u.createRoot(document.getElementById("root")).render(X.jsx(Fm.StrictMode,{children:X.jsx(EP,{})}));
